!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(1);class r{constructor(e,t={}){this._component=o.a.parse(this._base(t)),this._tag="#"+t.id,this._parentSelector=e,this._info=t,this._init(),document.querySelector(this._parentSelector).appendChild(this._component)}_init(){this._initListeners(this._info.listeners)}_initListeners(e){e&&e.forEach(e=>{this._component.addEventListener(e.type,e.action)})}_base(e){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{static parse(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector("body").firstChild}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e,t){this._type=e,this._action=t}get type(){return this._type}get action(){return this._action}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e,t,n="submit",...o){let r=document.createElement("button");return r.classList=t,r.setAttribute("type",n),r.innerHTML=e,o&&o.forEach(e=>r.addEventListener(e.type,e.action)),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(11),n(7);class o{addToken(e,t){let n=`${e} ${t}`;window.localStorage.setItem("msaloonwbtoken",n)}storeItem(e,t){window.localStorage.setItem(e,t)}cleanToken(){window.localStorage.setItem("msaloonwbtoken",null)}get token(){return window.localStorage.getItem("msaloonwbtoken")}getStoredItem(e){return window.localStorage.getItem(e)}post(e,t){let n=this._buildTransactionDetails("POST",t);return this._buildFetchTransaction(e,n)}get(e){let t=this._buildTransactionDetails("GET",null);return this._buildFetchTransaction(e,t)}put(e,t){let n=this._buildTransactionDetails("PUT",t);return this._buildFetchTransaction(e,n)}delete(e){let t=this._buildTransactionDetails("DELETE",null);return fetch(e,t).then(e=>{if(e.ok)return!0;throw new Error("A transactional error has been happened.")})}_buildTransactionHeaders(){return new Headers({"Content-type":"Application/json",Authorization:this.token})}_buildTransactionDetails(e,t){return{method:e,body:t,headers:this._buildTransactionHeaders()}}_buildFetchTransaction(e,t){return fetch(e,t).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>!0);throw new Error("A transactional error has been happened.")})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0);class r extends o.a{updateFields(){document.querySelector(this._tag+" .fields").innerHTML="",document.querySelector(this._tag+" .fields").appendChild(this._template())}submit(){document.querySelector(this._tag).submit()}reset(){document.querySelector(this._tag).reset()}getData(){let e=[];return $(this._tag).serializeArray().forEach(t=>{e[t.name]=t.value}),e}getDataAsParams(){return $(this._tag).serialize()}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".fields").appendChild(this._info.initialContent),this._info.buttons&&this._info.initialButtons&&this._info.initialButtons.forEach(e=>this._component.querySelector(".buttons").appendChild(e))}_base(e){return`\n        <form id=${e.id} ${e.formClass?`class='${e.formClass}'`:""}>\n           <div class='fields'></div>\n           <div class='buttons'>\n                ${e.defaultButtons?'\n                <button type="submit" class="btn btn-primary">Salvar</button>\n                <button type="reset" class="btn btn-secondary">Limpar</button>\n                ':""}\n           </div>\n        </form>\n        `}_template(){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(1);var o=n(0);class r extends o.a{show(){$(this._tag).modal("show")}hide(){$(this._tag).modal("hide")}updateContent(e){document.querySelector(this._tag+" .modal-body").innerHTML="",document.querySelector(this._tag+" .modal-body").appendChild(e)}cleanContent(){document.querySelector(this._tag+" .modal-body").innerHTML=""}updateContentText(e){document.querySelector(this._tag+" .modal-body").innerHTML="<pre>"+e+"</pre>"}updateFooter(e){document.querySelector(this._tag+" .modal-footer").innerHTML="",document.querySelector(this._tag+" .modal-footer").appendChild(e)}cleanFooter(){document.querySelector(this._tag+" .modal-footer").innerHTML=""}get contentSelector(){return this._tag+" .modal-body"}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".modal-body").appendChild(this._info.initialContent),this._info.footer&&this._info.initialFooter&&this._component.querySelector(".modal-footer").appendChild(this._info.initialFooter)}_initListeners(e){e&&e.forEach(e=>{$(this._component).on(e.type,e.action)})}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="${e.label?e.label:"myLargeModal"}" aria-hidden="true">\n            <div class="modal-dialog ${e.modalClass?e.modalClass:""}" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">${e.title}</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n            \n                    <div class="modal-body">\n                    </div>\n\n                    ${e.footer?'\n                    <div class="modal-footer">\n                        \n                    </div>\n                    ':""}\n                </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(4);class r{constructor(){this._serverURL="http://localhost:8080/auth",this._webtoken="msaloonwbtoken",this._http=new o.a}hasValidToken(){return this._http.get(this._serverURL)}authenticate(e){let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}};return fetch(this._serverURL,t).then(e=>{if(e.ok&&200==e.status)return e.json();throw new Error("The signin data is not correct")}).then(e=>{this._http.addToken(e.type,e.token)})}logout(){this._http.cleanToken()}redirectToLoginPage(){window.location.href="/login.html"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{equals(e){throw new Error("The equals method must be implemented")}equalsFor(e){throw new Error("The equalsFor method must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{static create(e,t,n){return new Proxy(e,{get:(e,r,s)=>t.includes(r)&&o._isFuntion(e[r])?function(){let t=Reflect.apply(e[r],e,arguments);return n(e),t}:Reflect.get(e,r,s),set(e,o,r,s){let i=Reflect.set(e,o,r,s);return t.includes(o)&&n(e),i}})}static _isFuntion(e){return typeof e==typeof Function}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(0);class r extends o.a{constructor(e){super(e)}_base(e){return'\n        <nav class="sidebar">\n          <div class="sidebar-sticky">\n            <ul class="nav flex-column">\n              <li class="nav-item">\n                <a class="nav-link active" href="./schedule.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>\n                  Dashboard <span class="sr-only">(current)</span>\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./customers.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>\n                  Clientes\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./professionals.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Profissionais\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./vendors.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Fornecedores\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./purchases.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Compras\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./appointments.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Atendimentos (Consultas)\n                </a>\n              </li>\n            </ul>\n    \n            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n              <span>Minha Conta</span>\n            </h6>\n            <ul class="nav flex-column mb-2">\n              <li class="nav-item">\n                <a class="nav-link" href="./profile.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>\n                  Meu Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        '}}class s extends o.a{constructor(e,t){super(e),this._initHeaderNavigation(t)}_initHeaderNavigation(e){this._component.querySelector("a.logout").addEventListener(e.type,e.action)}_base(e){return'\n        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\n            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">My Saloon Web</a>\n            <input class="form-control form-control-dark w-100" type="text" placeholder="Pesquisar" aria-label="Pesquisar">\n            <ul class="navbar-nav px-3">\n                <li class="nav-item text-nowrap">\n                <a class="nav-link logout" href="#">Logoff</a>\n                </li>\n            </ul>\n        </nav>\n        '}}var i=n(2),a=n(7),l=n(1);class d extends o.a{constructor(){super("#headerNavigation"),this._initLoaderComponent()}start(){this._component.appendChild(this._loaderComponent),this._component.classList.add("pre-loader-running")}stop(){this._component.innerHTML="",this._component.classList.remove("pre-loader-running")}run(e){this.start(),e.then(()=>{this.stop()})}_initLoaderComponent(){this._loaderComponent=l.a.parse('\n        <div class="loader-panel">\n            <div id="loader4">\n                <span class="loader loader-1"></span>\n                <span class="loader loader-2"></span>\n                <span class="loader loader-3"></span>\n                <span class="loader loader-4"></span>\n            </div>\n        </div>\n        ')}_base(){return'\n        <div class="row" id="preLoader">\n            \n        </div>\n        '}}class c{constructor(){this._preLoader=new d,this._authService=new a.a,this._validAuthenticatedClient(),this._headerNav=new s("#headerNavigation",new i.a("click",e=>{this.doLogoff()})),this._dashboardNav=new r("#dashboardNavigation"),this._init()}doLogoff(){this._authService.logout(),this._authService.redirectToLoginPage()}_init(){throw new Error("the _init() method must be implemented")}_validAuthenticatedClient(){this._authService.hasValidToken().catch(()=>{this._authService.redirectToLoginPage()})}}},function(e,t,n){"use strict"},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(9);class r{constructor(e,t,...n){let r=o.a.create(e,n,e=>t.update(e));return t.update(e),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(){this._title="",this._message="",this._type="primary"}update(e,t="",n="primary"){this._title=t,this._message=e,this._type=n}get title(){return this._title}get message(){return this._message}get type(){return this._type}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o extends class{constructor(e){this._element=e}_template(e){throw new Error("Template method must be implemented")}update(e){this._element.innerHTML=this._template(e)}}{_template(e){return`\n        <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n            <h4 class="alert-heading">${e.title}</h4>\n            <p class='text-muted'>${e.message}</p>\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n        </div>\n        `}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(){this._list=[],this._pageableInfo=void 0}clean(){this._list=[],this._pageableInfo=void 0}add(e){this._list.some(t=>t.equals(e))?this._list.forEach((t,n)=>{t.equals(e)&&(this._list[n]=e)}):this._list.push(e)}find(e){return this._list.find(t=>t.equalsFor(e))}updatePageableInfo(e){this._pageableInfo=e}remove(e){this._list.forEach((t,n)=>{t.equalsFor(e)&&this._list.splice(n,1)})}get list(){return this._list}get pageableInfo(){return this._pageableInfo}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0);class r extends o.a{_updateList(e){let t=document.querySelector(this._tag+" tbody");t.innerHTML="",e.forEach(e=>t.appendChild(e))}_appendItem(e){document.querySelector(this._tag+" tbody").appendChild(e)}_cleanTable(){document.querySelector(this._tag+" tbody").innerHTML=""}_removeLine(e){document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`).remove()}_updateLine(e,t){let n=document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`);n.parentNode.replaceChild(t,n)}_createTableLine(e,t,...n){let o=document.createElement("tr");if(o.setAttribute("data-key",e),t.forEach(e=>{let t=document.createElement("td");t.innerHTML=e,o.appendChild(t)}),n){let e=document.createElement("td");n.forEach(t=>e.appendChild(t)),o.appendChild(e)}return o}_base(e){return`\n        <table class="table table-hover" id=${e.id}>\n            <thead>\n                <tr>\n                    ${e.headers.map(e=>`\n                        <th scope="col">${e}</th>\n                    `).join("")}\n                </tr>\n            </thead>\n            <tbody>\n                ${e.initialContent?initialContent:""}\n            </tbody>\n        </table>\n        `}}class s extends r{updateFromModel(e){this._cleanTable(),e.list.forEach(e=>this._appendItem(this._createLineTableFromModel(e)))}_createLineTableFromModel(e){throw new Error("_createLineTableFromModel must been implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(6);class r extends o.a{constructor(e,t,n){super(e,t),this._removeAction=n}_init(){super._init(),this._component.querySelector(this._tag+" form").addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(this._tag+' form input[name="key"]').value;this._removeAction(t)})}update(e,t){document.querySelector(this._tag+" .modal-body .alert").innerHTML=e,document.querySelector(this._tag+' form input[name="key"]').value=t}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog">\n            <div class="modal-dialog modal-sm" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                <h5 class="modal-title">${e.title}</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                </div>\n                <div class="modal-body">\n                <div class="alert alert-danger" role="alert">\n                    ${e.message}\n                </div>\n                <p class="text-muted">Essa ação não poderá ser desfeita</p>\n                <form>\n                    <input type="hidden" name="key">\n                    <button class="btn btn-danger btn-sm btn-block" type="submit">${e.buttonLabel}</button>\n                </form>\n                </div>\n            </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(9);class r{constructor(e,t,...n){let r=o.a.create(e,n,e=>t.updateFromModel(e));return t.updateFromModel(e),r}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(8);class r extends o.a{constructor(e,t,n,o,r=""){super(),this._name=e,this._phone=t,this._secondaryPhone=n,this._notes=o,this._id=r}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get name(){return this._name}get phone(){return this._phone}get secondaryPhone(){return this._secondaryPhone}get notes(){return this._notes}get id(){return this._id}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(4),r=n(25);class s{constructor(){this._serverUrl="http://localhost:8080/vendors",this._http=new o.a}getAll(){return this._http.get(this._serverUrl).then(e=>e.map(e=>this._getFromData(e))).catch(e=>{throw console.log(e),new Error("Não foi possivel listar os fornecedores")})}getById(e){let t=`${this._serverUrl}/${e}`;return this._http.get(t).then(e=>this._getFromData(e))}create(e){return this._http.post(this._serverUrl,JSON.stringify(e)).then(e=>this._getFromData(e))}update(e){let t=`${this._serverUrl}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getFromData(e))}delete(e){let t=`${this._serverUrl}/${e}`;return this._http.delete(t)}_getFromData(e){return new r.a(e.name,e.phone,e.secondaryPhone,e.notes,e.id)}}},,,,,,function(e,t,n){"use strict";n.r(t);var o=n(14),r=n(18),s=n(27),i=n(15),a=n(16),l=n(6),d=n(5),c=n(25);class h{constructor(e,t,n,o,r=""){this.name=e,this.phone=t,this.secondaryPhone=n,this.notes=o,this.id=r}}var u=n(1);class m extends d.a{constructor(e,...t){super(e,{id:"vendorForm",listeners:t}),this._vendor=new c.a,this.updateFields()}set vendor(e){this._vendor=e,this.updateFields()}getVendorDTO(){let e=this.getData();return new h(e.name,e.phone,e.secondaryPhone,e.notes,e.id)}_template(){let e=`\n            <div>\n                <input type="hidden" class="form-control" id="id" name="id" value="${this._vendor.id?this._vendor.id:""}">\n                <div class="form-group">\n                    <label for="name">Nome</label>\n                    <input type="text" min="3" max="20" class="form-control id="name" name="name" \n                        placeholder="Maria Souza Silva" value="${this._vendor.name?this._vendor.name:""}">\n                </div>\n        \n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="phone">Telefone</label>\n                        <input type="text" class="form-control" id="phone" name="phone" value="${this._vendor.phone?this._vendor.phone:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                        <label for="secondaryPhone">Telefone</label>\n                        <input type="text" class="form-control" id="secondaryPhone" name="secondaryPhone" value="${this._vendor.secondaryPhone?this._vendor.secondaryPhone:""}">\n                    </div>\n                </div>\n        \n                <div class="form-group">\n                    <label for="notes">Outras Informações</label>\n                    <textarea class="form-control" id="notes" name="notes">${this._vendor.notes?this._vendor.notes:""}</textarea>\n                </div>\n            </div>\n        `;return u.a.parse(e)}}var p=n(3),_=n(2),v=n(19);class f extends v.a{constructor(e,t,n){super(e,{id:"vendorsList",headers:["Nome","Telefone","Telefone","Notas","Ações"]}),this._editAction=t,this._removeAction=n}_createLineTableFromModel(e){let t=new p.a("Editar","btn btn-outline-primary btn-sm","button",new _.a("click",()=>this._editAction(e.id))),n=new p.a("Remover","btn btn-outline-danger btn-sm","button",new _.a("click",()=>this._removeAction(e.id)));return this._createTableLine(e.id,[e.name,e.phone,e.secondaryPhone,"<pre>"+e.notes+"</pre>"],t,n)}}var g=n(21),b=n(20),y=n(10);class w extends y.a{_init(){this._service=new s.a,this._initVendorsTable(),this._initAlertMessages(),this._initVendorFormModal(),this._initRemoveConfirmationModal(),this._initModalFormButtons(),document.querySelector(".btn-create-vendor").addEventListener("click",()=>{this._createVendor()})}saveVendorForm(){let e=this._vendorForm.getVendorDTO(),t=e.id?this._service.update(e):this._service.create(e);this._preLoader.run(t.then(e=>{this._vendors.add(e),this._message.update("","Os dados do fornecedors foram salvos com sucesso.","success"),this._modalForm.hide()}))}delete(e){this._preLoader.run(this._service.delete(e).then(()=>{this._vendors.remove(e),this._message.update("","O fornecedor foi removido","info")}).catch(e=>{this._message.update(e.message,"A operação falhou","warning")})),this._modalConfirmRemove.hide()}searchVendors(){this._preLoader.run(this._service.getAll().then(e=>{e.forEach(e=>this._vendors.add(e)),this._message.update("","Lista de fornecedores atualizada!","info")}).catch(e=>{this._message.update("Erro ao conectar ao servidor",e.message,"warning")}))}_initVendorFormModal(){this._modalForm=new l.a("main",{id:"mForm",title:"Formulário do Fornecedor",footer:!0}),this._vendorForm=new m(this._modalForm.contentSelector)}_initVendorsTable(){this._vendors=new g.a(new r.a,new f("#vendorsList",e=>{this._editVendor(e)},e=>{this._confirmRemoveVendor(e)}),"add","remove"),this.searchVendors()}_initAlertMessages(){this._message=new o.a(new i.a,new a.a(document.querySelector("#alertMessage")),"update")}_initRemoveConfirmationModal(){this._modalConfirmRemove=new b.a("main",{id:"modalConfirmRemove",title:"Remover Fornecedor",buttonLabel:"Remover definitivamente"},e=>{this.delete(e)})}_initModalFormButtons(){this._modalForm.updateFooter(new p.a("Salvar","btn btn-primary btn-lg","button",new _.a("click",()=>{this.saveVendorForm()})))}_createVendor(){this._vendorForm.vendor=new c.a,this._modalForm.show()}_editVendor(e){let t=this._vendors.find(e);this._vendorForm.vendor=t,this._modalForm.show()}_confirmRemoveVendor(e){let t=this._vendors.find(e);this._modalConfirmRemove.update(`Você tem certeza que deseja remover definitivamente o(a) professional <strong>${t.name}</strong> do sistema?`,t.id),this._modalConfirmRemove.show()}}new w}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0RPTVBhcnNlclV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0h0dHBIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZUxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvQmluZFByb3h5TW9kZWxWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQWxlcnRNZXNzYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9BbGVydE1lc3NhZ2VWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9Nb2RlbFZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbExpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTW9kZWxUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db25maXJtTW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvUHJveHlNb2RlbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1ZlbmRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvVmVuZG9yU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHRvcy9WZW5kb3JEVE8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1ZlbmRvckZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1ZlbmRvcnNUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvVmVuZG9yQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVuZG9yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tcG9uZW50IiwicGFyZW50U2VsZWN0b3IiLCJpbmZvIiwidGhpcyIsIl9jb21wb25lbnQiLCJwYXJzZSIsIl9iYXNlIiwiX3RhZyIsImlkIiwiX3BhcmVudFNlbGVjdG9yIiwiX2luZm8iLCJfaW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwiX2luaXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidHlwZSIsImFjdGlvbiIsIkVycm9yIiwiRE9NUGFyc2VyVXRpbCIsImh0bWxUZXh0IiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlyc3RDaGlsZCIsIkxpc3RlbmVyQWN0aW9uIiwiX3R5cGUiLCJfYWN0aW9uIiwiQnV0dG9uIiwibGFiZWwiLCJjc3MiLCJidG4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0Iiwic2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiSHR0cEhlbHBlciIsInRva2VuIiwiZGF0YSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJ0cmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRGZXRjaFRyYW5zYWN0aW9uIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJIZWFkZXJzIiwibWV0aG9kIiwiX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzIiwianNvbiIsImNhdGNoIiwiZXJyIiwiRm9ybSIsIl90ZW1wbGF0ZSIsInN1Ym1pdCIsInJlc2V0IiwiJCIsInNlcmlhbGl6ZUFycmF5IiwiaW5wdXQiLCJzZXJpYWxpemUiLCJzdXBlciIsImluaXRpYWxDb250ZW50IiwiYnV0dG9ucyIsImluaXRpYWxCdXR0b25zIiwiYnV0dG9uIiwiZm9ybUNsYXNzIiwiZGVmYXVsdEJ1dHRvbnMiLCJNb2RhbCIsIm1vZGFsIiwiY29udGVudCIsImZvb3RlciIsImluaXRpYWxGb290ZXIiLCJvbiIsIm1vZGFsQ2xhc3MiLCJ0aXRsZSIsIkF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIiwiX3NlcnZlclVSTCIsIl93ZWJ0b2tlbiIsIl9odHRwIiwiYXV0aERUTyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJhZGRUb2tlbiIsImNsZWFuVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJNb2RlbCIsIm90aGVyIiwiYXR0cmlidXRlIiwiUHJveHlGYWN0b3J5IiwicHJvcHMiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImluY2x1ZGVzIiwiX2lzRnVudGlvbiIsInJlc3VsdCIsIlJlZmxlY3QiLCJhcHBseSIsImFyZ3VtZW50cyIsInNldCIsImZ1bmMiLCJsb2dvZmZBY3Rpb24iLCJfaW5pdEhlYWRlck5hdmlnYXRpb24iLCJfaW5pdExvYWRlckNvbXBvbmVudCIsIl9sb2FkZXJDb21wb25lbnQiLCJhZGQiLCJyZW1vdmUiLCJwcm9taXNzZSIsInN0YXJ0Iiwic3RvcCIsIl9wcmVMb2FkZXIiLCJfYXV0aFNlcnZpY2UiLCJfdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50IiwiX2hlYWRlck5hdiIsImV2ZW50IiwiZG9Mb2dvZmYiLCJfZGFzaGJvYXJkTmF2IiwibG9nb3V0IiwicmVkaXJlY3RUb0xvZ2luUGFnZSIsImhhc1ZhbGlkVG9rZW4iLCJCaW5kUHJveHlNb2RlbFZpZXciLCJtb2RlbCIsInZpZXciLCJwcm94eSIsInVwZGF0ZSIsIkFsZXJ0TWVzc2FnZSIsIl90aXRsZSIsIl9tZXNzYWdlIiwibWVzc2FnZSIsImFsZXJ0VHlwZSIsInZpZXdFbGVtZW50IiwiX2VsZW1lbnQiLCJNb2RlbExpc3QiLCJfbGlzdCIsIl9wYWdlYWJsZUluZm8iLCJ1bmRlZmluZWQiLCJzb21lIiwiaXRlbSIsImVxdWFscyIsInB1c2giLCJmaW5kIiwiZXF1YWxzRm9yIiwicGFnZWFibGUiLCJzcGxpY2UiLCJ0ckxpc3QiLCJib2R5IiwidHIiLCJsaW5lIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImxpbmVLZXkiLCJhY3Rpb25zIiwiY29sIiwiYSIsImhlYWRlcnMiLCJtYXAiLCJqb2luIiwibW9kZWxMaXN0IiwiX2NsZWFuVGFibGUiLCJsaXN0IiwiX2FwcGVuZEl0ZW0iLCJfY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsIiwiQ29uZmlybU1vZGFsIiwicmVtb3ZlQWN0aW9uIiwiX3JlbW92ZUFjdGlvbiIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uTGFiZWwiLCJQcm94eU1vZGVsQ29tcG9uZW50IiwiY29tcG9uZW50IiwidXBkYXRlRnJvbU1vZGVsIiwiVmVuZG9yIiwicGhvbmUiLCJzZWNvbmRhcnlQaG9uZSIsIm5vdGVzIiwiX25hbWUiLCJfcGhvbmUiLCJfc2Vjb25kYXJ5UGhvbmUiLCJfbm90ZXMiLCJfaWQiLCJWZW5kb3JTZXJ2aWNlIiwiX3NlcnZlclVybCIsImRhdGFBcnJheSIsIl9nZXRGcm9tRGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInZlbmRvckR0byIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJWZW5kb3JEVE8iLCJfdmVuZG9yIiwidXBkYXRlRmllbGRzIiwidmVuZG9yIiwiZ2V0RGF0YSIsInRlbXBsYXRlIiwiTW9kZWxUYWJsZSIsImVkaXRBY3Rpb24iLCJfZWRpdEFjdGlvbiIsImJ0bkVkaXQiLCJidG5SZW1vdmUiLCJfY3JlYXRlVGFibGVMaW5lIiwiRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIiLCJfc2VydmljZSIsIl9pbml0VmVuZG9yc1RhYmxlIiwiX2luaXRBbGVydE1lc3NhZ2VzIiwiX2luaXRWZW5kb3JGb3JtTW9kYWwiLCJfaW5pdFJlbW92ZUNvbmZpcm1hdGlvbk1vZGFsIiwiX2luaXRNb2RhbEZvcm1CdXR0b25zIiwiX2NyZWF0ZVZlbmRvciIsImR0byIsIl92ZW5kb3JGb3JtIiwiZ2V0VmVuZG9yRFRPIiwic2F2ZVByb21pc3NlIiwicnVuIiwiX3ZlbmRvcnMiLCJfbW9kYWxGb3JtIiwiaGlkZSIsIl9tb2RhbENvbmZpcm1SZW1vdmUiLCJnZXRBbGwiLCJ2ZW5kb3JzIiwiY29udGVudFNlbGVjdG9yIiwiX2VkaXRWZW5kb3IiLCJfY29uZmlybVJlbW92ZVZlbmRvciIsInNlYXJjaFZlbmRvcnMiLCJBbGVydE1lc3NhZ2VWaWV3IiwidXBkYXRlRm9vdGVyIiwic2F2ZVZlbmRvckZvcm0iLCJzaG93Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFU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InZlbmRvci5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzMpO1xuIiwiaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBpbmZvPXt9KSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50ID0gRE9NUGFyc2VyVXRpbC5wYXJzZSh0aGlzLl9iYXNlKGluZm8pKTtcclxuICAgICAgICB0aGlzLl90YWcgPSBgIyR7aW5mby5pZH1gO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudFNlbGVjdG9yID0gcGFyZW50U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5mbyA9IGluZm87XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wYXJlbnRTZWxlY3RvcikuYXBwZW5kQ2hpbGQodGhpcy5fY29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9pbml0TGlzdGVuZXJzKHRoaXMuX2luZm8ubGlzdGVuZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLnR5cGUsIGxpc3RlbmVyLmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgbWV0aG9kIGZpZWxkc1RlbXBhbHRlIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERPTVBhcnNlclV0aWwge1xyXG4gICAgc3RhdGljIHBhcnNlKGh0bWxUZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbFRleHQsICd0ZXh0L2h0bWwnKS5kb2N1bWVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihgYm9keWApLmZpcnN0Q2hpbGQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0ZW5lckFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBhY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGxhYmVsLCBjc3MsIHR5cGU9J3N1Ym1pdCcsIC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGJ0bi5jbGFzc0xpc3QgPSBjc3M7XHJcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xyXG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSBsYWJlbDtcclxuXHJcbiAgICAgICAgaWYgKGxpc3RlbmVycykgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuYWN0aW9uKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBidG47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRmllbGRFcnJvciBmcm9tIFwiLi4vZm9ybXMvRmllbGRFcnJvclwiO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwSGVscGVyIHtcclxuICAgIGFkZFRva2VuKHR5cGUsIHRva2VuKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBgJHt0eXBlfSAke3Rva2VufWA7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtc2Fsb29ud2J0b2tlbicsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3JlSXRlbShsYWJlbCwgdmFsdWUpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obGFiZWwsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhblRva2VuKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXNhbG9vbndidG9rZW4nLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXNhbG9vbndidG9rZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yZWRJdGVtKGxhYmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsYWJlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUE9TVCcsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGVuZHBvaW50KSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdHRVQnLCBudWxsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1dChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUFVUJywgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoZW5kcG9pbnQpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ0RFTEVURScsIG51bGwpO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0cmFuc2FjdGlvbmFsIGVycm9yIGhhcyBiZWVuIGhhcHBlbmVkLicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYnVpbGRUcmFuc2FjdGlvbkhlYWRlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXJzKHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdBcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0aGlzLnRva2VuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKG1ldGhvZCwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdtZXRob2QnOiBtZXRob2QsXHJcbiAgICAgICAgICAgICdib2R5JzogZGF0YSxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiB0aGlzLl9idWlsZFRyYW5zYWN0aW9uSGVhZGVycygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oZGF0YSA9PiAgZGF0YSkuY2F0Y2goZXJyID0+IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdHJhbnNhY3Rpb25hbCBlcnJvciBoYXMgYmVlbiBoYXBwZW5lZC4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSBleHRlbmRzIENvbXBvbmVudHtcclxuICAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBmb3JtIGlkIGF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJmb3JtQ2xhc3NcIjogZm9ybSBjbGFzcyBleC4gJ2Zvcm0taG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbENvbnRlbnRcIjogZm9ybSBmaWVsZHMsXHJcbiAgICAgICAgICAgIFwiYnV0dG9uc1wiOiB0cnVlL2ZhbHNlIGZvciBmb3JtIGJ1dHRvbnMsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEJ1dHRvbnNcIjogZm9yIGluaXRpYWwgYnV0dG9ucyBjb250ZW50LFxyXG4gICAgICAgICAgICBcImRlZmF1bHRCdXR0b25zXCI6IHRydWUvZmFsc2UgZm9yIGRlZmF1bHQgYnV0dG9ucyxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBmb3JtIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlRmllbGRzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAuZmllbGRzYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5maWVsZHNgKS5hcHBlbmRDaGlsZCh0aGlzLl90ZW1wbGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGFnKS5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcclxuICAgICAgICAkKHRoaXMuX3RhZykuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGFBc1BhcmFtcygpIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLl90YWcpLnNlcmlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KSBcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmllbGRzXCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5idXR0b25zICYmIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMpXHJcbiAgICAgICAgICAgIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25zXCIpLmFwcGVuZENoaWxkKGJ1dHRvbikpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8Zm9ybSBpZD0ke2luZm8uaWR9ICR7aW5mby5mb3JtQ2xhc3MgPyBgY2xhc3M9JyR7aW5mby5mb3JtQ2xhc3N9J2AgOiAnJ30+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz0nZmllbGRzJz48L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPSdidXR0b25zJz5cclxuICAgICAgICAgICAgICAgICR7aW5mby5kZWZhdWx0QnV0dG9ucyA/IGBcclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+U2FsdmFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJyZXNldFwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5MaW1wYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIGAgOiAnJ31cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgbWV0aG9kIGZpZWxkc1RlbXBhbHRlIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgQ29tcG9uZW50e1xyXG4gICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogbW9kYWwgaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcImxhYmVsXCI6IG1vZGFsIGFyaWEtbGFiZWxsZWRieSBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwibW9kYWxDbGFzc1wiOiBtb2RhbCBjbGFzcyBleC4gJ21vZGFsLWxnJyxcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBtb2RhbCB0aXRsZSxcclxuICAgICAgICAgICAgXCJpbml0aWFsQ29udGVudFwiOiBtb2RhbCBib2R5LFxyXG4gICAgICAgICAgICBcImZvb3RlclwiOiB0cnVlL2ZhbHNlIGZvciBtb2RhbCBmb290ZXIsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEZvb3RlclwiOiBmb3IgaW5pdGlhbCBmb290ZXIgY29udGVudCxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBtb2RhbCBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgJCh0aGlzLl90YWcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICAkKHRoaXMuX3RhZykubW9kYWwoJ2hpZGUnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVDb250ZW50KGNvbnRlbnQpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkNvbnRlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29udGVudFRleHQoY29udGVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmlubmVySFRNTCA9ICc8cHJlPicgKyBjb250ZW50ICsgJzwvcHJlPic7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRm9vdGVyKGZvb3Rlcikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1mb290ZXJgKS5hcHBlbmRDaGlsZChmb290ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuRm9vdGVyKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRlbnRTZWxlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWA7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpIFxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib2R5XCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5mb290ZXIgJiYgdGhpcy5faW5mby5pbml0aWFsRm9vdGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1mb290ZXJcIikuYXBwZW5kQ2hpbGQodGhpcy5faW5mby5pbml0aWFsRm9vdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fY29tcG9uZW50KS5vbihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5hY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBpZD1cIiR7aW5mby5pZH1cIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIiR7aW5mby5sYWJlbCA/IGluZm8ubGFiZWwgOiAnbXlMYXJnZU1vZGFsJ31cIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyAke2luZm8ubW9kYWxDbGFzcyA/IGluZm8ubW9kYWxDbGFzcyA6ICcnfVwiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JHtpbmZvLnRpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5mb290ZXIgPyBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBIdHRwSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0h0dHBIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVSTCA9IGAke1NFUlZJQ0VfVVJMfS9hdXRoYDtcclxuICAgICAgICB0aGlzLl93ZWJ0b2tlbiA9ICdtc2Fsb29ud2J0b2tlbic7XHJcblxyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc1ZhbGlkVG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX3NlcnZlclVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXV0aGVudGljYXRlKGF1dGhEVE8pIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAnbWV0aG9kJzogJ1BPU1QnLFxyXG4gICAgICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KGF1dGhEVE8pLFxyXG4gICAgICAgICAgICAnaGVhZGVycyc6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnQXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3NlcnZlclVSTCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vayAmJiByZXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNpZ25pbiBkYXRhIGlzIG5vdCBjb3JyZWN0XCIpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faHR0cC5hZGRUb2tlbihkYXRhLnR5cGUsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgdGhpcy5faHR0cC5jbGVhblRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVkaXJlY3RUb0xvZ2luUGFnZSgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4uaHRtbCdcclxuICAgIH0gIFxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGVxdWFscyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihhdHRyaWJ1dGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlcXVhbHNGb3IgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5RmFjdG9yeSB7XHJcbiAgICBzdGF0aWMgY3JlYXRlKG9iamVjdCwgcHJvcHMsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkob2JqZWN0LCB7XHJcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkgJiYgUHJveHlGYWN0b3J5Ll9pc0Z1bnRpb24odGFyZ2V0W3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0W3Byb3BdLCB0YXJnZXQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkpIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIF9pc0Z1bnRpb24oZnVuYykge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YoZnVuYykgPT0gdHlwZW9mKEZ1bmN0aW9uKTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmROYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxuYXYgY2xhc3M9XCJzaWRlYmFyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci1zdGlja3lcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2IGZsZXgtY29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmsgYWN0aXZlXCIgaHJlZj1cIi4vc2NoZWR1bGUuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItaG9tZVwiPjxwYXRoIGQ9XCJNMyA5bDktNyA5IDd2MTFhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCI5IDIyIDkgMTIgMTUgMTIgMTUgMjJcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBEYXNoYm9hcmQgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+KGN1cnJlbnQpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9jdXN0b21lcnMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItdXNlcnNcIj48cGF0aCBkPVwiTTE3IDIxdi0yYTQgNCAwIDAgMC00LTRINWE0IDQgMCAwIDAtNCA0djJcIj48L3BhdGg+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjdcIiByPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGQ9XCJNMjMgMjF2LTJhNCA0IDAgMCAwLTMtMy44N1wiPjwvcGF0aD48cGF0aCBkPVwiTTE2IDMuMTNhNCA0IDAgMCAxIDAgNy43NVwiPjwvcGF0aD48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQ2xpZW50ZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHJvZmVzc2lvbmFscy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgUHJvZmlzc2lvbmFpc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi92ZW5kb3JzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBGb3JuZWNlZG9yZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHVyY2hhc2VzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBDb21wcmFzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL2FwcG9pbnRtZW50cy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQXRlbmRpbWVudG9zIChDb25zdWx0YXMpXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgIFxyXG4gICAgICAgICAgICA8aDYgY2xhc3M9XCJzaWRlYmFyLWhlYWRpbmcgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBweC0zIG10LTQgbWItMSB0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4+TWluaGEgQ29udGE8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvaDY+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdiBmbGV4LWNvbHVtbiBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9wcm9maWxlLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGUtdGV4dFwiPjxwYXRoIGQ9XCJNMTQgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjh6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxNCAyIDE0IDggMjAgOFwiPjwvcG9seWxpbmU+PGxpbmUgeDE9XCIxNlwiIHkxPVwiMTNcIiB4Mj1cIjhcIiB5Mj1cIjEzXCI+PC9saW5lPjxsaW5lIHgxPVwiMTZcIiB5MT1cIjE3XCIgeDI9XCI4XCIgeTI9XCIxN1wiPjwvbGluZT48cG9seWxpbmUgcG9pbnRzPVwiMTAgOSA5IDkgOCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgTWV1IFBlcmZpbFxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgbG9nb2ZmQWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcignYS5sb2dvdXQnKS5hZGRFdmVudExpc3RlbmVyKGxvZ29mZkFjdGlvbi50eXBlLCBsb2dvZmZBY3Rpb24uYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8bmF2IGNsYXNzPVwibmF2YmFyIG5hdmJhci1kYXJrIGZpeGVkLXRvcCBiZy1kYXJrIGZsZXgtbWQtbm93cmFwIHAtMCBzaGFkb3dcIj5cclxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXZiYXItYnJhbmQgY29sLXNtLTMgY29sLW1kLTIgbXItMFwiIGhyZWY9XCIjXCI+TXkgU2Fsb29uIFdlYjwvYT5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1kYXJrIHctMTAwXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBlc3F1aXNhclwiIGFyaWEtbGFiZWw9XCJQZXNxdWlzYXJcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2YmFyLW5hdiBweC0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSB0ZXh0LW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBsb2dvdXRcIiBocmVmPVwiI1wiPkxvZ29mZjwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgYFxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZUxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignI2hlYWRlck5hdmlnYXRpb24nKTtcclxuICAgICAgICB0aGlzLl9pbml0TG9hZGVyQ29tcG9uZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuX2xvYWRlckNvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3ByZS1sb2FkZXItcnVubmluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdwcmUtbG9hZGVyLXJ1bm5pbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBydW4ocHJvbWlzc2UpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgcHJvbWlzc2UudGhlbigoKSA9PiB7dGhpcy5zdG9wKCl9KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExvYWRlckNvbXBvbmVudCgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRlci1wYW5lbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGVyNFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTFcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItMlwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci0zXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTRcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHRoaXMuX2xvYWRlckNvbXBvbmVudCA9IERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIGlkPVwicHJlTG9hZGVyXCI+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IERhc2hib2FyZE5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9EYXNoYm9hcmROYXZpZ2F0aW9uJztcclxuaW1wb3J0IEhlYWRlck5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uJztcclxuaW1wb3J0IExpc3RlbmVyQWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24nO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UnO1xyXG5pbXBvcnQgUHJlTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvUHJlTG9hZGVyJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIgPSBuZXcgUHJlTG9hZGVyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLl92YWxpZEF1dGhlbnRpY2F0ZWRDbGllbnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faGVhZGVyTmF2ID0gbmV3IEhlYWRlck5hdmlnYXRpb24oJyNoZWFkZXJOYXZpZ2F0aW9uJywgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kb0xvZ29mZigpO1xyXG4gICAgICAgIH0pKTsgICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLl9kYXNoYm9hcmROYXYgPSBuZXcgRGFzaGJvYXJkTmF2aWdhdGlvbignI2Rhc2hib2FyZE5hdmlnYXRpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvTG9nb2ZmKCkge1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLmxvZ291dCgpO1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLnJlZGlyZWN0VG9Mb2dpblBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBfaW5pdCgpIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3ZhbGlkQXV0aGVudGljYXRlZENsaWVudCgpIHtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5oYXNWYWxpZFRva2VuKClcclxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt0aGlzLl9hdXRoU2VydmljZS5yZWRpcmVjdFRvTG9naW5QYWdlKCl9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm94eSBmcm9tICcuL1Byb3h5RmFjdG9yeSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmRQcm94eU1vZGVsVmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgLi4ucHJvcHMpIHtcclxuICAgICAgICBsZXQgcHJveHkgPSBQcm94eS5jcmVhdGUobW9kZWwsIHByb3BzLCBtb2RlbCA9PiB2aWV3LnVwZGF0ZShtb2RlbCkpO1xyXG4gICAgICAgIHZpZXcudXBkYXRlKG1vZGVsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxlcnRNZXNzYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gJyc7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAncHJpbWFyeSc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKG1lc3NhZ2UsIHRpdGxlPScnLCBhbGVydFR5cGU9J3ByaW1hcnknKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLl90eXBlID0gYWxlcnRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1lc3NhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kZWxWaWV3IGZyb20gXCIuL01vZGVsVmlld1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxlcnRNZXNzYWdlVmlldyBleHRlbmRzIE1vZGVsVmlld3tcclxuICAgIF90ZW1wbGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LSR7bW9kZWwudHlwZX0gYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgIDxoNCBjbGFzcz1cImFsZXJ0LWhlYWRpbmdcIj4ke21vZGVsLnRpdGxlfTwvaDQ+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzPSd0ZXh0LW11dGVkJz4ke21vZGVsLm1lc3NhZ2V9PC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbFZpZXcge1xyXG4gICAgY29uc3RydWN0b3Iodmlld0VsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdmlld0VsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3RlbXBsYXRlKG1vZGVsKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZSBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fdGVtcGxhdGUobW9kZWwpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLl9wYWdlYWJsZUluZm8gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW4oKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBhZGQobW9kZWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGlzdC5zb21lKGl0ZW0gPT4gaXRlbS5lcXVhbHMobW9kZWwpKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmVxdWFscyhtb2RlbCkpIHRoaXMuX2xpc3RbaV0gPSBtb2RlbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdC5wdXNoKG1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmluZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0LmZpbmQoaXRlbSA9PiBpdGVtLmVxdWFsc0ZvcihpZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVBhZ2VhYmxlSW5mbyhwYWdlYWJsZSkge1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHBhZ2VhYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShpZCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5lcXVhbHNGb3IoaWQpKSB0aGlzLl9saXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGlzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZWFibGVJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlYWJsZUluZm87XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIF91cGRhdGVMaXN0KHRyTGlzdCkge1xyXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IHRib2R5YCk7XHJcbiAgICAgICAgYm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0ckxpc3QuZm9yRWFjaCh0ciA9PiBib2R5LmFwcGVuZENoaWxkKHRyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2FwcGVuZEl0ZW0odHIpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICB9XHJcblxyXG4gICAgX2NsZWFuVGFibGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IHRib2R5YCkuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBfcmVtb3ZlTGluZShrZXkpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHkgdHJbZGF0YS1rZXk9XCIke2tleX1cIl1gKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfdXBkYXRlTGluZShrZXksIHRyKSB7XHJcbiAgICAgICAgbGV0IGxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHkgdHJbZGF0YS1rZXk9XCIke2tleX1cIl1gKTtcclxuICAgICAgICBsaW5lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRyLCBsaW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlVGFibGVMaW5lKGxpbmVLZXksIGRhdGEsIC4uLmFjdGlvbnMpIHtcclxuICAgICAgICBsZXQgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgbGluZUtleSk7XHJcblxyXG4gICAgICAgIGRhdGEuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIGNvbC5pbm5lckhUTUwgPSBwcm9wO1xyXG4gICAgICAgICAgICBsaW5lLmFwcGVuZENoaWxkKGNvbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGFjdGlvbnMpIHtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChhID0+IGNvbC5hcHBlbmRDaGlsZChhKSk7XHJcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY29sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaW5lO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWhvdmVyXCIgaWQ9JHtpbmZvLmlkfT5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5oZWFkZXJzLm1hcCh0aXRsZSA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPiR7dGl0bGV9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICR7aW5mby5pbml0aWFsQ29udGVudCA/IGluaXRpYWxDb250ZW50IDogJyd9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRhYmxlIGZyb20gXCIuL1RhYmxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbFRhYmxlIGV4dGVuZHMgVGFibGUge1xyXG4gICAgdXBkYXRlRnJvbU1vZGVsKG1vZGVsTGlzdCkge1xyXG4gICAgICAgIHRoaXMuX2NsZWFuVGFibGUoKTtcclxuICAgICAgICBtb2RlbExpc3QubGlzdC5mb3JFYWNoKG1vZGVsID0+IHRoaXMuX2FwcGVuZEl0ZW0odGhpcy5fY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsKG1vZGVsKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwobW9kZWwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ19jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwgbXVzdCBiZWVuIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpcm1Nb2RhbCBleHRlbmRzIE1vZGFse1xyXG4gICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogbW9kYWwgaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcInRpdGxlXCI6IG1vZGFsIHRpdGxlLFxyXG4gICAgICAgICAgICBcImJ1dHRvbkxhYmVsXCI6IGJ1dHRvbiBhY3Rpb24gZm9yIGNvbmZpcm0gYWN0aW9uLFxyXG4gICAgICAgICAgICBcIm9uQ29uZmlybVwiOiBhY3Rpb24gb24gY29uZmlybTtcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBtb2RhbCBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBpbmZvLCByZW1vdmVBY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3RvciwgaW5mbyk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uID0gcmVtb3ZlQWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gZm9ybWApLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSBmb3JtIGlucHV0W25hbWU9XCJrZXlcIl1gKS52YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKG1lc3NhZ2UsIHZhbHVlKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5IC5hbGVydGApLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IGZvcm0gaW5wdXRbbmFtZT1cImtleVwiXWApLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgaWQ9XCIke2luZm8uaWR9XCIgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4ke2luZm8udGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke2luZm8ubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+RXNzYSBhw6fDo28gbsOjbyBwb2RlcsOhIHNlciBkZXNmZWl0YTwvcD5cclxuICAgICAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlciBidG4tc20gYnRuLWJsb2NrXCIgdHlwZT1cInN1Ym1pdFwiPiR7aW5mby5idXR0b25MYWJlbH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm94eSBmcm9tICcuL1Byb3h5RmFjdG9yeSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5TW9kZWxDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIGNvbXBvbmVudCwgLi4ucHJvcHMpIHtcclxuICAgICAgICBsZXQgcHJveHkgPSBQcm94eS5jcmVhdGUobW9kZWwsIHByb3BzLCBtb2RlbCA9PiBjb21wb25lbnQudXBkYXRlRnJvbU1vZGVsKG1vZGVsKSk7XHJcbiAgICAgICAgY29tcG9uZW50LnVwZGF0ZUZyb21Nb2RlbChtb2RlbCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RlbCBmcm9tICcuL01vZGVsJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVuZG9yIGV4dGVuZHMgTW9kZWx7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwaG9uZSwgc2Vjb25kYXJ5UGhvbmUsIG5vdGVzLCBpZD0nJykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcGhvbmUgPSBwaG9uZTtcclxuICAgICAgICB0aGlzLl9zZWNvbmRhcnlQaG9uZSA9IHNlY29uZGFyeVBob25lO1xyXG4gICAgICAgIHRoaXMuX25vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gb3RoZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzRm9yKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwaG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGhvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNlY29uZGFyeVBob25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWNvbmRhcnlQaG9uZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbm90ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5pbXBvcnQgVmVuZG9yIGZyb20gJy4uL21vZGVscy9WZW5kb3InO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVuZG9yU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2ZXJVcmwgPSBgJHtTRVJWSUNFX1VSTH0vdmVuZG9yc2A7XHJcbiAgICAgICAgdGhpcy5faHR0cCA9IG5ldyBIdHRwSGVscGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9zZXJ2ZXJVcmwpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGFBcnJheSA9PiBkYXRhQXJyYXkubWFwKGRhdGEgPT4gdGhpcy5fZ2V0RnJvbURhdGEoZGF0YSkpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOw6NvIGZvaSBwb3NzaXZlbCBsaXN0YXIgb3MgZm9ybmVjZWRvcmVzJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJ5SWQoaWQpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVcmx9LyR7aWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0RnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSh2ZW5kb3JEdG8pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX3NlcnZlclVybCwgSlNPTi5zdHJpbmdpZnkodmVuZG9yRHRvKSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHZlbmRvckR0bykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVybH0vJHt2ZW5kb3JEdG8uaWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wdXQoZW5kcG9pbnQsIEpTT04uc3RyaW5naWZ5KHZlbmRvckR0bykpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0RnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVybH0vJHtpZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmRlbGV0ZShlbmRwb2ludCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEZyb21EYXRhKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlbmRvcihkYXRhWyduYW1lJ10sIGRhdGFbJ3Bob25lJ10sIGRhdGFbJ3NlY29uZGFyeVBob25lJ10sIGRhdGFbJ25vdGVzJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVuZG9yRFRPIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHBob25lLCBzZWNvbmRhcnlQaG9uZSwgbm90ZXMsIGlkPScnKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XHJcbiAgICAgICAgdGhpcy5zZWNvbmRhcnlQaG9uZSA9IHNlY29uZGFyeVBob25lO1xyXG4gICAgICAgIHRoaXMubm90ZXMgPSBub3RlcztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtXCI7XHJcbmltcG9ydCBWZW5kb3IgZnJvbSBcIi4uL21vZGVscy9WZW5kb3JcIjtcclxuaW1wb3J0IFZlbmRvckRUTyBmcm9tIFwiLi4vZHRvcy9WZW5kb3JEVE9cIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVuZG9yRm9ybSBleHRlbmRzIEZvcm17XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IsIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBcInZlbmRvckZvcm1cIixcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZlbmRvciA9IG5ldyBWZW5kb3IoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2ZW5kb3IodmVuZG9yKSB7XHJcbiAgICAgICAgdGhpcy5fdmVuZG9yID0gdmVuZG9yO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRmllbGRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVuZG9yRFRPKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZW5kb3JEVE8oZGF0YVsnbmFtZSddLCBkYXRhWydwaG9uZSddLCBkYXRhWydzZWNvbmRhcnlQaG9uZSddLCBkYXRhWydub3RlcyddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiaWRcIiBuYW1lPVwiaWRcIiB2YWx1ZT1cIiR7dGhpcy5fdmVuZG9yLmlkID8gdGhpcy5fdmVuZG9yLmlkIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJuYW1lXCI+Tm9tZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWluPVwiM1wiIG1heD1cIjIwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaWQ9XCJuYW1lXCIgbmFtZT1cIm5hbWVcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXJpYSBTb3V6YSBTaWx2YVwiIHZhbHVlPVwiJHt0aGlzLl92ZW5kb3IubmFtZSA/IHRoaXMuX3ZlbmRvci5uYW1lIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwaG9uZVwiPlRlbGVmb25lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInBob25lXCIgbmFtZT1cInBob25lXCIgdmFsdWU9XCIke3RoaXMuX3ZlbmRvci5waG9uZSA/IHRoaXMuX3ZlbmRvci5waG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJzZWNvbmRhcnlQaG9uZVwiPlRlbGVmb25lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInNlY29uZGFyeVBob25lXCIgbmFtZT1cInNlY29uZGFyeVBob25lXCIgdmFsdWU9XCIke3RoaXMuX3ZlbmRvci5zZWNvbmRhcnlQaG9uZSA/IHRoaXMuX3ZlbmRvci5zZWNvbmRhcnlQaG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJub3Rlc1wiPk91dHJhcyBJbmZvcm1hw6fDtWVzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cIm5vdGVzXCIgbmFtZT1cIm5vdGVzXCI+JHt0aGlzLl92ZW5kb3Iubm90ZXMgPyB0aGlzLl92ZW5kb3Iubm90ZXMgOiAnJ308L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHJldHVybiBET01QYXJzZXJVdGlsLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9uXCI7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9MaXN0ZW5lckFjdGlvblwiO1xyXG5pbXBvcnQgTW9kZWxUYWJsZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RlbFRhYmxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZW5kb3JzVGFibGUgZXh0ZW5kcyBNb2RlbFRhYmxle1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGVkaXRBY3Rpb24sIHJlbW92ZUFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICd2ZW5kb3JzTGlzdCcsXHJcbiAgICAgICAgICAgICdoZWFkZXJzJzogWydOb21lJywgJ1RlbGVmb25lJywgJ1RlbGVmb25lJywgJ05vdGFzJywgJ0HDp8O1ZXMnXSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fZWRpdEFjdGlvbiA9IGVkaXRBY3Rpb247XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uID0gcmVtb3ZlQWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwodmVuZG9yKSB7XHJcbiAgICAgICAgbGV0IGJ0bkVkaXQgPSBuZXcgQnV0dG9uKCdFZGl0YXInLCAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLXNtJywgJ2J1dHRvbicsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4gdGhpcy5fZWRpdEFjdGlvbih2ZW5kb3IuaWQpKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJ0blJlbW92ZSA9IG5ldyBCdXR0b24oJ1JlbW92ZXInLCAnYnRuIGJ0bi1vdXRsaW5lLWRhbmdlciBidG4tc20nLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9yZW1vdmVBY3Rpb24odmVuZG9yLmlkKSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVGFibGVMaW5lKHZlbmRvci5pZCwgXHJcbiAgICAgICAgICAgIFt2ZW5kb3IubmFtZSwgdmVuZG9yLnBob25lLCB2ZW5kb3Iuc2Vjb25kYXJ5UGhvbmUsICc8cHJlPicgKyB2ZW5kb3Iubm90ZXMgKyAnPC9wcmU+J10sIFxyXG4gICAgICAgICAgICBidG5FZGl0LCBidG5SZW1vdmUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEJpbmRQcm94eSBmcm9tICcuLi9oZWxwZXJzL0JpbmRQcm94eU1vZGVsVmlldydcclxuaW1wb3J0IE1vZGVsTGlzdCBmcm9tICcuLi9tb2RlbHMvTW9kZWxMaXN0J1xyXG5pbXBvcnQgVmVuZG9yU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9WZW5kb3JTZXJ2aWNlJztcclxuaW1wb3J0IEFsZXJ0TWVzc2FnZSBmcm9tICcuLi9tb2RlbHMvQWxlcnRNZXNzYWdlJztcclxuaW1wb3J0IEFsZXJ0TWVzc2FnZVZpZXcgZnJvbSAnLi4vdmlld3MvQWxlcnRNZXNzYWdlVmlldyc7XHJcblxyXG5pbXBvcnQgTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9Nb2RhbCc7XHJcbmltcG9ydCBWZW5kb3JGb3JtIGZyb20gJy4uL3ZpZXdzL1ZlbmRvckZvcm0nO1xyXG5pbXBvcnQgVmVuZG9yIGZyb20gJy4uL21vZGVscy9WZW5kb3InO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2NvbXBvbmVudHMvQnV0dG9uJztcclxuaW1wb3J0IExpc3RlbmVyQWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24nO1xyXG5pbXBvcnQgVmVuZG9yc1RhYmxlIGZyb20gJy4uL3ZpZXdzL1ZlbmRvcnNUYWJsZSc7XHJcbmltcG9ydCBQcm94eU1vZGVsQ29tcG9uZW50IGZyb20gJy4uL2hlbHBlcnMvUHJveHlNb2RlbENvbXBvbmVudCc7XHJcbmltcG9ydCBDb25maXJtTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9Db25maXJtTW9kYWwnO1xyXG5pbXBvcnQgRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIgZnJvbSAnLi9EZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZW5kb3JDb250cm9sbGVyIGV4dGVuZHMgRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIge1xyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBWZW5kb3JTZXJ2aWNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRWZW5kb3JzVGFibGUoKTtcclxuICAgICAgICB0aGlzLl9pbml0QWxlcnRNZXNzYWdlcygpO1xyXG4gICAgICAgIHRoaXMuX2luaXRWZW5kb3JGb3JtTW9kYWwoKTtcclxuICAgICAgICB0aGlzLl9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwoKTtcclxuICAgICAgICB0aGlzLl9pbml0TW9kYWxGb3JtQnV0dG9ucygpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNyZWF0ZS12ZW5kb3InKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9jcmVhdGVWZW5kb3IoKX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmVWZW5kb3JGb3JtKCkge1xyXG4gICAgICAgIGxldCBkdG8gPSB0aGlzLl92ZW5kb3JGb3JtLmdldFZlbmRvckRUTygpO1xyXG4gICAgICAgIGxldCBzYXZlUHJvbWlzc2UgPSBkdG8uaWQgPyB0aGlzLl9zZXJ2aWNlLnVwZGF0ZShkdG8pIDogdGhpcy5fc2VydmljZS5jcmVhdGUoZHRvKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIucnVuKFxyXG4gICAgICAgICAgICBzYXZlUHJvbWlzc2UudGhlbih2ZW5kb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVuZG9ycy5hZGQodmVuZG9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UudXBkYXRlKGBgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgT3MgZGFkb3MgZG8gZm9ybmVjZWRvcnMgZm9yYW0gc2Fsdm9zIGNvbSBzdWNlc3NvLmAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RhbEZvcm0uaGlkZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGlkKSB7XHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyLnJ1bihcclxuICAgICAgICAgICAgdGhpcy5fc2VydmljZS5kZWxldGUoaWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmVuZG9ycy5yZW1vdmUoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UudXBkYXRlKCcnLCAnTyBmb3JuZWNlZG9yIGZvaSByZW1vdmlkbycsICdpbmZvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZS51cGRhdGUoZXJyb3IubWVzc2FnZSwgJ0Egb3BlcmHDp8OjbyBmYWxob3UnLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX21vZGFsQ29uZmlybVJlbW92ZS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoVmVuZG9ycygpIHtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIucnVuKFxyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLmdldEFsbCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbih2ZW5kb3JzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2ZW5kb3JzLmZvckVhY2godmVuZG9yID0+IHRoaXMuX3ZlbmRvcnMuYWRkKHZlbmRvcikpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZS51cGRhdGUoJycsICdMaXN0YSBkZSBmb3JuZWNlZG9yZXMgYXR1YWxpemFkYSEnLCAnaW5mbycpO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UudXBkYXRlKCdFcnJvIGFvIGNvbmVjdGFyIGFvIHNlcnZpZG9yJywgZXJyb3IubWVzc2FnZSwgJ3dhcm5pbmcnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFZlbmRvckZvcm1Nb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0gPSBuZXcgTW9kYWwoJ21haW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdtRm9ybScsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdGb3JtdWzDoXJpbyBkbyBGb3JuZWNlZG9yJyxcclxuICAgICAgICAgICAgJ2Zvb3Rlcic6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fdmVuZG9yRm9ybSA9IG5ldyBWZW5kb3JGb3JtKHRoaXMuX21vZGFsRm9ybS5jb250ZW50U2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0VmVuZG9yc1RhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX3ZlbmRvcnMgPSBuZXcgUHJveHlNb2RlbENvbXBvbmVudChuZXcgTW9kZWxMaXN0KCksIFxyXG4gICAgICAgICAgICBuZXcgVmVuZG9yc1RhYmxlKCcjdmVuZG9yc0xpc3QnLCBcclxuICAgICAgICAgICAgICAgIGlkID0+IHt0aGlzLl9lZGl0VmVuZG9yKGlkKX0sIFxyXG4gICAgICAgICAgICAgICAgaWQgPT4ge3RoaXMuX2NvbmZpcm1SZW1vdmVWZW5kb3IoaWQpfSksIFxyXG4gICAgICAgICAgICAnYWRkJywgJ3JlbW92ZScpO1xyXG5cclxuICAgICAgICB0aGlzLnNlYXJjaFZlbmRvcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEFsZXJ0TWVzc2FnZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG5ldyBCaW5kUHJveHkobmV3IEFsZXJ0TWVzc2FnZSgpLFxyXG4gICAgICAgICAgICBuZXcgQWxlcnRNZXNzYWdlVmlldyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxlcnRNZXNzYWdlJykpLFxyXG4gICAgICAgICAgICAndXBkYXRlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRSZW1vdmVDb25maXJtYXRpb25Nb2RhbCgpIHtcclxuICAgICAgICBsZXQgbW9kYWxEZXRhaWxzID0ge1xyXG4gICAgICAgICAgICBcImlkXCI6IFwibW9kYWxDb25maXJtUmVtb3ZlXCIsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJSZW1vdmVyIEZvcm5lY2Vkb3JcIiwgXHJcbiAgICAgICAgICAgIFwiYnV0dG9uTGFiZWxcIjogXCJSZW1vdmVyIGRlZmluaXRpdmFtZW50ZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9tb2RhbENvbmZpcm1SZW1vdmUgPSBuZXcgQ29uZmlybU1vZGFsKFwibWFpblwiLCBtb2RhbERldGFpbHMsIGlkID0+IHt0aGlzLmRlbGV0ZShpZCl9KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdE1vZGFsRm9ybUJ1dHRvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnVwZGF0ZUZvb3RlcihcclxuICAgICAgICAgICAgbmV3IEJ1dHRvbignU2FsdmFyJywgJ2J0biBidG4tcHJpbWFyeSBidG4tbGcnLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4ge3RoaXMuc2F2ZVZlbmRvckZvcm0oKX0pKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZVZlbmRvcigpIHtcclxuICAgICAgICB0aGlzLl92ZW5kb3JGb3JtLnZlbmRvciA9IG5ldyBWZW5kb3IoKTtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0uc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9lZGl0VmVuZG9yKGlkKSB7XHJcbiAgICAgICAgbGV0IHZlbmRvciA9IHRoaXMuX3ZlbmRvcnMuZmluZChpZCk7XHJcbiAgICAgICAgdGhpcy5fdmVuZG9yRm9ybS52ZW5kb3IgPSB2ZW5kb3I7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBfY29uZmlybVJlbW92ZVZlbmRvcihpZCkge1xyXG4gICAgICAgIGxldCB2ZW5kb3IgPSB0aGlzLl92ZW5kb3JzLmZpbmQoaWQpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsQ29uZmlybVJlbW92ZS51cGRhdGUoXHJcbiAgICAgICAgICAgIGBWb2PDqiB0ZW0gY2VydGV6YSBxdWUgZGVzZWphIHJlbW92ZXIgZGVmaW5pdGl2YW1lbnRlIG8oYSkgcHJvZmVzc2lvbmFsIDxzdHJvbmc+JHt2ZW5kb3IubmFtZX08L3N0cm9uZz4gZG8gc2lzdGVtYT9gLCBcclxuICAgICAgICAgICAgdmVuZG9yLmlkKTtcclxuICAgICAgICB0aGlzLl9tb2RhbENvbmZpcm1SZW1vdmUuc2hvdygpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlbmRvckNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvVmVuZG9yQ29udHJvbGxlclwiO1xyXG5cclxubGV0IGNvbnRyb2xsZXIgPSBuZXcgVmVuZG9yQ29udHJvbGxlcigpOyJdLCJzb3VyY2VSb290IjoiIn0=