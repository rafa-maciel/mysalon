!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(1);class i{constructor(e,t={}){this._component=s.a.parse(this._base(t)),this._tag="#"+t.id,this._parentSelector=e,this._info=t,this._init(),document.querySelector(this._parentSelector).appendChild(this._component)}_init(){this._initListeners(this._info.listeners)}_initListeners(e){e&&e.forEach(e=>{this._component.addEventListener(e.type,e.action)})}_base(e){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static parse(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector("body").firstChild}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t){this._type=e,this._action=t}get type(){return this._type}get action(){return this._action}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t,n="submit",...s){let i=document.createElement("button");return i.classList=t,i.setAttribute("type",n),i.innerHTML=e,s&&s.forEach(e=>i.addEventListener(e.type,e.action)),i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(11),n(7);class s{addToken(e,t){let n=`${e} ${t}`;window.localStorage.setItem("msaloonwbtoken",n)}storeItem(e,t){window.localStorage.setItem(e,t)}cleanToken(){window.localStorage.setItem("msaloonwbtoken",null)}get token(){return window.localStorage.getItem("msaloonwbtoken")}getStoredItem(e){return window.localStorage.getItem(e)}post(e,t){let n=this._buildTransactionDetails("POST",t);return this._buildFetchTransaction(e,n)}get(e){let t=this._buildTransactionDetails("GET",null);return this._buildFetchTransaction(e,t)}put(e,t){let n=this._buildTransactionDetails("PUT",t);return this._buildFetchTransaction(e,n)}delete(e){let t=this._buildTransactionDetails("DELETE",null);return fetch(e,t).then(e=>{if(e.ok)return!0;throw new Error("A transactional error has been happened.")})}_buildTransactionHeaders(){return new Headers({"Content-type":"Application/json",Authorization:this.token})}_buildTransactionDetails(e,t){return{method:e,body:t,headers:this._buildTransactionHeaders()}}_buildFetchTransaction(e,t){return fetch(e,t).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>!0);throw new Error("A transactional error has been happened.")})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(0);class i extends s.a{updateFields(){document.querySelector(this._tag+" .fields").innerHTML="",document.querySelector(this._tag+" .fields").appendChild(this._template())}submit(){document.querySelector(this._tag).submit()}reset(){document.querySelector(this._tag).reset()}getData(){let e=[];return $(this._tag).serializeArray().forEach(t=>{e[t.name]=t.value}),e}getDataAsParams(){return $(this._tag).serialize()}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".fields").appendChild(this._info.initialContent),this._info.buttons&&this._info.initialButtons&&this._info.initialButtons.forEach(e=>this._component.querySelector(".buttons").appendChild(e))}_base(e){return`\n        <form id=${e.id} ${e.formClass?`class='${e.formClass}'`:""}>\n           <div class='fields'></div>\n           <div class='buttons'>\n                ${e.defaultButtons?'\n                <button type="submit" class="btn btn-primary">Salvar</button>\n                <button type="reset" class="btn btn-secondary">Limpar</button>\n                ':""}\n           </div>\n        </form>\n        `}_template(){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(1);var s=n(0);class i extends s.a{show(){$(this._tag).modal("show")}hide(){$(this._tag).modal("hide")}updateContent(e){document.querySelector(this._tag+" .modal-body").innerHTML="",document.querySelector(this._tag+" .modal-body").appendChild(e)}cleanContent(){document.querySelector(this._tag+" .modal-body").innerHTML=""}updateContentText(e){document.querySelector(this._tag+" .modal-body").innerHTML="<pre>"+e+"</pre>"}updateFooter(e){document.querySelector(this._tag+" .modal-footer").innerHTML="",document.querySelector(this._tag+" .modal-footer").appendChild(e)}cleanFooter(){document.querySelector(this._tag+" .modal-footer").innerHTML=""}get contentSelector(){return this._tag+" .modal-body"}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".modal-body").appendChild(this._info.initialContent),this._info.footer&&this._info.initialFooter&&this._component.querySelector(".modal-footer").appendChild(this._info.initialFooter)}_initListeners(e){e&&e.forEach(e=>{$(this._component).on(e.type,e.action)})}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="${e.label?e.label:"myLargeModal"}" aria-hidden="true">\n            <div class="modal-dialog ${e.modalClass?e.modalClass:""}" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">${e.title}</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n            \n                    <div class="modal-body">\n                    </div>\n\n                    ${e.footer?'\n                    <div class="modal-footer">\n                        \n                    </div>\n                    ':""}\n                </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(4);class i{constructor(){this._serverURL="http://localhost:8080/auth",this._webtoken="msaloonwbtoken",this._http=new s.a}hasValidToken(){return this._http.get(this._serverURL)}authenticate(e){let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}};return fetch(this._serverURL,t).then(e=>{if(e.ok&&200==e.status)return e.json();throw new Error("The signin data is not correct")}).then(e=>{this._http.addToken(e.type,e.token)})}logout(){this._http.cleanToken()}redirectToLoginPage(){window.location.href="/login.html"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{equals(e){throw new Error("The equals method must be implemented")}equalsFor(e){throw new Error("The equalsFor method must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static create(e,t,n){return new Proxy(e,{get:(e,i,o)=>t.includes(i)&&s._isFuntion(e[i])?function(){let t=Reflect.apply(e[i],e,arguments);return n(e),t}:Reflect.get(e,i,o),set(e,s,i,o){let a=Reflect.set(e,s,i,o);return t.includes(s)&&n(e),a}})}static _isFuntion(e){return typeof e==typeof Function}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(0);class i extends s.a{constructor(e){super(e)}_base(e){return'\n        <nav class="sidebar">\n          <div class="sidebar-sticky">\n            <ul class="nav flex-column">\n              <li class="nav-item">\n                <a class="nav-link active" href="./schedule.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>\n                  Dashboard <span class="sr-only">(current)</span>\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./customers.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>\n                  Clientes\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./professionals.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Profissionais\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./vendors.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Fornecedores\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./purchases.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Compras\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./appointments.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Atendimentos (Consultas)\n                </a>\n              </li>\n            </ul>\n    \n            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n              <span>Minha Conta</span>\n            </h6>\n            <ul class="nav flex-column mb-2">\n              <li class="nav-item">\n                <a class="nav-link" href="./profile.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>\n                  Meu Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        '}}class o extends s.a{constructor(e,t){super(e),this._initHeaderNavigation(t)}_initHeaderNavigation(e){this._component.querySelector("a.logout").addEventListener(e.type,e.action)}_base(e){return'\n        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\n            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">My Saloon Web</a>\n            <input class="form-control form-control-dark w-100" type="text" placeholder="Pesquisar" aria-label="Pesquisar">\n            <ul class="navbar-nav px-3">\n                <li class="nav-item text-nowrap">\n                <a class="nav-link logout" href="#">Logoff</a>\n                </li>\n            </ul>\n        </nav>\n        '}}var a=n(2),r=n(7),l=n(1);class d extends s.a{constructor(){super("#headerNavigation"),this._initLoaderComponent()}start(){this._component.appendChild(this._loaderComponent),this._component.classList.add("pre-loader-running")}stop(){this._component.innerHTML="",this._component.classList.remove("pre-loader-running")}run(e){this.start(),e.then(()=>{this.stop()})}_initLoaderComponent(){this._loaderComponent=l.a.parse('\n        <div class="loader-panel">\n            <div id="loader4">\n                <span class="loader loader-1"></span>\n                <span class="loader loader-2"></span>\n                <span class="loader loader-3"></span>\n                <span class="loader loader-4"></span>\n            </div>\n        </div>\n        ')}_base(){return'\n        <div class="row" id="preLoader">\n            \n        </div>\n        '}}class c{constructor(){this._preLoader=new d,this._authService=new r.a,this._validAuthenticatedClient(),this._headerNav=new o("#headerNavigation",new a.a("click",e=>{this.doLogoff()})),this._dashboardNav=new i("#dashboardNavigation"),this._init()}doLogoff(){this._authService.logout(),this._authService.redirectToLoginPage()}_init(){throw new Error("the _init() method must be implemented")}_validAuthenticatedClient(){this._authService.hasValidToken().catch(()=>{this._authService.redirectToLoginPage()})}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(8);class i extends s.a{constructor(e,t,n,s,i,o=""){super(),this._name=e,this._residencialPhone=t,this._cellphone=n,this._departament=s,this._id=o,this._email=i}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get name(){return this._name}get residencialPhone(){return this._residencialPhone}get cellphone(){return this._cellphone}get departament(){return this._departament}get email(){return this._email}get id(){return this._id}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static toString(e){return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`}static toDate(e){return new Date(e+"T03:00:00Z")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(9);class i{constructor(e,t,...n){let i=s.a.create(e,n,e=>t.update(e));return t.update(e),i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this._title="",this._message="",this._type="primary"}update(e,t="",n="primary"){this._title=t,this._message=e,this._type=n}get title(){return this._title}get message(){return this._message}get type(){return this._type}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s extends class{constructor(e){this._element=e}_template(e){throw new Error("Template method must be implemented")}update(e){this._element.innerHTML=this._template(e)}}{_template(e){return`\n        <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n            <h4 class="alert-heading">${e.title}</h4>\n            <p class='text-muted'>${e.message}</p>\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(12),i=(n(11),n(4));class o{constructor(){this._serverURL="http://localhost:8080/professionals",this._http=new i.a}getAllProfessionals(){let e=this._serverURL;return this._http.get(e).then(e=>e.map(e=>this._getProfessionalFromData(e)))}getProfessionalByID(e){let t=`${this._serverURL}/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e)).catch(e=>{throw console.log(e),new Error("Ocorreu um error na comunição com o servidor e não foi possivel encontrar o profissional solicitado")})}createProfessional(e){let t=this._serverURL;return this._http.post(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}updateProfessional(e){let t=`${this._serverURL}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}deteleProfessional(e){let t=`${this._serverURL}/${e}`;return this._http.delete(t)}getProfessionalByEmail(e){let t=`${this._serverURL}/email/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e))}restorePassword(e){return this._http.post("http://localhost:8080/accounts/restore",JSON.stringify({email:e}))}resetPassword(e){return this._http.post("http://localhost:8080/accounts/reset",JSON.stringify({password:e}))}_getProfessionalFromData(e){return new s.a(e.name,e.residencialPhone,e.cellphone,e.department,e.email,e.id)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this._list=[],this._pageableInfo=void 0}clean(){this._list=[],this._pageableInfo=void 0}add(e){this._list.some(t=>t.equals(e))?this._list.forEach((t,n)=>{t.equals(e)&&(this._list[n]=e)}):this._list.push(e)}find(e){return this._list.find(t=>t.equalsFor(e))}updatePageableInfo(e){this._pageableInfo=e}remove(e){this._list.forEach((t,n)=>{t.equalsFor(e)&&this._list.splice(n,1)})}get list(){return this._list}get pageableInfo(){return this._pageableInfo}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(0);class i extends s.a{_updateList(e){let t=document.querySelector(this._tag+" tbody");t.innerHTML="",e.forEach(e=>t.appendChild(e))}_appendItem(e){document.querySelector(this._tag+" tbody").appendChild(e)}_cleanTable(){document.querySelector(this._tag+" tbody").innerHTML=""}_removeLine(e){document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`).remove()}_updateLine(e,t){let n=document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`);n.parentNode.replaceChild(t,n)}_createTableLine(e,t,...n){let s=document.createElement("tr");if(s.setAttribute("data-key",e),t.forEach(e=>{let t=document.createElement("td");t.innerHTML=e,s.appendChild(t)}),n){let e=document.createElement("td");n.forEach(t=>e.appendChild(t)),s.appendChild(e)}return s}_base(e){return`\n        <table class="table table-hover" id=${e.id}>\n            <thead>\n                <tr>\n                    ${e.headers.map(e=>`\n                        <th scope="col">${e}</th>\n                    `).join("")}\n                </tr>\n            </thead>\n            <tbody>\n                ${e.initialContent?initialContent:""}\n            </tbody>\n        </table>\n        `}}class o extends i{updateFromModel(e){this._cleanTable(),e.list.forEach(e=>this._appendItem(this._createLineTableFromModel(e)))}_createLineTableFromModel(e){throw new Error("_createLineTableFromModel must been implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(6);class i extends s.a{constructor(e,t,n){super(e,t),this._removeAction=n}_init(){super._init(),this._component.querySelector(this._tag+" form").addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(this._tag+' form input[name="key"]').value;this._removeAction(t)})}update(e,t){document.querySelector(this._tag+" .modal-body .alert").innerHTML=e,document.querySelector(this._tag+' form input[name="key"]').value=t}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog">\n            <div class="modal-dialog modal-sm" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                <h5 class="modal-title">${e.title}</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                </div>\n                <div class="modal-body">\n                <div class="alert alert-danger" role="alert">\n                    ${e.message}\n                </div>\n                <p class="text-muted">Essa ação não poderá ser desfeita</p>\n                <form>\n                    <input type="hidden" name="key">\n                    <button class="btn btn-danger btn-sm btn-block" type="submit">${e.buttonLabel}</button>\n                </form>\n                </div>\n            </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(9);class i{constructor(e,t,...n){let i=s.a.create(e,n,e=>t.updateFromModel(e));return t.updateFromModel(e),i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(8);class i extends s.a{constructor(e,t,n,s,i,o=""){super(),this._fullname=e,this._residencialPhone=t,this._cellphone=n,this._indicatedBy=s,this._professionalEngaged=i,this._id=o}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get fullname(){return this._fullname}get residencialPhone(){return this._residencialPhone}get cellphone(){return this._cellphone}get indicatedBy(){return this._indicatedBy}get professionalEngaged(){return this._professionalEngaged}get id(){return this._id}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t,n,s,i,o,a,r,l,d,c=[]){this._pageNumber=e,this._pageSize=t,this._totalElements=n,this._totalPages=s,this._numberOfElements=i,this._first=o,this._last=a,this._number=r,this._size=l,this._empty=d,this._content=c}static buildFrom(e,t){let n=e.pageable;return new s(n.pageNumber,n.pageSize,e.totalElements,e.totalPages,e.numberOfElements,e.first,e.last,e.number,e.size,e.empty,t)}get pageNumber(){return this._pageNumber}get pageSize(){return this._pageSize}get totalElements(){return this._totalElements}get totalPages(){return this._totalPages}get numberOfElements(){return this._numberOfElements}get first(){return this._first}get last(){return this._last}get number(){return this._number}get size(){return this._size}get empty(){return this._empty}get content(){return this._content}get previous(){return this.number-1}get next(){return this.number+1}get hasNext(){return this._number<this._totalPages-1}get hasPrevious(){return this._number>0}get paged(){return this._totalPages>1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(0),i=n(1),o=n(3),a=n(2);class r extends s.a{constructor(e,t={},n){super(e,t),this._pageAction=n}update(e){document.querySelector(this._tag).innerHTML="",document.querySelector(this._tag).appendChild(this._template(e)),this._createPaginationNavButtons(e).forEach(e=>document.querySelector(this._tag+" .pagination").appendChild(e))}_createPaginationNavButtons(e){let t=[],n=new o.a("Anterior","page-link","button",new a.a("click",()=>this._pageAction(e.previous)));t.push(this._createListItem(!e.hasPrevious,n));for(let n=0;n<e.totalPages;n++){let s=new o.a(n+1,"page-link","button",new a.a("click",()=>this._pageAction(n)));t.push(this._createListItem(e.number==n,s))}let s=new o.a("Proxima","page-link","button",new a.a("click",()=>this._pageAction(e.next)));return t.push(this._createListItem(!e.hasNext,s)),t}_createListItem(e=!1,t){let n=document.createElement("li");return n.classList="page-item "+(e?"disabled":""),n.appendChild(t),n}_template(e){let t=e?`\n        <div>\n            <p class='text-muted'>Exibindo ${e.numberOfElements} de ${e.totalElements}</p>\n            <nav aria-label="Page navigation example">\n                <ul class="pagination justify-content-center">\n                </ul>\n            </nav>\n        </div>\n        `:"";return i.a.parse(t)}_base(e){return`\n        <div class="row>\n            <div class="col-sm-12 col-md-5">\n                <div id='${e.id}'><div>\n            </div>\n        </div>\n        `}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(4),i=n(22),o=n(23);class a{constructor(){this._serverURL="http://localhost:8080/customers",this._http=new s.a}getCustomers(e=null){let t=this._serverURL+"/search";return e&&(t=t+"?"+e),this._http.get(t).then(e=>o.a.buildFrom(e,e.content.map(e=>this._getCustomerFromData(e)))).catch(e=>{throw console.log(e),new Error("Não foi possivel conectar ao servidor")})}getCustomerByID(e){let t=`${this._serverURL}/${e}`;return this._http.get(t).then(e=>this._getCustomerFromData(e)).catch(e=>{throw console.log(e),new Error("Ocorreu um error na comunição com o servidor e não foi possivel encontrar o cliente solicitado")})}createCustomer(e){let t=this._serverURL;return this._http.post(t,JSON.stringify(e)).then(e=>this._getCustomerFromData(e))}updateCustomer(e){let t=`${this._serverURL}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getCustomerFromData(e))}deleteCustomer(e){let t=`${this._serverURL}/${e}`;return this._http.delete(t).catch(e=>{throw console.log(e),new Error("Não foi possivel remover o cliente solicitado")})}_getPageableCustomersFromData(e){let t=e.pageable;return new o.a(t.pageNumber,t.pageSize,e.totalElements,e.totalPages,e.numberOfElements,e.first,e.last,e.number,e.size,e.empty)}_getCustomerFromData(e){return new i.a(e.fullname,e.residencialPhone,e.cellphone,e.indicatedBy,e.professionalEngagedName,e.id)}_getFilterData(e){if(e.hasOwnProperty("name")||e.hasOwnProperty("professionalEngagedName")){return`name=${e.name?e.name:""}&professionalEngagedName=${e.professionalEngagedName?e.professionalEngagedName:""}`}return""}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e){this._paymentMethod=e,this._labels={CREDIT_CARD:"Cartão de Crédito",MONEY:"Dinheiro"}}equals(e){return null!=this._paymentMethod&&this._paymentMethod==e}get label(){return this._labels[this._paymentMethod]}get method(){return this._paymentMethod}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(5),i=n(22),o=n(1);class a{constructor(e,t,n,s,i,o=""){this.fullname=e,this.residencialPhone=t,this.cellphone=n,this.indicatedBy=s,this.professionalEngagedID=i,this.id=o}}var r=n(17);class l extends s.a{constructor(e,...t){super(e,{id:"customerForm",listeners:t}),this._customer=new i.a,this._professionalList=[],(new r.a).getAllProfessionals().then(e=>{this._professionalList=e,this.updateFields()})}set customer(e){this._customer=e,this.updateFields()}getCustomerDTO(){let e=this.getData();return new a(e.fullname,e.residencialPhone,e.cellphone,e.indicatedBy,e.professionalEngaged,e.id)}_template(){let e=`\n            <div>\n                <input type="hidden" class="form-control" id="id" name="id" value="${this._customer.id?this._customer.id:""}">\n                <div class="form-group">\n                    <label for="fullname">Nome</label>\n                    <input type="text" min="3" max="20" class="form-control" id="fullname" name="fullname" \n                        placeholder="Juliana Bandeiras" value="${this._customer.fullname?this._customer.fullname:""}">\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="residencialPhone">Telefone</label>\n                        <input type="text" class="form-control" id="residencialPhone" name="residencialPhone" value="${this._customer.residencialPhone?this._customer.residencialPhone:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                        <label for="cellphone">Celular</label>\n                        <input type="text" class="form-control" id="cellphone" name="cellphone" value="${this._customer.cellphone?this._customer.cellphone:""}">\n                    </div>\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="indicatedBy">Indicado Por</label>\n                        <input type="text" class="form-control" id="indicatedBy" name="indicatedBy" value="${this._customer.indicatedBy?this._customer.indicatedBy:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                        <label for="professionalEngaged">Profissional Responsável</label>\n                        <select id="professionalEngaged" class="form-control" name="professionalEngaged">\n                            ${this._professionalList.map(e=>`\n                                <option value="${e.id}" ${this._customer.professionalEngaged==e.name?"selected":""}>${e.name}</option>\n                            `).join("")}\n                        </select>\n                    </div>\n                </div>\n            </div>\n        `;return o.a.parse(e)}}},function(e,t,n){"use strict";n.r(t);var s=n(10),i=n(4),o=n(23),a=n(8),r=n(13);class l extends a.a{constructor(e,t,n,s,i,o,a,l=null,d=""){super(),this._customer=e,this._professional=t,this._date=n?new Date(r.a.toDate(n)):null,this._time=s,this._title=i,this._notes=o,this._done=a,this._service=l,this._id=d}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}set customer(e){this._customer=e}get customer(){return this._customer}get professional(){return this._professional}get date(){return this._date}get time(){return this._time}get title(){return this._title}get notes(){return this._notes}get done(){return this._done}get service(){return this._service}get id(){return this._id}}var d=n(22),c=n(12);class u extends a.a{constructor(e,t,n=null){super(),this._notes=e,this._payment=t,this._id=n}equals(e){return this._id==e.id}equalsFor(e){return this._id==other.id}get notes(){return this._notes}get payment(){return this._payment}get id(){return this._id}}var h=n(28);class p extends a.a{constructor(e,t,n,s,i=null){super(),this._value=e,this._method=t?new h.a(t):new h.a("MONEY"),this._date=n?new Date(r.a.toDate(n)):null,this._notes=s,this._id=i}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get value(){return this._value}get method(){return this._method}get date(){return this._date}get notes(){return this._notes}get id(){return this._id}}class m{constructor(){this._serverUrl="http://localhost:8080/appointments",this._http=new i.a}getPageableAppointments(e){let t=this._serverUrl+"/search";return e&&(t=t+"?"+e),this._http.get(t).then(e=>o.a.buildFrom(e,e.content.map(e=>this._getAppointmentFromData(e))))}getDetailed(e){let t=this._serverUrl+"/"+e;return this._http.get(t).then(e=>this._getAppointmentFromData(e))}createAppointment(e){let t=this._serverUrl;return this._http.post(t,JSON.stringify(e)).then(e=>this._getAppointmentFromData(e))}updateAppointment(e){let t=this._serverUrl+"/"+e.id;return this._http.put(t,JSON.stringify(e)).then(e=>this._getAppointmentFromData(e))}deleteAppointment(e){let t=this._serverUrl+"/"+e;return this._http.delete(t)}_getAppointmentFromData(e){let t=this._getCustomerFromData(e.customer),n=this._getProfessionalFromData(e.professional),s=e.service?this._getServiceFromData(e.service):null;return new l(t,n,e.date,e.time,e.title,e.notes,e.done,s,e.id)}_getCustomerFromData(e){return new d.a(e.fullname,e.residencialPhone,e.cellphone,e.indicatedBy,e.professionalEngagedName,e.id)}_getProfessionalFromData(e){return new c.a(e.name,e.residencialPhone,e.cellphone,e.department,e.email,e.id)}_getServiceFromData(e){let t=this._getPaymentFromData(e.payment);return new u(e.notes,t,e.id)}_getPaymentFromData(e){return new p(e.value,e.method,e.date,e.notes,e.id)}}var _=n(14),v=n(15),f=n(16),g=n(21),b=n(18),y=n(24),w=n(5),C=n(1),S=n(3),F=n(17);class T extends w.a{constructor(e,...t){super(e,{id:"appointmentSearchForm",buttons:!0,initialButtons:[new S.a("Filtrar","btn btn-primary btn-sm float-right","submit"),new S.a("Limpar Filtro","btn btn-secondary btn-sm","reset")],listeners:t}),(new F.a).getAllProfessionals().then(e=>{this._professionalsList=e,this.updateFields()})}_template(){let e=`\n            <div>\n                <div class="form-group">\n                    <label for="title">Titulo</label>\n                    <input type="text" class="form-control" name="title">\n                </div>\n\n                <div class="form-group">\n                    <label for="customerName">Cliente</label>\n                    <input type="text" class="form-control" name="customerName">\n                </div>\n\n                <div class="form-group">\n                    <label for="professionalId">Profissional</label>\n                    <select name="professionalId" class="form-control">\n                        <option value="">Todos</option>\n                        ${this._professionalsList.map(e=>`\n                            <option value="${e.id}">${e.name}</option>\n                        `).join("")}\n                    </select>\n                </div>\n\n                <div class="form-group">\n                    <label for="date">Data</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="dateOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div> \n\n                        <input type="date" class="form-control" id="date" name="date">\n                        <input type="date" class="form-control" id="dateMax" name="dateMax">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="time">Horário</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="timeOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div> \n\n                        <input type="time" class="form-control" name="time">\n                        <input type="time" class="form-control" name="timeMax">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="paymentValue">Valor Pago</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="paymentValueOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div>    \n                        <input type="number" min="0.00" step="0.01" class="form-control" name="paymentValue">\n                        <input type="number" min="0.00" step="0.01" class="form-control" name="paymentValueMax">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="paymentDate">Data do Pagamento</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="paymentDateOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div> \n\n                        <input type="date" class="form-control" name="paymentDate">\n                        <input type="date" class="form-control" name="paymentDateMax">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="paymentMethod">Tipo de Pagamento</label>\n                    <select name="paymentMethod" class="form-control">\n                        <option value="">Todos</option>\n                        <option value="CREDIT_CARD">Cartão de Crédito</option>\n                        <option value="MONEY">Dinheiro</option>\n                    </select>\n                </div>\n\n                <div class="form-group">\n                    <label for="done">Finalizado</label>\n                    <select name="done" class="form-control">\n                        <option value="">Todos</option>\n                        <option value="true">Finalizados</option>\n                        <option value="false">Em Aberto</option>\n                    </select>\n                </div>\n\n                <div class="row">\n                    <div class="form-group col-md-6">\n                        <label for="size">Itens por Pagina</label>\n                        <select name="size" class="form-control">\n                            <option value="20">20</option>\n                            <option value="10">10</option>\n                            <option value="5">5</option>\n                            <option value="2">2</option>\n                        </select>\n                    </div>\n\n                    <div class="form-group col-md-6">\n                        <label for="sort">Ordenar Por:</label>\n                        <select name="sort" class="form-control">\n                            <option value="">Sem Ordenação</option>\n                            <option value="title,ASC">Titulo (crescente)</option>\n                            <option value="title,DESC">Titulo (Decrescente)</option>\n                            <option value="date,ASC">Data (Crescente)</option>\n                            <option value="date,DESC">Data (Decrescente)</option>\n                        </select>\n                    </div>\n                </div>\n\n            </div>\n        `;return C.a.parse(e)}}var E=n(6),A=n(19),M=n(2);class L extends A.a{constructor(e,t,n){super(e,{id:"appointmentsTable",headers:["Cliente","Profissional","Data","Horário","Titulo","Concluido","Ações"]}),this._editAction=t,this._removeAction=n}_createLineTableFromModel(e){let t=new S.a("Editar","btn btn-outline-primary btn-sm","button",new M.a("click",()=>this._editAction(e.id))),n=new S.a("Remover","btn btn-outline-danger btn-sm","button",new M.a("click",()=>this._removeAction(e.id)));return this._createTableLine(e.id,[e.customer.fullname,e.professional.name,r.a.toString(e.date),e.time,e.title,e.done?"Sim":"Não"],t,n)}}var D=n(0);class x extends D.a{constructor(e,t){super(e,t)}addTab(e,t,n=!1){return this._component.querySelector("ul.nav-tabs").appendChild(this._createTabItem(e,t,n)),this._component.querySelector("div.tab-content").appendChild(this._createTabContent(t,n)),{contentId:"#"+t+"-content",tabId:"#"+t+"-tab"}}setTabAs(e,t=!0){t?this._component.querySelector("ul.nav-tabs "+e).classList.add("disabled"):this._component.querySelector("ul.nav-tabs "+e).classList.remove("disabled")}setAsActive(e,t){this._component.querySelectorAll("ul.nav-tabs li a").forEach(e=>e.classList.remove("active")),this._component.querySelectorAll("div.tab-content div").forEach(e=>{e.classList.remove("active"),e.classList.remove("show")}),this._component.querySelector(e).classList.add("active"),this._component.querySelector(t).classList.add("show"),this._component.querySelector(t).classList.add("active")}_createTabItem(e,t,n=!1){let s=`   \n        <li class="nav-item" role="presentation">\n            <a class="nav-link ${n?"active":""}" id="${t}-tab" data-toggle="tab" href="#${t}-content" role="tab" aria-controls="${e}" aria-selected="true">${e}</a>\n        </li>\n        `;return C.a.parse(s)}_createTabContent(e,t=!1){let n=`\n            <div class="tab-pane fade ${t?"show active":""}" id="${e}-content" role="tabpanel" aria-labelledby="${e}-tab"></div>\n        `;return C.a.parse(n)}_base(e){return'\n            <div>\n                <ul class="nav nav-tabs" role="tablist">\n                </ul>\n                <div class="tab-content">\n                </div>\n            </div>\n        '}}var P=n(30),$=n(26);class k extends A.a{constructor(e,t){super(e,{id:"customerSelectTable",headers:["Nome","Indicado Por","Profissional Responsável","Selecionar"]}),this._selectAction=t,this._customers=new b.a,this._customerService=new $.a,this._component.querySelector("#btnSearchCustomer").addEventListener("click",()=>{this.search()})}search(){let e="fullname="+this._component.querySelector("#searchCustomerName").value+"&size=3";this._customers.clean(),this._customerService.getCustomers(e).then(e=>{e.content.forEach(e=>{this._customers.add(e)}),this.updateFromModel(this._customers)})}_base(e){return'\n            <div>\n                <div class="form-group">\n                    <label for="customerName">Nome do Cliente</label>\n                    <div class="input-group">\n                        <input type="text" class="form-control" aria-describedby="button-addon25" id="searchCustomerName">\n                        <div class="input-group-append" id="button-addon25">\n                            <button class="btn btn-outline-primary" type="button" id="btnSearchCustomer">Buscar</button>\n                        </div>\n                    </div>\n                </div>\n            <div>\n        '+super._base(e)}_createLineTableFromModel(e){let t=new S.a("Selecionar","btn btn-outline-primary btn-sm","button",new M.a("click",()=>{this._selectAction(e)}));return this._createTableLine(e.id,[e.fullname,e.indicatedBy,e.professionalEngaged],t)}}class q{constructor(e,t,n,s,i,o,a=!1,l=null,d=null,c=null,u=null,h=null,p=null){this.customerId=e,this.professionalId=t,this.date=n?new Date(r.a.toDate(n)):null,this.time=s,this.title=i,this.notes=o,this.done=a,this.id=l,this.serviceNotes=d,this.paymentValue=c,this.paymentMethod=u,this.paymentDate=h,this.paymentNotes=p}setService(e){this.serviceNotes=e}setPayment(e,t,n,s){this.paymentValue=e,this.paymentMethod=t,this.paymentDate=n?new Date(r.a.toDate(n)):null,this.paymentNotes=s}}class N extends w.a{constructor(e,...t){super(e,{id:"appointmentForm",listeners:t}),this._appointment=new l,this._professionalList=[],(new F.a).getAllProfessionals().then(e=>{this._professionalList=e,this.updateFields()}),this._customerModal=new E.a("main",{id:"customerSelectionModal",title:"Cadastrar novo Cliente",footer:!0}),this._customerService=new $.a}_showForNewCustomer(){this._customerModal.cleanContent(),this._customerForm=new P.a(this._customerModal.contentSelector),this._customerModal.updateFooter(new S.a("Cadastrar","btn btn-primary btn-block","button",new M.a("click",()=>{this._submitNewCustomerForm()}))),this._customerModal.show()}_showForSearchCustomer(){this._customerModal.cleanContent(),this._customerForm=new k(this._customerModal.contentSelector,e=>{this._setCustomer(e),this._customerModal.hide()}),this._customerModal.cleanFooter(),this._customerModal.show()}_submitNewCustomerForm(){let e=this._customerForm.getCustomerDTO();this._customerService.createCustomer(e).then(e=>{this._setCustomer(e),this._customerModal.hide()})}_setCustomer(e){this._appointment.customer=e,this.updateFields()}set appointment(e){this._appointment=e,this.updateFields()}getAsDTO(){let e=this.getData();return new q(e.customerId,e.professionalId,e.date,e.time,e.title,e.notes,e.done,e.id)}_template(){let e=`\n            <div>\n                <input type="hidden" class="form-control" name="id" \n                    value="${this._appointment.id?this._appointment.id:""}" />\n                <input type="hidden" class="form-control" name="customerId"\n                    value="${this._appointment.customer?this._appointment.customer.id:""}" />\n                \n                <div class="form-group">\n                    <label for="customerName">Cliente</label>\n                    <div class="input-group">\n                        <input type="text" class="form-control" aria-describedby="button-addon4" readonly name="customerName"\n                            value="${this._appointment.customer?this._appointment.customer.fullname:""}">\n                        <div class="input-group-append" id="button-addon4">\n                            <button class="btn btn-outline-primary" type="button" id="btnCreateCustomer">Novo</button>\n                            <button class="btn btn-outline-secondary" type="button" id="btnSearchCustomer">Encontrar</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="professionalId">Professional Responsável</label>\n                    <select name="professionalId" class="form-control">\n                        ${this._professionalList.map(e=>`\n                            <option value="${e.id}" ${this._appointment.professional&&this._appointment.professional.id==e.id?"selected":""}>\n                                    ${e.name}\n                            </option>\n                        `).join("")}\n                    </select>\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="date">Data</label>\n                        <input type="date" class="form-control" name="date" \n                            value="${this._appointment.date?this._appointment.date.toISOString().slice(0,10):""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                        <label for="time">Horário</label>\n                        <input type="time" class="form-control" name="time"\n                            value="${this._appointment.time?this._appointment.time:""}">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="title">Titulo</label>\n                    <input type="text" class="form-control" name="title"\n                        value="${this._appointment.title?this._appointment.title:""}">\n                </div>\n\n                <div class="form-group">\n                    <label for="notes">Anotações</label>\n                    <textarea class="form-control" name="notes">${this._appointment.notes?this._appointment.notes:""}</textarea>\n                </div>\n\n                ${this._appointment.id?`\n                    <div class="form-group form-check">\n                        <input type="checkbox" class="form-check-input" name="done" value="true" ${this._appointment.done?"checked":""}>\n                        <label class="form-check-label">Concluido</label>\n                    </div>\n                `:""}\n            </div>\n        `,t=C.a.parse(e);return t.querySelector("#btnCreateCustomer").addEventListener("click",()=>{this._showForNewCustomer()}),t.querySelector("#btnSearchCustomer").addEventListener("click",()=>{this._showForSearchCustomer()}),t}}class I extends w.a{constructor(e,...t){super(e,{id:"serviceForm",listeners:t}),this._service=new u,this.updateFields()}set service(e){this._service=e,this.updateFields()}_template(){let e=`\n            <div>\n                <div class="form-group">\n                    <label for="notes">Anotações/Informações</label>\n                    <textarea class="form-control" name="serviceNotes">${this._service.notes?this._service.notes:""}</textarea>\n                </div>\n            </div>\n        `;return C.a.parse(e)}}class R extends w.a{constructor(e,...t){super(e,{id:"paymentForm",listeners:t}),this._payment=new p,this.updateFields()}set payment(e){this._payment=e,this.updateFields()}_template(){let e=`\n            <div>       \n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="paymentValue">Valor</label>\n                        <input type="number" min="0.00" step="0.01" class="form-control" name="paymentValue"\n                            value="${this._payment.value?this._payment.value:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                        <label for="paymentMethod">Forma de Pagamento</label>\n                        <select name="paymentMethod" class="form-control">\n                            <option value="CREDIT_CARD" ${this._payment.method.equals("CREDIT_CARD")?"selected":""}>Cartão de Crédito</option>\n                            <option value="MONEY" ${this._payment.method.equals("CREDIT_CARD")?"selected":""}>Dinheiro</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                        <label for="paymentDate">Data</label>\n                        <input type="date" class="form-control" name="paymentDate"\n                            value="${this._payment.date?this._payment.date.toISOString().slice(0,10):""}">\n                    </div>\n                </div>\n    \n                <div class="form-group">\n                    <label for="paymentNotes">Anotações</label>\n                    <textarea class="form-control" name="paymentNotes">${this._payment.notes?this._payment.notes:""}</textarea>\n                </div>\n            </div>\n        `;return C.a.parse(e)}}class O extends x{constructor(e){super(e),this._appointmentTab=this.addTab("Atendimento","appointment",!0),this._appointmentForm=new N(this._appointmentTab.contentId),this._serviceTab=this.addTab("Serviço","service"),this._serviceForm=new I(this._serviceTab.contentId),this._paymentTab=this.addTab("Pagamento","payment"),this._paymentForm=new R(this._paymentTab.contentId),this._updateMode=!1}get appointmentForm(){return this._appointmentForm}getAppointmentDTO(){let e=this._appointmentForm.getAsDTO();if(this._updateMode){let t=this._serviceForm.getData();e.setService(t.serviceNotes);let n=this._paymentForm.getData();e.setPayment(n.paymentValue,n.paymentMethod,n.paymentDate,n.paymentNotes)}return e}newMode(){this._appointmentForm.appointment=new l,this.setTabAs(this._serviceTab.tabId,!0),this.setTabAs(this._paymentTab.tabId,!0),this.setAsActive(this._appointmentTab.tabId,this._appointmentTab.contentId),this._updateMode=!1}updateMode(e){this._appointmentForm.appointment=e,this._serviceForm.service=e.service?e.service:new u,this._paymentForm.payment=e.service&&e.service.payment?e.service.payment:new p,this.setTabAs(this._serviceTab.tabId,!1),this.setTabAs(this._paymentTab.tabId,!1),this.setAsActive(this._appointmentTab.tabId,this._appointmentTab.contentId),this._updateMode=!0}isUpdateMode(){return this._updateMode}}var H=n(20);class B extends s.a{_init(){this._service=new m,this._initAlertMessages(),this._initAppointmentsTable(),this._initAppointmentFormModal(),this._initRemoveConfirmationModal()}_initAlertMessages(){this._message=new _.a(new v.a,new f.a(document.querySelector("#alertMessage")),"update")}_initAppointmentsTable(){this._appointments=new g.a(new b.a,new L("#appointmentList",e=>{this._editAppointment(e)},e=>{this._showRemoveModalConfirmation(e)}),"add","remove","clean"),this._tableNav=new y.a("#appointmentList",{id:"tableNav"},e=>{this.searchAppointments(e)}),this._initAppointmentsSearchForm(),this.searchAppointments()}_initAppointmentsSearchForm(){this._searchModal=new E.a("main",{id:"searchModal",title:"Filtro de Pesquisa"}),document.querySelector(".btn-show-search-modal").addEventListener("click",()=>{this._searchModal.show()}),this._searchForm=new T(this._searchModal.contentSelector,new M.a("submit",e=>{e.preventDefault(),this.searchAppointments(),this._searchModal.hide()}))}_initAppointmentFormModal(){this._modalForm=new E.a("main",{id:"appointmentFormModal",title:"Formulário de Atendimento",footer:!0}),this._panelForm=new O(this._modalForm.contentSelector),this._modalForm.updateFooter(new S.a("Salvar","btn btn-primary btn-lg","button",new M.a("click",()=>{this.saveAppointmentForm()}))),document.querySelector(".btn-create-appointment").addEventListener("click",()=>{this._createAppointment()})}_initRemoveConfirmationModal(){this._modalRemoveConfirmation=new H.a("main",{id:"removeConfirmationModal",title:"Remover Atendimento",buttonLabel:"Remover Definitivamente"},e=>{this.deleteAppointment(e)})}_createAppointment(){this._panelForm.newMode(),this._modalForm.show()}_editAppointment(e){this._preLoader.run(this._service.getDetailed(e).then(e=>{this._panelForm.updateMode(e),this._modalForm.show()}))}_showRemoveModalConfirmation(e){let t=this._appointments.find(e);this._modalRemoveConfirmation.update(`\n            Você tem certeza que deseja remover definitivamente o atendimento do\n            cliente ${t.customer.fullname} marcado para o dia\n            ${r.a.toString(t.date)}?\n        `,e),this._modalRemoveConfirmation.show()}saveAppointmentForm(){let e=this._panelForm.getAppointmentDTO(),t=this._panelForm.isUpdateMode()?this._service.updateAppointment(e):this._service.createAppointment(e);this._preLoader.run(t.then(e=>{this._appointments.add(e),this._modalForm.hide(),this._message.update("","Os dados do atendimento foram salvos com sucesso","success")}))}searchAppointments(e=null){let t=this._searchForm.getDataAsParams();null!=e&&(t=t+"&page="+e),this._appointments.clean(),this._preLoader.run(this._service.getPageableAppointments(t).then(e=>{e.content.forEach(e=>{this._appointments.add(e)}),this._tableNav.update(e),this._message.update("A lista de atendimentos está atualizada","Lista Atualizada","info")}))}deleteAppointment(e){this._preLoader.run(this._service.deleteAppointment(e).then(()=>{this._modalRemoveConfirmation.hide(),this._appointments.remove(e),this._message.update("","Atendimento removido com sucesso","success")}))}}new B}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0RPTVBhcnNlclV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0h0dHBIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZUxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Qcm9mZXNzaW9uYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvRGF0ZUZvcm1hdEhlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9CaW5kUHJveHlNb2RlbFZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9BbGVydE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0FsZXJ0TWVzc2FnZVZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL01vZGVsVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvUHJvZmVzc2lvbmFsU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL01vZGVsTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RlbFRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NvbmZpcm1Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eU1vZGVsQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQ3VzdG9tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9QYWdlYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QYWdlYWJsZU5hdmlnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL0N1c3RvbWVyU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1BheW1lbnRNZXRob2QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2R0b3MvQ3VzdG9tZXJEVE8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0N1c3RvbWVyRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL0FwcG9pbnRtZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1BheW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL0FwcG9pbnRtZW50U2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvQXBwb2ludG1lbnRTZWFyY2hGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9BcHBvaW50bWVudFRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05hdlRhYlBhbmVsLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9DdXN0b21lclNlbGVjdFRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9kdG9zL0FwcG9pbnRtZW50c0RUTy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvQXBwb2ludG1lbnRGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9TZXJ2aWNlRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvUGF5bWVudEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0FwcG9pbnRtZW50VGFiUGFuZWxGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9BcHBvaW50bWVudENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcG9pbnRtZW50LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tcG9uZW50IiwicGFyZW50U2VsZWN0b3IiLCJpbmZvIiwidGhpcyIsIl9jb21wb25lbnQiLCJwYXJzZSIsIl9iYXNlIiwiX3RhZyIsImlkIiwiX3BhcmVudFNlbGVjdG9yIiwiX2luZm8iLCJfaW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwiX2luaXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidHlwZSIsImFjdGlvbiIsIkVycm9yIiwiRE9NUGFyc2VyVXRpbCIsImh0bWxUZXh0IiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlyc3RDaGlsZCIsIkxpc3RlbmVyQWN0aW9uIiwiX3R5cGUiLCJfYWN0aW9uIiwiQnV0dG9uIiwibGFiZWwiLCJjc3MiLCJidG4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0Iiwic2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiSHR0cEhlbHBlciIsInRva2VuIiwiZGF0YSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJ0cmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRGZXRjaFRyYW5zYWN0aW9uIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJIZWFkZXJzIiwibWV0aG9kIiwiX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzIiwianNvbiIsImNhdGNoIiwiZXJyIiwiRm9ybSIsIl90ZW1wbGF0ZSIsInN1Ym1pdCIsInJlc2V0IiwiJCIsInNlcmlhbGl6ZUFycmF5IiwiaW5wdXQiLCJzZXJpYWxpemUiLCJzdXBlciIsImluaXRpYWxDb250ZW50IiwiYnV0dG9ucyIsImluaXRpYWxCdXR0b25zIiwiYnV0dG9uIiwiZm9ybUNsYXNzIiwiZGVmYXVsdEJ1dHRvbnMiLCJNb2RhbCIsIm1vZGFsIiwiY29udGVudCIsImZvb3RlciIsImluaXRpYWxGb290ZXIiLCJvbiIsIm1vZGFsQ2xhc3MiLCJ0aXRsZSIsIkF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIiwiX3NlcnZlclVSTCIsIl93ZWJ0b2tlbiIsIl9odHRwIiwiYXV0aERUTyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJhZGRUb2tlbiIsImNsZWFuVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJNb2RlbCIsIm90aGVyIiwiYXR0cmlidXRlIiwiUHJveHlGYWN0b3J5IiwicHJvcHMiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImluY2x1ZGVzIiwiX2lzRnVudGlvbiIsInJlc3VsdCIsIlJlZmxlY3QiLCJhcHBseSIsImFyZ3VtZW50cyIsInNldCIsImZ1bmMiLCJsb2dvZmZBY3Rpb24iLCJfaW5pdEhlYWRlck5hdmlnYXRpb24iLCJfaW5pdExvYWRlckNvbXBvbmVudCIsIl9sb2FkZXJDb21wb25lbnQiLCJhZGQiLCJyZW1vdmUiLCJwcm9taXNzZSIsInN0YXJ0Iiwic3RvcCIsIl9wcmVMb2FkZXIiLCJfYXV0aFNlcnZpY2UiLCJfdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50IiwiX2hlYWRlck5hdiIsImV2ZW50IiwiZG9Mb2dvZmYiLCJfZGFzaGJvYXJkTmF2IiwibG9nb3V0IiwicmVkaXJlY3RUb0xvZ2luUGFnZSIsImhhc1ZhbGlkVG9rZW4iLCJQcm9mZXNzaW9uYWwiLCJyZXNpZGVuY2lhbFBob25lIiwiY2VsbHBob25lIiwiZGVwYXJ0YW1lbnQiLCJlbWFpbCIsIl9uYW1lIiwiX3Jlc2lkZW5jaWFsUGhvbmUiLCJfY2VsbHBob25lIiwiX2RlcGFydGFtZW50IiwiX2lkIiwiX2VtYWlsIiwiRGF0ZUZvcm1hdEhlbHBlciIsImRhdGUiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsIkRhdGUiLCJCaW5kUHJveHlNb2RlbFZpZXciLCJtb2RlbCIsInZpZXciLCJwcm94eSIsInVwZGF0ZSIsIkFsZXJ0TWVzc2FnZSIsIl90aXRsZSIsIl9tZXNzYWdlIiwibWVzc2FnZSIsImFsZXJ0VHlwZSIsInZpZXdFbGVtZW50IiwiX2VsZW1lbnQiLCJQcm9mZXNzaW9uYWxTZXJ2aWNlIiwiZGF0YUFycmF5IiwibWFwIiwiX2dldFByb2Zlc3Npb25hbEZyb21EYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicHJvZmVzc2lvbmFsRHRvIiwicG9zdCIsInB1dCIsImRlbGV0ZSIsInBhc3N3b3JkIiwiTW9kZWxMaXN0IiwiX2xpc3QiLCJfcGFnZWFibGVJbmZvIiwidW5kZWZpbmVkIiwic29tZSIsIml0ZW0iLCJlcXVhbHMiLCJwdXNoIiwiZmluZCIsImVxdWFsc0ZvciIsInBhZ2VhYmxlIiwic3BsaWNlIiwidHJMaXN0IiwiYm9keSIsInRyIiwibGluZSIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJsaW5lS2V5IiwiYWN0aW9ucyIsImNvbCIsImEiLCJoZWFkZXJzIiwiam9pbiIsIm1vZGVsTGlzdCIsIl9jbGVhblRhYmxlIiwibGlzdCIsIl9hcHBlbmRJdGVtIiwiX2NyZWF0ZUxpbmVUYWJsZUZyb21Nb2RlbCIsIkNvbmZpcm1Nb2RhbCIsInJlbW92ZUFjdGlvbiIsIl9yZW1vdmVBY3Rpb24iLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbkxhYmVsIiwiUHJveHlNb2RlbENvbXBvbmVudCIsImNvbXBvbmVudCIsInVwZGF0ZUZyb21Nb2RlbCIsIkN1c3RvbWVyIiwiZnVsbG5hbWUiLCJpbmRpY2F0ZWRCeSIsInByb2Zlc3Npb25hbEVuZ2FnZWQiLCJfZnVsbG5hbWUiLCJfaW5kaWNhdGVkQnkiLCJfcHJvZmVzc2lvbmFsRW5nYWdlZCIsIlBhZ2VhYmxlIiwicGFnZU51bWJlciIsInBhZ2VTaXplIiwidG90YWxFbGVtZW50cyIsInRvdGFsUGFnZXMiLCJudW1iZXJPZkVsZW1lbnRzIiwiZmlyc3QiLCJsYXN0IiwibnVtYmVyIiwic2l6ZSIsImVtcHR5IiwiX3BhZ2VOdW1iZXIiLCJfcGFnZVNpemUiLCJfdG90YWxFbGVtZW50cyIsIl90b3RhbFBhZ2VzIiwiX251bWJlck9mRWxlbWVudHMiLCJfZmlyc3QiLCJfbGFzdCIsIl9udW1iZXIiLCJfc2l6ZSIsIl9lbXB0eSIsIl9jb250ZW50IiwicGdkZXRhaWxzIiwiUGFnZWFibGVOYXZpZ2F0aW9uIiwicGFnZUFjdGlvbiIsIl9wYWdlQWN0aW9uIiwiX2NyZWF0ZVBhZ2luYXRpb25OYXZCdXR0b25zIiwibmF2IiwicHJldmlvdXNCdG4iLCJwcmV2aW91cyIsIl9jcmVhdGVMaXN0SXRlbSIsImhhc1ByZXZpb3VzIiwiaW5kZXgiLCJuZXh0QnRuIiwibmV4dCIsImhhc05leHQiLCJkaXNhYmxlZCIsInRlbXBsYXRlIiwiQ3VzdG9tZXJTZXJ2aWNlIiwicGFyYW1ldGVycyIsImJ1aWxkRnJvbSIsIl9nZXRDdXN0b21lckZyb21EYXRhIiwiY3VzdG9tZXJEdG8iLCJQYXltZW50TWV0aG9kIiwicGF5bWVudE1ldGhvZCIsIl9wYXltZW50TWV0aG9kIiwiX2xhYmVscyIsInN0cmluZ01ldGhvZCIsIkN1c3RvbWVyRFRPIiwicHJvZmVzc2lvbmFsRW5nYWdlZElEIiwiX2N1c3RvbWVyIiwiX3Byb2Zlc3Npb25hbExpc3QiLCJnZXRBbGxQcm9mZXNzaW9uYWxzIiwicHJvZmVzc2lvbmFsTGlzdCIsInVwZGF0ZUZpZWxkcyIsImN1c3RvbWVyIiwiZ2V0RGF0YSIsInByb2Zlc3Npb25hbCIsInRpbWUiLCJub3RlcyIsImRvbmUiLCJzZXJ2aWNlIiwiX3Byb2Zlc3Npb25hbCIsIl9kYXRlIiwidG9EYXRlIiwiX3RpbWUiLCJfbm90ZXMiLCJfZG9uZSIsIl9zZXJ2aWNlIiwicGF5bWVudCIsIl9wYXltZW50IiwiX3ZhbHVlIiwiX21ldGhvZCIsIl9zZXJ2ZXJVcmwiLCJfZ2V0QXBwb2ludG1lbnRGcm9tRGF0YSIsImFwcG9pbnRtZW50RFRPIiwiX2dldFNlcnZpY2VGcm9tRGF0YSIsIl9nZXRQYXltZW50RnJvbURhdGEiLCJwcm9mZXNzaW9uYWxzIiwiX3Byb2Zlc3Npb25hbHNMaXN0IiwiTW9kZWxUYWJsZSIsImVkaXRBY3Rpb24iLCJfZWRpdEFjdGlvbiIsImFwcG9pbnRtZW50IiwiYnRuRWRpdCIsImJ0blJlbW92ZSIsIl9jcmVhdGVUYWJsZUxpbmUiLCJ0b1N0cmluZyIsInBhcmVudGVTZWxlY3RvciIsInRhYlRpdGxlIiwidGFiSWRlbnRpZmljYXRpb24iLCJhY3RpdmUiLCJfY3JlYXRlVGFiSXRlbSIsIl9jcmVhdGVUYWJDb250ZW50IiwiZGlzYWJsZSIsImNvbnRlbnRJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWxlY3RBY3Rpb24iLCJfc2VsZWN0QWN0aW9uIiwiX2N1c3RvbWVycyIsIl9jdXN0b21lclNlcnZpY2UiLCJzZWFyY2giLCJwYXJhbWV0ZXIiLCJjbGVhbiIsImdldEN1c3RvbWVycyIsImJ0blNlbGVjdCIsImN1c3RvbWVySWQiLCJwcm9mZXNzaW9uYWxJZCIsInNlcnZpY2VOb3RlcyIsInBheW1lbnRWYWx1ZSIsInBheW1lbnREYXRlIiwicGF5bWVudE5vdGVzIiwiX2FwcG9pbnRtZW50IiwiX2N1c3RvbWVyTW9kYWwiLCJjbGVhbkNvbnRlbnQiLCJfY3VzdG9tZXJGb3JtIiwiQ3VzdG9tZXJGb3JtIiwiY29udGVudFNlbGVjdG9yIiwidXBkYXRlRm9vdGVyIiwiX3N1Ym1pdE5ld0N1c3RvbWVyRm9ybSIsInNob3ciLCJfc2V0Q3VzdG9tZXIiLCJoaWRlIiwiY2xlYW5Gb290ZXIiLCJjdXN0b21lckRUTyIsImdldEN1c3RvbWVyRFRPIiwiY3JlYXRlQ3VzdG9tZXIiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwiZm9ybSIsIl9zaG93Rm9yTmV3Q3VzdG9tZXIiLCJfc2hvd0ZvclNlYXJjaEN1c3RvbWVyIiwiX2FwcG9pbnRtZW50VGFiIiwiYWRkVGFiIiwiX2FwcG9pbnRtZW50Rm9ybSIsIl9zZXJ2aWNlVGFiIiwiX3NlcnZpY2VGb3JtIiwiX3BheW1lbnRUYWIiLCJfcGF5bWVudEZvcm0iLCJfdXBkYXRlTW9kZSIsImdldEFzRFRPIiwic2VydmljZURhdGEiLCJzZXRTZXJ2aWNlIiwicGF5bWVudERhdGEiLCJzZXRQYXltZW50Iiwic2V0VGFiQXMiLCJ0YWJJZCIsInNldEFzQWN0aXZlIiwiRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIiLCJfaW5pdEFsZXJ0TWVzc2FnZXMiLCJfaW5pdEFwcG9pbnRtZW50c1RhYmxlIiwiX2luaXRBcHBvaW50bWVudEZvcm1Nb2RhbCIsIl9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwiLCJBbGVydE1lc3NhZ2VWaWV3IiwiX2FwcG9pbnRtZW50cyIsIl9lZGl0QXBwb2ludG1lbnQiLCJfc2hvd1JlbW92ZU1vZGFsQ29uZmlybWF0aW9uIiwiX3RhYmxlTmF2IiwicGFnZSIsInNlYXJjaEFwcG9pbnRtZW50cyIsIl9pbml0QXBwb2ludG1lbnRzU2VhcmNoRm9ybSIsIl9zZWFyY2hNb2RhbCIsIl9zZWFyY2hGb3JtIiwiX21vZGFsRm9ybSIsIl9wYW5lbEZvcm0iLCJzYXZlQXBwb2ludG1lbnRGb3JtIiwiX2NyZWF0ZUFwcG9pbnRtZW50IiwiX21vZGFsUmVtb3ZlQ29uZmlybWF0aW9uIiwiZGVsZXRlQXBwb2ludG1lbnQiLCJuZXdNb2RlIiwicnVuIiwiZ2V0RGV0YWlsZWQiLCJ1cGRhdGVNb2RlIiwiZ2V0QXBwb2ludG1lbnREVE8iLCJpc1VwZGF0ZU1vZGUiLCJ1cGRhdGVBcHBvaW50bWVudCIsImNyZWF0ZUFwcG9pbnRtZW50IiwiZ2V0RGF0YUFzUGFyYW1zIiwiZ2V0UGFnZWFibGVBcHBvaW50bWVudHMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVB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SixtQkFDekN4SSxHQUNITCxLQUFLNlgseUJBQXlCL0MsT0FHbEMsc0JBQ0ksSUFBSTdDLEVBQWlCalMsS0FBSzBYLFdBQVdTLG9CQUVqQy9RLEVBQVdwSCxLQUFLMFgsV0FBV1UsZUFDM0JwWSxLQUFLMFIsU0FBUzJHLGtCQUFrQnBHLEdBQ2hDalMsS0FBSzBSLFNBQVM0RyxrQkFBa0JyRyxHQUVwQ2pTLEtBQUt1SCxXQUFXeVEsSUFDWjVRLEVBQVNuRSxLQUFLd1AsSUFDVnpTLEtBQUtnWCxjQUFjOVAsSUFBSXVMLEdBQ3ZCelMsS0FBS3lYLFdBQVd6QyxPQUNoQmhWLEtBQUt5SixTQUFTSCxPQUFPLEdBQUksbURBQW9ELGNBTXpGLG1CQUFtQjhOLEVBQUssTUFDcEIsSUFBSXZILEVBQWE3UCxLQUFLd1gsWUFBWWUsa0JBQ3RCLE1BQVJuQixJQUFjdkgsRUFBYUEsRUFBYSxTQUFXdUgsR0FFdkRwWCxLQUFLZ1gsY0FBY25ELFFBQ25CN1QsS0FBS3VILFdBQVd5USxJQUNaaFksS0FBSzBSLFNBQVM4Ryx3QkFBd0IzSSxHQUNqQzVNLEtBQUttSSxJQUNGQSxFQUFTekcsUUFBUTdELFFBQVEyUixJQUNyQnpTLEtBQUtnWCxjQUFjOVAsSUFBSXVMLEtBRTNCelMsS0FBS21YLFVBQVU3TixPQUFPOEIsR0FDdEJwTCxLQUFLeUosU0FBU0gsT0FBTywwQ0FBMkMsbUJBQW9CLFdBS3BHLGtCQUFrQmpKLEdBQ2RMLEtBQUt1SCxXQUFXeVEsSUFDWmhZLEtBQUswUixTQUFTb0csa0JBQWtCelgsR0FDM0I0QyxLQUFLLEtBQ0ZqRCxLQUFLNlgseUJBQXlCN0MsT0FDOUJoVixLQUFLZ1gsY0FBYzdQLE9BQU85RyxHQUMxQkwsS0FBS3lKLFNBQVNILE9BQU8sR0FBSSxtQ0FBb0MsZUM5Si9ELElBQUkiLCJmaWxlIjoiYXBwb2ludG1lbnQuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcbiIsImltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgaW5mbz17fSkge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudCA9IERPTVBhcnNlclV0aWwucGFyc2UodGhpcy5fYmFzZShpbmZvKSk7XHJcbiAgICAgICAgdGhpcy5fdGFnID0gYCMke2luZm8uaWR9YDtcclxuICAgICAgICB0aGlzLl9wYXJlbnRTZWxlY3RvciA9IHBhcmVudFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2luZm8gPSBpbmZvO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0KCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcGFyZW50U2VsZWN0b3IpLmFwcGVuZENoaWxkKHRoaXMuX2NvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdExpc3RlbmVycyh0aGlzLl9pbmZvLmxpc3RlbmVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRMaXN0ZW5lcnMobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5hY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndGhlIG1ldGhvZCBmaWVsZHNUZW1wYWx0ZSBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBET01QYXJzZXJVdGlsIHtcclxuICAgIHN0YXRpYyBwYXJzZShodG1sVGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWxUZXh0LCAndGV4dC9odG1sJykuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYGJvZHlgKS5maXJzdENoaWxkO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdGVuZXJBY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IodHlwZSwgYWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihsYWJlbCwgY3NzLCB0eXBlPSdzdWJtaXQnLCAuLi5saXN0ZW5lcnMpIHtcclxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBidG4uY2xhc3NMaXN0ID0gY3NzO1xyXG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgICAgICBidG4uaW5uZXJIVE1MID0gbGFiZWw7XHJcblxyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLnR5cGUsIGxpc3RlbmVyLmFjdGlvbikpO1xyXG5cclxuICAgICAgICByZXR1cm4gYnRuO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEZpZWxkRXJyb3IgZnJvbSBcIi4uL2Zvcm1zL0ZpZWxkRXJyb3JcIjtcclxuaW1wb3J0IEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblRva2VuU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHR0cEhlbHBlciB7XHJcbiAgICBhZGRUb2tlbih0eXBlLCB0b2tlbikge1xyXG4gICAgICAgIGxldCBkYXRhID0gYCR7dHlwZX0gJHt0b2tlbn1gO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXNhbG9vbndidG9rZW4nLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9yZUl0ZW0obGFiZWwsIHZhbHVlKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGxhYmVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5Ub2tlbigpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21zYWxvb253YnRva2VuJywgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRva2VuKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21zYWxvb253YnRva2VuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RvcmVkSXRlbShsYWJlbCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obGFiZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3QoZW5kcG9pbnQsIGRhdGEpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ1BPU1QnLCBkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChlbmRwb2ludCkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnR0VUJywgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdXQoZW5kcG9pbnQsIGRhdGEpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ1BVVCcsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGVuZHBvaW50KSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdERUxFVEUnLCBudWxsKTtcclxuICAgICAgICByZXR1cm4gZmV0Y2goZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscylcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdHJhbnNhY3Rpb25hbCBlcnJvciBoYXMgYmVlbiBoYXBwZW5lZC4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnQXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogdGhpcy50b2tlblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZFRyYW5zYWN0aW9uRGV0YWlscyhtZXRob2QsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnbWV0aG9kJzogbWV0aG9kLFxyXG4gICAgICAgICAgICAnYm9keSc6IGRhdGEsXHJcbiAgICAgICAgICAgICdoZWFkZXJzJzogdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkhlYWRlcnMoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscylcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKS50aGVuKGRhdGEgPT4gIGRhdGEpLmNhdGNoKGVyciA9PiB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHRyYW5zYWN0aW9uYWwgZXJyb3IgaGFzIGJlZW4gaGFwcGVuZWQuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm0gZXh0ZW5kcyBDb21wb25lbnR7XHJcbiAgICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogZm9ybSBpZCBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwiZm9ybUNsYXNzXCI6IGZvcm0gY2xhc3MgZXguICdmb3JtLWhvcml6b250YWwnLFxyXG4gICAgICAgICAgICBcImluaXRpYWxDb250ZW50XCI6IGZvcm0gZmllbGRzLFxyXG4gICAgICAgICAgICBcImJ1dHRvbnNcIjogdHJ1ZS9mYWxzZSBmb3IgZm9ybSBidXR0b25zLFxyXG4gICAgICAgICAgICBcImluaXRpYWxCdXR0b25zXCI6IGZvciBpbml0aWFsIGJ1dHRvbnMgY29udGVudCxcclxuICAgICAgICAgICAgXCJkZWZhdWx0QnV0dG9uc1wiOiB0cnVlL2ZhbHNlIGZvciBkZWZhdWx0IGJ1dHRvbnMsXHJcbiAgICAgICAgICAgIFwibGlzdGVuZXJzXCI6IGxpc3RlbmVycyBmb3IgZm9ybSBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIHVwZGF0ZUZpZWxkcygpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLmZpZWxkc2ApLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAuZmllbGRzYCkuYXBwZW5kQ2hpbGQodGhpcy5fdGVtcGxhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VibWl0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGFnKS5zdWJtaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RhZykucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gW107XHJcbiAgICAgICAgJCh0aGlzLl90YWcpLnNlcmlhbGl6ZUFycmF5KCkuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGRhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhQXNQYXJhbXMoKSB7XHJcbiAgICAgICAgcmV0dXJuICQodGhpcy5fdGFnKS5zZXJpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICBzdXBlci5faW5pdCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5pbml0aWFsQ29udGVudCkgXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKFwiLmZpZWxkc1wiKS5hcHBlbmRDaGlsZCh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uYnV0dG9ucyAmJiB0aGlzLl9pbmZvLmluaXRpYWxCdXR0b25zKVxyXG4gICAgICAgICAgICB0aGlzLl9pbmZvLmluaXRpYWxCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uc1wiKS5hcHBlbmRDaGlsZChidXR0b24pKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGZvcm0gaWQ9JHtpbmZvLmlkfSAke2luZm8uZm9ybUNsYXNzID8gYGNsYXNzPScke2luZm8uZm9ybUNsYXNzfSdgIDogJyd9PlxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9J2ZpZWxkcyc+PC9kaXY+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz0nYnV0dG9ucyc+XHJcbiAgICAgICAgICAgICAgICAke2luZm8uZGVmYXVsdEJ1dHRvbnMgPyBgXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPlNhbHZhcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5XCI+TGltcGFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgX3RlbXBsYXRlKCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndGhlIG1ldGhvZCBmaWVsZHNUZW1wYWx0ZSBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCBleHRlbmRzIENvbXBvbmVudHtcclxuICAgIC8qIFxyXG4gICAgICAgIEluZm8ge1xyXG4gICAgICAgICAgICBcImlkXCI6IG1vZGFsIGlkIGF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJsYWJlbFwiOiBtb2RhbCBhcmlhLWxhYmVsbGVkYnkgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcIm1vZGFsQ2xhc3NcIjogbW9kYWwgY2xhc3MgZXguICdtb2RhbC1sZycsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogbW9kYWwgdGl0bGUsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbENvbnRlbnRcIjogbW9kYWwgYm9keSxcclxuICAgICAgICAgICAgXCJmb290ZXJcIjogdHJ1ZS9mYWxzZSBmb3IgbW9kYWwgZm9vdGVyLFxyXG4gICAgICAgICAgICBcImluaXRpYWxGb290ZXJcIjogZm9yIGluaXRpYWwgZm9vdGVyIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIFwibGlzdGVuZXJzXCI6IGxpc3RlbmVycyBmb3IgbW9kYWwgYWN0aW9uc1xyXG4gICAgICAgIH1cclxuICAgICovXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgICQodGhpcy5fdGFnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgJCh0aGlzLl90YWcpLm1vZGFsKCdoaWRlJylcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlQ29udGVudChjb250ZW50KSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5Db250ZW50KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbnRlbnRUZXh0KGNvbnRlbnQpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5pbm5lckhUTUwgPSAnPHByZT4nICsgY29udGVudCArICc8L3ByZT4nO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUZvb3Rlcihmb290ZXIpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWZvb3RlcmApLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuYXBwZW5kQ2hpbGQoZm9vdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkZvb3RlcigpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWZvb3RlcmApLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50U2VsZWN0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KSBcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm9keVwiKS5hcHBlbmRDaGlsZCh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uZm9vdGVyICYmIHRoaXMuX2luZm8uaW5pdGlhbEZvb3RlcilcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtZm9vdGVyXCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbEZvb3Rlcik7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRMaXN0ZW5lcnMobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMuX2NvbXBvbmVudCkub24obGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuYWN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgaWQ9XCIke2luZm8uaWR9XCIgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnk9XCIke2luZm8ubGFiZWwgPyBpbmZvLmxhYmVsIDogJ215TGFyZ2VNb2RhbCd9XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2cgJHtpbmZvLm1vZGFsQ2xhc3MgPyBpbmZvLm1vZGFsQ2xhc3MgOiAnJ31cIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7aW5mby50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAke2luZm8uZm9vdGVyID8gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgYCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgSHR0cEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9IdHRwSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRoZW50aWNhdGlvblRva2VuU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2ZXJVUkwgPSBgJHtTRVJWSUNFX1VSTH0vYXV0aGA7XHJcbiAgICAgICAgdGhpcy5fd2VidG9rZW4gPSAnbXNhbG9vbndidG9rZW4nO1xyXG5cclxuICAgICAgICB0aGlzLl9odHRwID0gbmV3IEh0dHBIZWxwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXNWYWxpZFRva2VuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9zZXJ2ZXJVUkwpO1xyXG4gICAgfVxyXG5cclxuICAgIGF1dGhlbnRpY2F0ZShhdXRoRFRPKSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgJ21ldGhvZCc6ICdQT1NUJyxcclxuICAgICAgICAgICAgJ2JvZHknOiBKU09OLnN0cmluZ2lmeShhdXRoRFRPKSxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ0FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9zZXJ2ZXJVUkwsIHRyYW5zYWN0aW9uRGV0YWlscylcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2sgJiYgcmVzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzaWduaW4gZGF0YSBpcyBub3QgY29ycmVjdFwiKTtcclxuICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2h0dHAuYWRkVG9rZW4oZGF0YS50eXBlLCBkYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nb3V0KCkge1xyXG4gICAgICAgIHRoaXMuX2h0dHAuY2xlYW5Ub2tlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZGlyZWN0VG9Mb2dpblBhZ2UoKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luLmh0bWwnXHJcbiAgICB9ICBcclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlcXVhbHMgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHNGb3IoYXR0cmlidXRlKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZXF1YWxzRm9yIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm94eUZhY3Rvcnkge1xyXG4gICAgc3RhdGljIGNyZWF0ZShvYmplY3QsIHByb3BzLCBhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG9iamVjdCwge1xyXG4gICAgICAgICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmluY2x1ZGVzKHByb3ApICYmIFByb3h5RmFjdG9yeS5faXNGdW50aW9uKHRhcmdldFtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KHRhcmdldFtwcm9wXSwgdGFyZ2V0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24odGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmluY2x1ZGVzKHByb3ApKSBhY3Rpb24odGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfaXNGdW50aW9uKGZ1bmMpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mKGZ1bmMpID09IHR5cGVvZihGdW5jdGlvbik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8bmF2IGNsYXNzPVwic2lkZWJhclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItc3RpY2t5XCI+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdiBmbGV4LWNvbHVtblwiPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGFjdGl2ZVwiIGhyZWY9XCIuL3NjaGVkdWxlLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWhvbWVcIj48cGF0aCBkPVwiTTMgOWw5LTcgOSA3djExYTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yelwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiOSAyMiA5IDEyIDE1IDEyIDE1IDIyXCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgRGFzaGJvYXJkIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPihjdXJyZW50KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vY3VzdG9tZXJzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXVzZXJzXCI+PHBhdGggZD1cIk0xNyAyMXYtMmE0IDQgMCAwIDAtNC00SDVhNCA0IDAgMCAwLTQgNHYyXCI+PC9wYXRoPjxjaXJjbGUgY3g9XCI5XCIgY3k9XCI3XCIgcj1cIjRcIj48L2NpcmNsZT48cGF0aCBkPVwiTTIzIDIxdi0yYTQgNCAwIDAgMC0zLTMuODdcIj48L3BhdGg+PHBhdGggZD1cIk0xNiAzLjEzYTQgNCAwIDAgMSAwIDcuNzVcIj48L3BhdGg+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIENsaWVudGVzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL3Byb2Zlc3Npb25hbHMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZmlsZVwiPjxwYXRoIGQ9XCJNMTMgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjl6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxMyAyIDEzIDkgMjAgOVwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIFByb2Zpc3Npb25haXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vdmVuZG9ycy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgRm9ybmVjZWRvcmVzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL3B1cmNoYXNlcy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQ29tcHJhc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9hcHBvaW50bWVudHMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZmlsZVwiPjxwYXRoIGQ9XCJNMTMgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjl6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxMyAyIDEzIDkgMjAgOVwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIEF0ZW5kaW1lbnRvcyAoQ29uc3VsdGFzKVxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICBcclxuICAgICAgICAgICAgPGg2IGNsYXNzPVwic2lkZWJhci1oZWFkaW5nIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgcHgtMyBtdC00IG1iLTEgdGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPk1pbmhhIENvbnRhPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2g2PlxyXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJuYXYgZmxleC1jb2x1bW4gbWItMlwiPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHJvZmlsZS5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlLXRleHRcIj48cGF0aCBkPVwiTTE0IDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY4elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTQgMiAxNCA4IDIwIDhcIj48L3BvbHlsaW5lPjxsaW5lIHgxPVwiMTZcIiB5MT1cIjEzXCIgeDI9XCI4XCIgeTI9XCIxM1wiPjwvbGluZT48bGluZSB4MT1cIjE2XCIgeTE9XCIxN1wiIHgyPVwiOFwiIHkyPVwiMTdcIj48L2xpbmU+PHBvbHlsaW5lIHBvaW50cz1cIjEwIDkgOSA5IDggOVwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIE1ldSBQZXJmaWxcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlck5hdmlnYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGxvZ29mZkFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdEhlYWRlck5hdmlnYXRpb24obG9nb2ZmQWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEhlYWRlck5hdmlnYXRpb24obG9nb2ZmQWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoJ2EubG9nb3V0JykuYWRkRXZlbnRMaXN0ZW5lcihsb2dvZmZBY3Rpb24udHlwZSwgbG9nb2ZmQWN0aW9uLmFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPG5hdiBjbGFzcz1cIm5hdmJhciBuYXZiYXItZGFyayBmaXhlZC10b3AgYmctZGFyayBmbGV4LW1kLW5vd3JhcCBwLTAgc2hhZG93XCI+XHJcbiAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2YmFyLWJyYW5kIGNvbC1zbS0zIGNvbC1tZC0yIG1yLTBcIiBocmVmPVwiI1wiPk15IFNhbG9vbiBXZWI8L2E+XHJcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtZGFyayB3LTEwMFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJQZXNxdWlzYXJcIiBhcmlhLWxhYmVsPVwiUGVzcXVpc2FyXCI+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdmJhci1uYXYgcHgtM1wiPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gdGV4dC1ub3dyYXBcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmsgbG9nb3V0XCIgaHJlZj1cIiNcIj5Mb2dvZmY8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwvbmF2PlxyXG4gICAgICAgIGBcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVMb2FkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJyNoZWFkZXJOYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5faW5pdExvYWRlckNvbXBvbmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLl9sb2FkZXJDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdwcmUtbG9hZGVyLXJ1bm5pbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQuY2xhc3NMaXN0LnJlbW92ZSgncHJlLWxvYWRlci1ydW5uaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKHByb21pc3NlKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIHByb21pc3NlLnRoZW4oKCkgPT4ge3RoaXMuc3RvcCgpfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRMb2FkZXJDb21wb25lbnQoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkZXItcGFuZWxcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImxvYWRlcjRcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci0xXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTJcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItM1wiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci00XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkZXJDb21wb25lbnQgPSBET01QYXJzZXJVdGlsLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZSgpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBpZD1cInByZUxvYWRlclwiPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBEYXNoYm9hcmROYXZpZ2F0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvRGFzaGJvYXJkTmF2aWdhdGlvbic7XHJcbmltcG9ydCBIZWFkZXJOYXZpZ2F0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyTmF2aWdhdGlvbic7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL0xpc3RlbmVyQWN0aW9uJztcclxuaW1wb3J0IEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlJztcclxuaW1wb3J0IFByZUxvYWRlciBmcm9tICcuLi9jb21wb25lbnRzL1ByZUxvYWRlcic7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyID0gbmV3IFByZUxvYWRlcigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlID0gbmV3IEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy5fdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2hlYWRlck5hdiA9IG5ldyBIZWFkZXJOYXZpZ2F0aW9uKCcjaGVhZGVyTmF2aWdhdGlvbicsIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9Mb2dvZmYoKTtcclxuICAgICAgICB9KSk7ICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5fZGFzaGJvYXJkTmF2ID0gbmV3IERhc2hib2FyZE5hdmlnYXRpb24oJyNkYXNoYm9hcmROYXZpZ2F0aW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBkb0xvZ29mZigpIHtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5sb2dvdXQoKTtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5yZWRpcmVjdFRvTG9naW5QYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgX2luaXQoKSBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIF92YWxpZEF1dGhlbnRpY2F0ZWRDbGllbnQoKSB7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UuaGFzVmFsaWRUb2tlbigpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7dGhpcy5fYXV0aFNlcnZpY2UucmVkaXJlY3RUb0xvZ2luUGFnZSgpfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kZWwgZnJvbSBcIi4vTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2Zlc3Npb25hbCBleHRlbmRzIE1vZGVse1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgcmVzaWRlbmNpYWxQaG9uZSwgY2VsbHBob25lLCBkZXBhcnRhbWVudCwgZW1haWwsIGlkPScnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9yZXNpZGVuY2lhbFBob25lID0gcmVzaWRlbmNpYWxQaG9uZTtcclxuICAgICAgICB0aGlzLl9jZWxscGhvbmUgPSBjZWxscGhvbmU7XHJcbiAgICAgICAgdGhpcy5fZGVwYXJ0YW1lbnQgPSBkZXBhcnRhbWVudDtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuX2VtYWlsID0gZW1haWw7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IG90aGVyLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBpZDsgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc2lkZW5jaWFsUGhvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2lkZW5jaWFsUGhvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNlbGxwaG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbHBob25lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXBhcnRhbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVwYXJ0YW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVtYWlsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbWFpbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZUZvcm1hdEhlbHBlcntcclxuICAgIHN0YXRpYyB0b1N0cmluZyhkYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RGF0ZSgpfS8keyhkYXRlLmdldE1vbnRoKCkgKyAxKX0vJHtkYXRlLmdldEZ1bGxZZWFyKCl9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9EYXRlKGRhdGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZStcIlQwMzowMDowMFpcIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUHJveHkgZnJvbSAnLi9Qcm94eUZhY3RvcnknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaW5kUHJveHlNb2RlbFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIHZpZXcsIC4uLnByb3BzKSB7XHJcbiAgICAgICAgbGV0IHByb3h5ID0gUHJveHkuY3JlYXRlKG1vZGVsLCBwcm9wcywgbW9kZWwgPT4gdmlldy51cGRhdGUobW9kZWwpKTtcclxuICAgICAgICB2aWV3LnVwZGF0ZShtb2RlbCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsZXJ0TWVzc2FnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSAnJztcclxuICAgICAgICB0aGlzLl90eXBlID0gJ3ByaW1hcnknO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShtZXNzYWdlLCB0aXRsZT0nJywgYWxlcnRUeXBlPSdwcmltYXJ5Jykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IGFsZXJ0VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdGl0bGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtZXNzYWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZGVsVmlldyBmcm9tIFwiLi9Nb2RlbFZpZXdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsZXJ0TWVzc2FnZVZpZXcgZXh0ZW5kcyBNb2RlbFZpZXd7XHJcbiAgICBfdGVtcGxhdGUobW9kZWwpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC0ke21vZGVsLnR5cGV9IGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICA8aDQgY2xhc3M9XCJhbGVydC1oZWFkaW5nXCI+JHttb2RlbC50aXRsZX08L2g0PlxyXG4gICAgICAgICAgICA8cCBjbGFzcz0ndGV4dC1tdXRlZCc+JHttb2RlbC5tZXNzYWdlfTwvcD5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cImFsZXJ0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZXdFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHZpZXdFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVtcGxhdGUgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUobW9kZWwpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX3RlbXBsYXRlKG1vZGVsKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm9mZXNzaW9uYWwgZnJvbSBcIi4uL21vZGVscy9Qcm9mZXNzaW9uYWxcIjtcclxuaW1wb3J0IEZpZWxkRXJyb3IgZnJvbSBcIi4uL2Zvcm1zL0ZpZWxkRXJyb3JcIjtcclxuaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2ZXJVUkwgPSBgJHtTRVJWSUNFX1VSTH0vcHJvZmVzc2lvbmFsc2A7XHJcbiAgICAgICAgdGhpcy5faHR0cCA9IG5ldyBIdHRwSGVscGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsUHJvZmVzc2lvbmFscygpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVUkw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhQXJyYXkgPT4gZGF0YUFycmF5Lm1hcChkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvZmVzc2lvbmFsQnlJRChpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtpZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldChlbmRwb2ludClcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT2NvcnJldSB1bSBlcnJvciBuYSBjb211bmnDp8OjbyBjb20gbyBzZXJ2aWRvciBlIG7Do28gZm9pIHBvc3NpdmVsIGVuY29udHJhciBvIHByb2Zpc3Npb25hbCBzb2xpY2l0YWRvJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVByb2Zlc3Npb25hbChwcm9mZXNzaW9uYWxEdG8pIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVUkw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkocHJvZmVzc2lvbmFsRHRvKSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUHJvZmVzc2lvbmFsKHByb2Zlc3Npb25hbER0bykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtwcm9mZXNzaW9uYWxEdG8uaWR9YDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucHV0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeShwcm9mZXNzaW9uYWxEdG8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBkZXRlbGVQcm9mZXNzaW9uYWwoaWQpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVUkx9LyR7aWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5kZWxldGUoZW5kcG9pbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2Zlc3Npb25hbEJ5RW1haWwoZW1haWwpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVUkx9L2VtYWlsLyR7ZW1haWx9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0UHJvZmVzc2lvbmFsRnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmVQYXNzd29yZChlbWFpbCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke1NFUlZJQ0VfVVJMfS9hY2NvdW50cy9yZXN0b3JlYDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeSh7J2VtYWlsJzogZW1haWx9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRQYXNzd29yZChwYXNzd29yZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke1NFUlZJQ0VfVVJMfS9hY2NvdW50cy9yZXNldGA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkoeydwYXNzd29yZCc6IHBhc3N3b3JkfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9mZXNzaW9uYWwoZGF0YVsnbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydkZXBhcnRtZW50J10sIGRhdGFbJ2VtYWlsJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLl9wYWdlYWJsZUluZm8gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW4oKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBhZGQobW9kZWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGlzdC5zb21lKGl0ZW0gPT4gaXRlbS5lcXVhbHMobW9kZWwpKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmVxdWFscyhtb2RlbCkpIHRoaXMuX2xpc3RbaV0gPSBtb2RlbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdC5wdXNoKG1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmluZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0LmZpbmQoaXRlbSA9PiBpdGVtLmVxdWFsc0ZvcihpZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVBhZ2VhYmxlSW5mbyhwYWdlYWJsZSkge1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHBhZ2VhYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShpZCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5lcXVhbHNGb3IoaWQpKSB0aGlzLl9saXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGlzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZWFibGVJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlYWJsZUluZm87XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIF91cGRhdGVMaXN0KHRyTGlzdCkge1xyXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IHRib2R5YCk7XHJcbiAgICAgICAgYm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0ckxpc3QuZm9yRWFjaCh0ciA9PiBib2R5LmFwcGVuZENoaWxkKHRyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2FwcGVuZEl0ZW0odHIpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICB9XHJcblxyXG4gICAgX2NsZWFuVGFibGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IHRib2R5YCkuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBfcmVtb3ZlTGluZShrZXkpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHkgdHJbZGF0YS1rZXk9XCIke2tleX1cIl1gKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfdXBkYXRlTGluZShrZXksIHRyKSB7XHJcbiAgICAgICAgbGV0IGxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHkgdHJbZGF0YS1rZXk9XCIke2tleX1cIl1gKTtcclxuICAgICAgICBsaW5lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRyLCBsaW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlVGFibGVMaW5lKGxpbmVLZXksIGRhdGEsIC4uLmFjdGlvbnMpIHtcclxuICAgICAgICBsZXQgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgbGluZUtleSk7XHJcblxyXG4gICAgICAgIGRhdGEuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIGNvbC5pbm5lckhUTUwgPSBwcm9wO1xyXG4gICAgICAgICAgICBsaW5lLmFwcGVuZENoaWxkKGNvbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGFjdGlvbnMpIHtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChhID0+IGNvbC5hcHBlbmRDaGlsZChhKSk7XHJcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY29sKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaW5lO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWhvdmVyXCIgaWQ9JHtpbmZvLmlkfT5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5oZWFkZXJzLm1hcCh0aXRsZSA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPiR7dGl0bGV9PC90aD5cclxuICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICR7aW5mby5pbml0aWFsQ29udGVudCA/IGluaXRpYWxDb250ZW50IDogJyd9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRhYmxlIGZyb20gXCIuL1RhYmxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbFRhYmxlIGV4dGVuZHMgVGFibGUge1xyXG4gICAgdXBkYXRlRnJvbU1vZGVsKG1vZGVsTGlzdCkge1xyXG4gICAgICAgIHRoaXMuX2NsZWFuVGFibGUoKTtcclxuICAgICAgICBtb2RlbExpc3QubGlzdC5mb3JFYWNoKG1vZGVsID0+IHRoaXMuX2FwcGVuZEl0ZW0odGhpcy5fY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsKG1vZGVsKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwobW9kZWwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ19jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwgbXVzdCBiZWVuIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpcm1Nb2RhbCBleHRlbmRzIE1vZGFse1xyXG4gICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogbW9kYWwgaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcInRpdGxlXCI6IG1vZGFsIHRpdGxlLFxyXG4gICAgICAgICAgICBcImJ1dHRvbkxhYmVsXCI6IGJ1dHRvbiBhY3Rpb24gZm9yIGNvbmZpcm0gYWN0aW9uLFxyXG4gICAgICAgICAgICBcIm9uQ29uZmlybVwiOiBhY3Rpb24gb24gY29uZmlybTtcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBtb2RhbCBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBpbmZvLCByZW1vdmVBY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3RvciwgaW5mbyk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uID0gcmVtb3ZlQWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gZm9ybWApLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSBmb3JtIGlucHV0W25hbWU9XCJrZXlcIl1gKS52YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKG1lc3NhZ2UsIHZhbHVlKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5IC5hbGVydGApLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IGZvcm0gaW5wdXRbbmFtZT1cImtleVwiXWApLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgaWQ9XCIke2luZm8uaWR9XCIgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4ke2luZm8udGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke2luZm8ubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+RXNzYSBhw6fDo28gbsOjbyBwb2RlcsOhIHNlciBkZXNmZWl0YTwvcD5cclxuICAgICAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlciBidG4tc20gYnRuLWJsb2NrXCIgdHlwZT1cInN1Ym1pdFwiPiR7aW5mby5idXR0b25MYWJlbH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm94eSBmcm9tICcuL1Byb3h5RmFjdG9yeSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5TW9kZWxDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIGNvbXBvbmVudCwgLi4ucHJvcHMpIHtcclxuICAgICAgICBsZXQgcHJveHkgPSBQcm94eS5jcmVhdGUobW9kZWwsIHByb3BzLCBtb2RlbCA9PiBjb21wb25lbnQudXBkYXRlRnJvbU1vZGVsKG1vZGVsKSk7XHJcbiAgICAgICAgY29tcG9uZW50LnVwZGF0ZUZyb21Nb2RlbChtb2RlbCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RlbCBmcm9tICcuL01vZGVsJ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21lciBleHRlbmRzIE1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKGZ1bGxuYW1lLCByZXNpZGVuY2lhbFBob25lLCBjZWxscGhvbmUsIGluZGljYXRlZEJ5LCBwcm9mZXNzaW9uYWxFbmdhZ2VkLCBpZD0nJykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fZnVsbG5hbWUgPSBmdWxsbmFtZTtcclxuICAgICAgICB0aGlzLl9yZXNpZGVuY2lhbFBob25lID0gcmVzaWRlbmNpYWxQaG9uZTtcclxuICAgICAgICB0aGlzLl9jZWxscGhvbmUgPSBjZWxscGhvbmU7XHJcbiAgICAgICAgdGhpcy5faW5kaWNhdGVkQnkgPSBpbmRpY2F0ZWRCeTtcclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxFbmdhZ2VkID0gcHJvZmVzc2lvbmFsRW5nYWdlZDtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBvdGhlci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHNGb3IoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZ1bGxuYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mdWxsbmFtZTtcclxuICAgIH1cclxuICAgIGdldCByZXNpZGVuY2lhbFBob25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNpZGVuY2lhbFBob25lO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNlbGxwaG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbHBob25lO1xyXG4gICAgfVxyXG4gICAgZ2V0IGluZGljYXRlZEJ5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRpY2F0ZWRCeTtcclxuICAgIH1cclxuICAgIGdldCBwcm9mZXNzaW9uYWxFbmdhZ2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9mZXNzaW9uYWxFbmdhZ2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlYWJsZXtcclxuICAgIGNvbnN0cnVjdG9yKHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCB0b3RhbEVsZW1lbnRzLCB0b3RhbFBhZ2VzLCBudW1iZXJPZkVsZW1lbnRzLCBmaXJzdCwgbGFzdCwgbnVtYmVyLCBzaXplLCBlbXB0eSwgY29udGVudD1bXSkge1xyXG4gICAgICAgIHRoaXMuX3BhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuX3BhZ2VTaXplID0gcGFnZVNpemU7XHJcbiAgICAgICAgdGhpcy5fdG90YWxFbGVtZW50cyA9IHRvdGFsRWxlbWVudHM7XHJcbiAgICAgICAgdGhpcy5fdG90YWxQYWdlcyA9IHRvdGFsUGFnZXM7XHJcbiAgICAgICAgdGhpcy5fbnVtYmVyT2ZFbGVtZW50cyA9IG51bWJlck9mRWxlbWVudHM7XHJcbiAgICAgICAgdGhpcy5fZmlyc3QgPSBmaXJzdDtcclxuICAgICAgICB0aGlzLl9sYXN0ID0gbGFzdDtcclxuICAgICAgICB0aGlzLl9udW1iZXIgPSBudW1iZXI7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fZW1wdHkgPSBlbXB0eTtcclxuICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYnVpbGRGcm9tKGRhdGFBcnJheSwgY29udGVudCkge1xyXG4gICAgICAgIGxldCBwZ2RldGFpbHMgPSBkYXRhQXJyYXlbJ3BhZ2VhYmxlJ11cclxuICAgICAgICByZXR1cm4gbmV3IFBhZ2VhYmxlKHBnZGV0YWlsc1sncGFnZU51bWJlciddLCBwZ2RldGFpbHNbJ3BhZ2VTaXplJ10sIGRhdGFBcnJheVsndG90YWxFbGVtZW50cyddLCBcclxuICAgICAgICAgICAgZGF0YUFycmF5Wyd0b3RhbFBhZ2VzJ10sIGRhdGFBcnJheVsnbnVtYmVyT2ZFbGVtZW50cyddLCBkYXRhQXJyYXlbJ2ZpcnN0J10sIGRhdGFBcnJheVsnbGFzdCddLCBcclxuICAgICAgICAgICAgZGF0YUFycmF5WydudW1iZXInXSwgZGF0YUFycmF5WydzaXplJ10sIGRhdGFBcnJheVsnZW1wdHknXSwgY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhZ2VOdW1iZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VOdW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhZ2VTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlU2l6ZTtcclxuICAgIH1cclxuICAgIGdldCB0b3RhbEVsZW1lbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbEVsZW1lbnRzO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRvdGFsUGFnZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsUGFnZXM7XHJcbiAgICB9XHJcbiAgICBnZXQgbnVtYmVyT2ZFbGVtZW50cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbnVtYmVyT2ZFbGVtZW50cztcclxuICAgIH1cclxuICAgIGdldCBmaXJzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgbGFzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdDtcclxuICAgIH1cclxuICAgIGdldCBudW1iZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX251bWJlcjtcclxuICAgIH1cclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG4gICAgZ2V0IGVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbXB0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29udGVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJldmlvdXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtYmVyIC0gMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5udW1iZXIgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNOZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9udW1iZXIgPCAodGhpcy5fdG90YWxQYWdlcyAtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhhc1ByZXZpb3VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9udW1iZXIgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYWdlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG90YWxQYWdlcyA+IDE7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4vQnV0dG9uXCI7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tIFwiLi9MaXN0ZW5lckFjdGlvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZWFibGVOYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgaW5mbz17fSwgcGFnZUFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCBpbmZvKTtcclxuICAgICAgICB0aGlzLl9wYWdlQWN0aW9uID0gcGFnZUFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUocGFnZWFibGUpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RhZykuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RhZykuYXBwZW5kQ2hpbGQodGhpcy5fdGVtcGxhdGUocGFnZWFibGUpKTtcclxuICAgICAgICB0aGlzLl9jcmVhdGVQYWdpbmF0aW9uTmF2QnV0dG9ucyhwYWdlYWJsZSkuZm9yRWFjaChpdGVtID0+IFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RhZyArICcgLnBhZ2luYXRpb24nKS5hcHBlbmRDaGlsZChpdGVtKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZVBhZ2luYXRpb25OYXZCdXR0b25zKHBhZ2VhYmxlKSB7XHJcbiAgICAgICAgbGV0IG5hdiA9IFtdO1xyXG4gICAgICAgIGxldCBwcmV2aW91c0J0biA9IG5ldyBCdXR0b24oJ0FudGVyaW9yJywgJ3BhZ2UtbGluaycsICdidXR0b24nLCBcclxuICAgICAgICAgICAgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsICgpID0+IHRoaXMuX3BhZ2VBY3Rpb24ocGFnZWFibGUucHJldmlvdXMpKSk7XHJcblxyXG4gICAgICAgIG5hdi5wdXNoKHRoaXMuX2NyZWF0ZUxpc3RJdGVtKCFwYWdlYWJsZS5oYXNQcmV2aW91cywgcHJldmlvdXNCdG4pKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhZ2VhYmxlLnRvdGFsUGFnZXMgOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBidG4gPSBuZXcgQnV0dG9uKChpbmRleCsxKSwgJ3BhZ2UtbGluaycsICdidXR0b24nLCBcclxuICAgICAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9wYWdlQWN0aW9uKGluZGV4KSkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbmF2LnB1c2godGhpcy5fY3JlYXRlTGlzdEl0ZW0ocGFnZWFibGUubnVtYmVyID09IGluZGV4LCBidG4pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBuZXh0QnRuID0gbmV3IEJ1dHRvbignUHJveGltYScsICdwYWdlLWxpbmsnLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9wYWdlQWN0aW9uKHBhZ2VhYmxlLm5leHQpKSk7XHJcblxyXG4gICAgICAgIG5hdi5wdXNoKHRoaXMuX2NyZWF0ZUxpc3RJdGVtKCFwYWdlYWJsZS5oYXNOZXh0LCBuZXh0QnRuKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuYXY7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUxpc3RJdGVtKGRpc2FibGVkPWZhbHNlLCBidXR0b24pIHtcclxuICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgICAgICBpdGVtLmNsYXNzTGlzdCA9IGBwYWdlLWl0ZW0gJHtkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJ31gO1xyXG5cclxuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF90ZW1wbGF0ZShwYWdlYWJsZSkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IHBhZ2VhYmxlID8gYFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzPSd0ZXh0LW11dGVkJz5FeGliaW5kbyAke3BhZ2VhYmxlLm51bWJlck9mRWxlbWVudHN9IGRlICR7cGFnZWFibGUudG90YWxFbGVtZW50c308L3A+XHJcbiAgICAgICAgICAgIDxuYXYgYXJpYS1sYWJlbD1cIlBhZ2UgbmF2aWdhdGlvbiBleGFtcGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwYWdpbmF0aW9uIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvbmF2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGAgOiAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMiBjb2wtbWQtNVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0nJHtpbmZvLmlkfSc+PGRpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBIdHRwSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0h0dHBIZWxwZXJcIjtcclxuaW1wb3J0IEN1c3RvbWVyIGZyb20gXCIuLi9tb2RlbHMvQ3VzdG9tZXJcIjtcclxuaW1wb3J0IFBhZ2VhYmxlIGZyb20gXCIuLi9tb2RlbHMvUGFnZWFibGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbWVyU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2ZXJVUkwgPSBgJHtTRVJWSUNFX1VSTH0vY3VzdG9tZXJzYDtcclxuICAgICAgICB0aGlzLl9odHRwID0gbmV3IEh0dHBIZWxwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXN0b21lcnMocGFyYW1ldGVycz1udWxsKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gdGhpcy5fc2VydmVyVVJMICsgXCIvc2VhcmNoXCI7XHJcblxyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzKVxyXG4gICAgICAgICAgICBlbmRwb2ludCA9IGVuZHBvaW50ICsgXCI/XCIgKyBwYXJhbWV0ZXJzO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC50aGVuKHBhZ2VhYmxlID0+IFxyXG4gICAgICAgICAgICAgICAgUGFnZWFibGUuYnVpbGRGcm9tKHBhZ2VhYmxlLCBcclxuICAgICAgICAgICAgICAgICAgICBwYWdlYWJsZVsnY29udGVudCddLm1hcChkYXRhID0+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRDdXN0b21lckZyb21EYXRhKGRhdGEpKSkpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ07Do28gZm9pIHBvc3NpdmVsIGNvbmVjdGFyIGFvIHNlcnZpZG9yJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1c3RvbWVyQnlJRChpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtpZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldChlbmRwb2ludClcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRDdXN0b21lckZyb21EYXRhKGRhdGEpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY29ycmV1IHVtIGVycm9yIG5hIGNvbXVuacOnw6NvIGNvbSBvIHNlcnZpZG9yIGUgbsOjbyBmb2kgcG9zc2l2ZWwgZW5jb250cmFyIG8gY2xpZW50ZSBzb2xpY2l0YWRvJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUN1c3RvbWVyKGN1c3RvbWVyRHRvKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gdGhpcy5fc2VydmVyVVJMO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QoZW5kcG9pbnQsIEpTT04uc3RyaW5naWZ5KGN1c3RvbWVyRHRvKSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRDdXN0b21lckZyb21EYXRhKGRhdGEpKTsgICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDdXN0b21lcihjdXN0b21lckR0bykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtjdXN0b21lckR0by5pZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnB1dChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkoY3VzdG9tZXJEdG8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldEN1c3RvbWVyRnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUN1c3RvbWVyKGlkKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7dGhpcy5fc2VydmVyVVJMfS8ke2lkfWBcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5kZWxldGUoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ07Do28gZm9pIHBvc3NpdmVsIHJlbW92ZXIgbyBjbGllbnRlIHNvbGljaXRhZG8nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFBhZ2VhYmxlQ3VzdG9tZXJzRnJvbURhdGEoZGF0YSkge1xyXG4gICAgICAgIGxldCBwZ2RldGFpbHMgPSBkYXRhWydwYWdlYWJsZSddXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQYWdlYWJsZShwZ2RldGFpbHNbJ3BhZ2VOdW1iZXInXSwgcGdkZXRhaWxzWydwYWdlU2l6ZSddLCBkYXRhWyd0b3RhbEVsZW1lbnRzJ10sIFxyXG4gICAgICAgICAgICBkYXRhWyd0b3RhbFBhZ2VzJ10sIGRhdGFbJ251bWJlck9mRWxlbWVudHMnXSwgZGF0YVsnZmlyc3QnXSwgZGF0YVsnbGFzdCddLCBkYXRhWydudW1iZXInXSwgXHJcbiAgICAgICAgICAgIGRhdGFbJ3NpemUnXSwgZGF0YVsnZW1wdHknXSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEN1c3RvbWVyRnJvbURhdGEoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ3VzdG9tZXIoZGF0YVsnZnVsbG5hbWUnXSwgZGF0YVsncmVzaWRlbmNpYWxQaG9uZSddLCBkYXRhWydjZWxscGhvbmUnXSwgZGF0YVsnaW5kaWNhdGVkQnknXSwgZGF0YVsncHJvZmVzc2lvbmFsRW5nYWdlZE5hbWUnXSwgZGF0YVsnaWQnXSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEZpbHRlckRhdGEoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCduYW1lJykgfHwgZGF0YS5oYXNPd25Qcm9wZXJ0eSgncHJvZmVzc2lvbmFsRW5nYWdlZE5hbWUnKSkge1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IGRhdGFbJ25hbWUnXSA/IGRhdGFbJ25hbWUnXSA6ICcnO1xyXG4gICAgICAgICAgICBsZXQgcHJvZmVzc2lvbmFsRW5nYWdlZCA9IGRhdGFbJ3Byb2Zlc3Npb25hbEVuZ2FnZWROYW1lJ10gPyBkYXRhWydwcm9mZXNzaW9uYWxFbmdhZ2VkTmFtZSddIDogJyc7XHJcbiAgICAgICAgICAgIHJldHVybiBgbmFtZT0ke25hbWV9JnByb2Zlc3Npb25hbEVuZ2FnZWROYW1lPSR7cHJvZmVzc2lvbmFsRW5nYWdlZH1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXltZW50TWV0aG9kKSB7XHJcbiAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IHBheW1lbnRNZXRob2Q7XHJcblxyXG4gICAgICAgIHRoaXMuX2xhYmVscyA9IHtcclxuICAgICAgICAgICAgJ0NSRURJVF9DQVJEJzogJ0NhcnTDo28gZGUgQ3LDqWRpdG8nLFxyXG4gICAgICAgICAgICAnTU9ORVknOiAnRGluaGVpcm8nXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyhzdHJpbmdNZXRob2QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZCAhPSBudWxsICYmIHRoaXMuX3BheW1lbnRNZXRob2QgPT0gc3RyaW5nTWV0aG9kO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsYWJlbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFiZWxzW3RoaXMuX3BheW1lbnRNZXRob2RdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtZXRob2QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21lckRUTyB7XHJcbiAgICBjb25zdHJ1Y3RvcihmdWxsbmFtZSwgcmVzaWRlbmNpYWxQaG9uZSwgY2VsbHBob25lLCBpbmRpY2F0ZWRCeSwgcHJvZmVzc2lvbmFsRW5nYWdlZCwgaWQ9JycpIHtcclxuICAgICAgICB0aGlzLmZ1bGxuYW1lID0gZnVsbG5hbWU7XHJcbiAgICAgICAgdGhpcy5yZXNpZGVuY2lhbFBob25lID0gcmVzaWRlbmNpYWxQaG9uZTtcclxuICAgICAgICB0aGlzLmNlbGxwaG9uZSA9IGNlbGxwaG9uZTtcclxuICAgICAgICB0aGlzLmluZGljYXRlZEJ5ID0gaW5kaWNhdGVkQnk7XHJcbiAgICAgICAgdGhpcy5wcm9mZXNzaW9uYWxFbmdhZ2VkSUQgPSBwcm9mZXNzaW9uYWxFbmdhZ2VkO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtXCI7XHJcbmltcG9ydCBDdXN0b21lciBmcm9tIFwiLi4vbW9kZWxzL0N1c3RvbWVyXCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IEN1c3RvbWVyRFRPIGZyb20gXCIuLi9kdG9zL0N1c3RvbWVyRFRPXCI7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWxTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9Qcm9mZXNzaW9uYWxTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21lckZvcm0gZXh0ZW5kcyBGb3Jte1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdjdXN0b21lckZvcm0nLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXIgPSBuZXcgQ3VzdG9tZXIoKTtcclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxMaXN0ID0gW107XHJcbiAgICBcclxuICAgICAgICBuZXcgUHJvZmVzc2lvbmFsU2VydmljZSgpLmdldEFsbFByb2Zlc3Npb25hbHMoKVxyXG4gICAgICAgICAgICAudGhlbihwcm9mZXNzaW9uYWxMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Zlc3Npb25hbExpc3QgPSBwcm9mZXNzaW9uYWxMaXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGN1c3RvbWVyKGN1c3RvbWVyKSB7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXIgPSBjdXN0b21lcjtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1c3RvbWVyRFRPKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21lckRUTyhkYXRhWydmdWxsbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydpbmRpY2F0ZWRCeSddLCBkYXRhWydwcm9mZXNzaW9uYWxFbmdhZ2VkJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJpZFwiIG5hbWU9XCJpZFwiIHZhbHVlPVwiJHt0aGlzLl9jdXN0b21lci5pZCA/IHRoaXMuX2N1c3RvbWVyLmlkIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmdWxsbmFtZVwiPk5vbWU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1pbj1cIjNcIiBtYXg9XCIyMFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJmdWxsbmFtZVwiIG5hbWU9XCJmdWxsbmFtZVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkp1bGlhbmEgQmFuZGVpcmFzXCIgdmFsdWU9XCIke3RoaXMuX2N1c3RvbWVyLmZ1bGxuYW1lID8gdGhpcy5fY3VzdG9tZXIuZnVsbG5hbWUgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXNpZGVuY2lhbFBob25lXCI+VGVsZWZvbmU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwicmVzaWRlbmNpYWxQaG9uZVwiIG5hbWU9XCJyZXNpZGVuY2lhbFBob25lXCIgdmFsdWU9XCIke3RoaXMuX2N1c3RvbWVyLnJlc2lkZW5jaWFsUGhvbmUgPyB0aGlzLl9jdXN0b21lci5yZXNpZGVuY2lhbFBob25lIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNlbGxwaG9uZVwiPkNlbHVsYXI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiY2VsbHBob25lXCIgbmFtZT1cImNlbGxwaG9uZVwiIHZhbHVlPVwiJHt0aGlzLl9jdXN0b21lci5jZWxscGhvbmUgPyB0aGlzLl9jdXN0b21lci5jZWxscGhvbmUgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJpbmRpY2F0ZWRCeVwiPkluZGljYWRvIFBvcjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJpbmRpY2F0ZWRCeVwiIG5hbWU9XCJpbmRpY2F0ZWRCeVwiIHZhbHVlPVwiJHt0aGlzLl9jdXN0b21lci5pbmRpY2F0ZWRCeSA/IHRoaXMuX2N1c3RvbWVyLmluZGljYXRlZEJ5IDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByb2Zlc3Npb25hbEVuZ2FnZWRcIj5Qcm9maXNzaW9uYWwgUmVzcG9uc8OhdmVsPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInByb2Zlc3Npb25hbEVuZ2FnZWRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJwcm9mZXNzaW9uYWxFbmdhZ2VkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuX3Byb2Zlc3Npb25hbExpc3QubWFwKHByb2Zlc3Npb25hbCA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7cHJvZmVzc2lvbmFsLmlkfVwiICR7dGhpcy5fY3VzdG9tZXIucHJvZmVzc2lvbmFsRW5nYWdlZCA9PSBwcm9mZXNzaW9uYWwubmFtZSA/ICdzZWxlY3RlZCcgOiAnJ30+JHtwcm9mZXNzaW9uYWwubmFtZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE1vZGVsIGZyb20gXCIuL01vZGVsXCI7XHJcbmltcG9ydCBEYXRlRm9ybWF0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0RhdGVGb3JtYXRIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcG9pbnRtZW50IGV4dGVuZHMgTW9kZWx7XHJcbiAgICBjb25zdHJ1Y3RvcihjdXN0b21lciwgcHJvZmVzc2lvbmFsLCBkYXRlLCB0aW1lLCB0aXRsZSwgbm90ZXMsIGRvbmUsIHNlcnZpY2U9bnVsbCwgaWQ9JycpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX2N1c3RvbWVyID0gY3VzdG9tZXI7XHJcbiAgICAgICAgdGhpcy5fcHJvZmVzc2lvbmFsID0gcHJvZmVzc2lvbmFsO1xyXG4gICAgICAgIHRoaXMuX2RhdGUgPSBkYXRlID8gbmV3IERhdGUoRGF0ZUZvcm1hdEhlbHBlci50b0RhdGUoZGF0ZSkpIDogbnVsbDtcclxuICAgICAgICB0aGlzLl90aW1lID0gdGltZTtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX25vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5fZG9uZSA9IGRvbmU7XHJcbiAgICAgICAgdGhpcy5fc2VydmljZSA9IHNlcnZpY2U7ICAgXHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDsgXHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IG90aGVyLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgY3VzdG9tZXIoY3VzdG9tZXIpIHtcclxuICAgICAgICB0aGlzLl9jdXN0b21lciA9IGN1c3RvbWVyO1xyXG4gICAgfVxyXG4gICAgZ2V0IGN1c3RvbWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvZmVzc2lvbmFsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9mZXNzaW9uYWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRpdGxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbm90ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkb25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb25lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXJ2aWNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE1vZGVsIGZyb20gXCIuL01vZGVsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3Iobm90ZXMsIHBheW1lbnQsIGlkPW51bGwpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX25vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5fcGF5bWVudCA9IHBheW1lbnQ7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gb3RoZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzRm9yKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IG90aGVyLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBub3RlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm90ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBheW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RlbCBmcm9tIFwiLi9Nb2RlbFwiO1xyXG5pbXBvcnQgUGF5bWVudE1ldGhvZCBmcm9tIFwiLi9QYXltZW50TWV0aG9kXCI7XHJcbmltcG9ydCBEYXRlRm9ybWF0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0RhdGVGb3JtYXRIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnQgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgbWV0aG9kLCBkYXRlLCBub3RlcywgaWQ9bnVsbCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9tZXRob2QgPSBtZXRob2QgPyBuZXcgUGF5bWVudE1ldGhvZChtZXRob2QpIDogbmV3IFBheW1lbnRNZXRob2QoJ01PTkVZJyk7XHJcbiAgICAgICAgdGhpcy5fZGF0ZSA9IGRhdGUgPyBuZXcgRGF0ZShEYXRlRm9ybWF0SGVscGVyLnRvRGF0ZShkYXRlKSkgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuX25vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gb3RoZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzRm9yKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1ldGhvZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWV0aG9kO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkYXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBub3RlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm90ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgSHR0cEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9IdHRwSGVscGVyXCI7XHJcbmltcG9ydCBQYWdlYWJsZSBmcm9tIFwiLi4vbW9kZWxzL1BhZ2VhYmxlXCI7XHJcbmltcG9ydCBBcHBvaW50bWVudCBmcm9tIFwiLi4vbW9kZWxzL0FwcG9pbnRtZW50XCI7XHJcbmltcG9ydCBDdXN0b21lciBmcm9tIFwiLi4vbW9kZWxzL0N1c3RvbWVyXCI7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWwgZnJvbSBcIi4uL21vZGVscy9Qcm9mZXNzaW9uYWxcIjtcclxuaW1wb3J0IFNlcnZpY2UgZnJvbSBcIi4uL21vZGVscy9TZXJ2aWNlXCI7XHJcbmltcG9ydCBQYXltZW50IGZyb20gXCIuLi9tb2RlbHMvUGF5bWVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwb2ludG1lbnRTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVybCA9IGAke1NFUlZJQ0VfVVJMfS9hcHBvaW50bWVudHNgO1xyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VhYmxlQXBwb2ludG1lbnRzKHBhcmFtZXRlcnMpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVcmwgKyAnL3NlYXJjaCc7XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMpXHJcbiAgICAgICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQgKyAnPycgKyBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldChlbmRwb2ludClcclxuICAgICAgICAgICAgLnRoZW4oZGF0YUFycmF5ID0+XHJcbiAgICAgICAgICAgICAgICBQYWdlYWJsZS5idWlsZEZyb20oZGF0YUFycmF5LCBcclxuICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXlbJ2NvbnRlbnQnXS5tYXAoZGF0YSA9PiB0aGlzLl9nZXRBcHBvaW50bWVudEZyb21EYXRhKGRhdGEpKSlcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZXRhaWxlZChpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IHRoaXMuX3NlcnZlclVybCArIFwiL1wiICsgaWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldEFwcG9pbnRtZW50RnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUFwcG9pbnRtZW50KGFwcG9pbnRtZW50RFRPKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gdGhpcy5fc2VydmVyVXJsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QoZW5kcG9pbnQsIEpTT04uc3RyaW5naWZ5KGFwcG9pbnRtZW50RFRPKSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRBcHBvaW50bWVudEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBcHBvaW50bWVudChhcHBvaW50bWVudERUTykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IHRoaXMuX3NlcnZlclVybCArIFwiL1wiICsgYXBwb2ludG1lbnREVE8uaWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucHV0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeShhcHBvaW50bWVudERUTykpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0QXBwb2ludG1lbnRGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQXBwb2ludG1lbnQoaWQpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVcmwgKyBcIi9cIiArIGlkO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmRlbGV0ZShlbmRwb2ludCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEFwcG9pbnRtZW50RnJvbURhdGEoZGF0YSkge1xyXG4gICAgICAgIGxldCBjdXN0b21lciA9IHRoaXMuX2dldEN1c3RvbWVyRnJvbURhdGEoZGF0YVsnY3VzdG9tZXInXSk7XHJcbiAgICAgICAgbGV0IHByb2Zlc3Npb25hbCA9IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGFbJ3Byb2Zlc3Npb25hbCddKTtcclxuICAgICAgICBsZXQgc2VydmljZSA9IGRhdGFbJ3NlcnZpY2UnXSA/IHRoaXMuX2dldFNlcnZpY2VGcm9tRGF0YShkYXRhWydzZXJ2aWNlJ10pIDogbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gbmV3IEFwcG9pbnRtZW50KGN1c3RvbWVyLCBwcm9mZXNzaW9uYWwsIGRhdGFbJ2RhdGUnXSwgXHJcbiAgICAgICAgICAgIGRhdGFbJ3RpbWUnXSwgZGF0YVsndGl0bGUnXSwgZGF0YVsnbm90ZXMnXSwgZGF0YVsnZG9uZSddLCBzZXJ2aWNlLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0Q3VzdG9tZXJGcm9tRGF0YShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21lcihkYXRhWydmdWxsbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIFxyXG4gICAgICAgICAgICBkYXRhWydjZWxscGhvbmUnXSwgZGF0YVsnaW5kaWNhdGVkQnknXSwgZGF0YVsncHJvZmVzc2lvbmFsRW5nYWdlZE5hbWUnXSxcclxuICAgICAgICAgICAgZGF0YVsnaWQnXSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb2Zlc3Npb25hbChkYXRhWyduYW1lJ10sIGRhdGFbJ3Jlc2lkZW5jaWFsUGhvbmUnXSwgXHJcbiAgICAgICAgICAgIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydkZXBhcnRtZW50J10sIGRhdGFbJ2VtYWlsJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRTZXJ2aWNlRnJvbURhdGEoZGF0YSkge1xyXG4gICAgICAgIGxldCBwYXltZW50ID0gdGhpcy5fZ2V0UGF5bWVudEZyb21EYXRhKGRhdGFbJ3BheW1lbnQnXSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlKGRhdGFbJ25vdGVzJ10sIHBheW1lbnQsIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRQYXltZW50RnJvbURhdGEoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGF5bWVudChkYXRhWyd2YWx1ZSddLCBkYXRhWydtZXRob2QnXSwgZGF0YVsnZGF0ZSddLCBkYXRhWydub3RlcyddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVwiO1xyXG5pbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9uXCI7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWxTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9Qcm9mZXNzaW9uYWxTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBvaW50bWVudFNlYXJjaEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCAuLi5saXN0ZW5lcnMpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvciwge1xyXG4gICAgICAgICAgICAnaWQnOiAnYXBwb2ludG1lbnRTZWFyY2hGb3JtJyxcclxuICAgICAgICAgICAgJ2J1dHRvbnMnOiB0cnVlLFxyXG4gICAgICAgICAgICAnaW5pdGlhbEJ1dHRvbnMnOiBbXHJcbiAgICAgICAgICAgICAgICBuZXcgQnV0dG9uKCdGaWx0cmFyJywgJ2J0biBidG4tcHJpbWFyeSBidG4tc20gZmxvYXQtcmlnaHQnLCAnc3VibWl0JyksXHJcbiAgICAgICAgICAgICAgICBuZXcgQnV0dG9uKCdMaW1wYXIgRmlsdHJvJywgJ2J0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbScsICdyZXNldCcpLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFByb2Zlc3Npb25hbFNlcnZpY2UoKS5nZXRBbGxQcm9mZXNzaW9uYWxzKClcclxuICAgICAgICAgICAgLnRoZW4ocHJvZmVzc2lvbmFscyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxzTGlzdCA9IHByb2Zlc3Npb25hbHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidGl0bGVcIj5UaXR1bG88L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjdXN0b21lck5hbWVcIj5DbGllbnRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJjdXN0b21lck5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByb2Zlc3Npb25hbElkXCI+UHJvZmlzc2lvbmFsPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJwcm9mZXNzaW9uYWxJZFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Ub2Rvczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuX3Byb2Zlc3Npb25hbHNMaXN0Lm1hcChwcm9mZXNzaW9uYWwgPT4gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7cHJvZmVzc2lvbmFsLmlkfVwiPiR7cHJvZmVzc2lvbmFsLm5hbWV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGF0ZVwiPkRhdGE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwiZGF0ZU9wZXJhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFUVVBTFwiPklndWFsIGE8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiR1JFQVRFUl9USEFOXCI+TWFpb3IgcXVlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxFU1NfVEhBTlwiPk1lbm9yIHF1ZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCRVRXRUVOXCI+RW50cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZGF0ZVwiIG5hbWU9XCJkYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJkYXRlTWF4XCIgbmFtZT1cImRhdGVNYXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRpbWVcIj5Ib3LDoXJpbzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJ0aW1lT3BlcmF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkVRVUFMXCI+SWd1YWwgYTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJHUkVBVEVSX1RIQU5cIj5NYWlvciBxdWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTEVTU19USEFOXCI+TWVub3IgcXVlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkJFVFdFRU5cIj5FbnRyZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGltZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwidGltZU1heFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicGF5bWVudFZhbHVlXCI+VmFsb3IgUGFnbzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJwYXltZW50VmFsdWVPcGVyYXRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiRVFVQUxcIj5JZ3VhbCBhPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkdSRUFURVJfVEhBTlwiPk1haW9yIHF1ZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMRVNTX1RIQU5cIj5NZW5vciBxdWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQkVUV0VFTlwiPkVudHJlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjAuMDBcIiBzdGVwPVwiMC4wMVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInBheW1lbnRWYWx1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjAuMDBcIiBzdGVwPVwiMC4wMVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInBheW1lbnRWYWx1ZU1heFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicGF5bWVudERhdGVcIj5EYXRhIGRvIFBhZ2FtZW50bzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJwYXltZW50RGF0ZU9wZXJhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFUVVBTFwiPklndWFsIGE8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiR1JFQVRFUl9USEFOXCI+TWFpb3IgcXVlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxFU1NfVEhBTlwiPk1lbm9yIHF1ZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCRVRXRUVOXCI+RW50cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJwYXltZW50RGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJwYXltZW50RGF0ZU1heFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicGF5bWVudE1ldGhvZFwiPlRpcG8gZGUgUGFnYW1lbnRvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJwYXltZW50TWV0aG9kXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlRvZG9zPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDUkVESVRfQ0FSRFwiPkNhcnTDo28gZGUgQ3LDqWRpdG88L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1PTkVZXCI+RGluaGVpcm88L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRvbmVcIj5GaW5hbGl6YWRvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJkb25lXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlRvZG9zPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0cnVlXCI+RmluYWxpemFkb3M8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZhbHNlXCI+RW0gQWJlcnRvPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInNpemVcIj5JdGVucyBwb3IgUGFnaW5hPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwic2l6ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMjBcIj4yMDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjEwXCI+MTA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI1XCI+NTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj4yPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwic29ydFwiPk9yZGVuYXIgUG9yOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cInNvcnRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbSBPcmRlbmHDp8Ojbzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRpdGxlLEFTQ1wiPlRpdHVsbyAoY3Jlc2NlbnRlKTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRpdGxlLERFU0NcIj5UaXR1bG8gKERlY3Jlc2NlbnRlKTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRhdGUsQVNDXCI+RGF0YSAoQ3Jlc2NlbnRlKTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRhdGUsREVTQ1wiPkRhdGEgKERlY3Jlc2NlbnRlKTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYFxyXG5cclxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IE1vZGVsVGFibGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kZWxUYWJsZVwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvblwiO1xyXG5pbXBvcnQgRGF0ZUZvcm1hdCBmcm9tIFwiLi4vaGVscGVycy9EYXRlRm9ybWF0SGVscGVyXCI7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9MaXN0ZW5lckFjdGlvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwb2ludG1lbnRUYWJsZSBleHRlbmRzIE1vZGVsVGFibGUge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGVkaXRBY3Rpb24sIHJlbW92ZUFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdhcHBvaW50bWVudHNUYWJsZScsXHJcbiAgICAgICAgICAgICdoZWFkZXJzJzogWydDbGllbnRlJywgJ1Byb2Zpc3Npb25hbCcsICdEYXRhJywgJ0hvcsOhcmlvJywgJ1RpdHVsbycsICdDb25jbHVpZG8nLCAnQcOnw7VlcyddXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2VkaXRBY3Rpb24gPSBlZGl0QWN0aW9uO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUFjdGlvbiA9IHJlbW92ZUFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsKGFwcG9pbnRtZW50KSB7XHJcbiAgICAgICAgbGV0IGJ0bkVkaXQgPSBuZXcgQnV0dG9uKCdFZGl0YXInLCAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLXNtJywgJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9lZGl0QWN0aW9uKGFwcG9pbnRtZW50LmlkKSkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBsZXQgYnRuUmVtb3ZlID0gbmV3IEJ1dHRvbignUmVtb3ZlcicsICdidG4gYnRuLW91dGxpbmUtZGFuZ2VyIGJ0bi1zbScsICdidXR0b24nLFxyXG4gICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9yZW1vdmVBY3Rpb24oYXBwb2ludG1lbnQuaWQpKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUYWJsZUxpbmUoYXBwb2ludG1lbnQuaWQsIFthcHBvaW50bWVudC5jdXN0b21lci5mdWxsbmFtZSwgYXBwb2ludG1lbnQucHJvZmVzc2lvbmFsLm5hbWUsIFxyXG4gICAgICAgICAgICBEYXRlRm9ybWF0LnRvU3RyaW5nKGFwcG9pbnRtZW50LmRhdGUpLCBhcHBvaW50bWVudC50aW1lLCBhcHBvaW50bWVudC50aXRsZSwgXHJcbiAgICAgICAgICAgIGFwcG9pbnRtZW50LmRvbmUgPyAnU2ltJyA6ICdOw6NvJ10sIGJ0bkVkaXQsIGJ0blJlbW92ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50J1xyXG5pbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tICcuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2VGFiUGFuZWwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50ZVNlbGVjdG9yLCBpbmZvKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50ZVNlbGVjdG9yLCBpbmZvKTtcclxuICAgICAgICBjb25zdCB0YWJwcmVpZCA9ICduYXZ0YWJwbi0nO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRhYih0YWJUaXRsZSwgdGFiSWRlbnRpZmljYXRpb24sIGFjdGl2ZT1mYWxzZSkge1xyXG4gICAgICAgIGxldCBuYXZUYWJzID0gdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsLm5hdi10YWJzJyk7XHJcbiAgICAgICAgbmF2VGFicy5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVUYWJJdGVtKHRhYlRpdGxlLCB0YWJJZGVudGlmaWNhdGlvbiwgYWN0aXZlKSk7XHJcblxyXG4gICAgICAgIGxldCBuYXZDb250ZW50ID0gdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50YWItY29udGVudCcpO1xyXG4gICAgICAgIG5hdkNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlVGFiQ29udGVudCh0YWJJZGVudGlmaWNhdGlvbiwgYWN0aXZlKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdjb250ZW50SWQnOiAnIycgICsgdGFiSWRlbnRpZmljYXRpb24gKyAnLWNvbnRlbnQnLFxyXG4gICAgICAgICAgICAndGFiSWQnOiAnIycgICsgdGFiSWRlbnRpZmljYXRpb24gKyAnLXRhYidcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhYkFzKGlkLCBkaXNhYmxlPXRydWUpIHtcclxuICAgICAgICBpZiAoZGlzYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcigndWwubmF2LXRhYnMgJyArIGlkKS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCd1bC5uYXYtdGFicyAnICsgaWQpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEFzQWN0aXZlKGlkLCBjb250ZW50SWQpIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvckFsbCgndWwubmF2LXRhYnMgbGkgYScpLmZvckVhY2goaXRlbSA9PiAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi50YWItY29udGVudCBkaXYnKS5mb3JFYWNoKGl0ZW0gPT4gIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKGlkKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3Rvcihjb250ZW50SWQpLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3Rvcihjb250ZW50SWQpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlVGFiSXRlbSh0aXRsZSwgaWQsIGFjdGl2ZT1mYWxzZSkge1xyXG4gICAgICAgIGxldCBpdGVtID0gYCAgIFxyXG4gICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPlxyXG4gICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rICR7YWN0aXZlID8gJ2FjdGl2ZScgOiAnJ31cIiBpZD1cIiR7aWR9LXRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCIgaHJlZj1cIiMke2lkfS1jb250ZW50XCIgcm9sZT1cInRhYlwiIGFyaWEtY29udHJvbHM9XCIke3RpdGxlfVwiIGFyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCI+JHt0aXRsZX08L2E+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgICBgXHJcblxyXG4gICAgICAgIHJldHVybiBET01QYXJzZXJVdGlsLnBhcnNlKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVUYWJDb250ZW50KGlkLCBhY3RpdmU9ZmFsc2UpIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgJHthY3RpdmUgPyAnc2hvdyBhY3RpdmUnIDogJyd9XCIgaWQ9XCIke2lkfS1jb250ZW50XCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJHtpZH0tdGFiXCI+PC9kaXY+XHJcbiAgICAgICAgYFxyXG4gICAgICAgIHJldHVybiBET01QYXJzZXJVdGlsLnBhcnNlKGNvbnRlbnQpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJuYXYgbmF2LXRhYnNcIiByb2xlPVwidGFibGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVwiO1xyXG5pbXBvcnQgTW9kZWxUYWJsZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RlbFRhYmxlXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9uXCI7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9MaXN0ZW5lckFjdGlvblwiO1xyXG5pbXBvcnQgTW9kZWxMaXN0IGZyb20gXCIuLi9tb2RlbHMvTW9kZWxMaXN0XCI7XHJcbmltcG9ydCBDdXN0b21lclNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL0N1c3RvbWVyU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tZXJTZWxlY3RUYWJsZSBleHRlbmRzIE1vZGVsVGFibGUge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIHNlbGVjdEFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdjdXN0b21lclNlbGVjdFRhYmxlJyxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiBbJ05vbWUnLCAnSW5kaWNhZG8gUG9yJywgJ1Byb2Zpc3Npb25hbCBSZXNwb25zw6F2ZWwnLCAnU2VsZWNpb25hciddXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NlbGVjdEFjdGlvbiA9IHNlbGVjdEFjdGlvbjtcclxuICAgICAgICB0aGlzLl9jdXN0b21lcnMgPSBuZXcgTW9kZWxMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJTZXJ2aWNlID0gbmV3IEN1c3RvbWVyU2VydmljZSgpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIiNidG5TZWFyY2hDdXN0b21lclwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLnNlYXJjaCgpfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoKCkge1xyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2VhcmNoQ3VzdG9tZXJOYW1lXCIpLnZhbHVlO1xyXG4gICAgICAgIGxldCBwYXJhbWV0ZXIgPSAnZnVsbG5hbWU9JyArIG5hbWUgKyAnJnNpemU9Myc7XHJcblxyXG4gICAgICAgIHRoaXMuX2N1c3RvbWVycy5jbGVhbigpO1xyXG4gICAgICAgIHRoaXMuX2N1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnMocGFyYW1ldGVyKVxyXG4gICAgICAgICAgICAudGhlbihwYWdlYWJsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYWdlYWJsZVsnY29udGVudCddLmZvckVhY2goY3VzdG9tZXIgPT4ge3RoaXMuX2N1c3RvbWVycy5hZGQoY3VzdG9tZXIpfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyb21Nb2RlbCh0aGlzLl9jdXN0b21lcnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaFBhbmVsID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY3VzdG9tZXJOYW1lXCI+Tm9tZSBkbyBDbGllbnRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiYnV0dG9uLWFkZG9uMjVcIiBpZD1cInNlYXJjaEN1c3RvbWVyTmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCIgaWQ9XCJidXR0b24tYWRkb24yNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1wcmltYXJ5XCIgdHlwZT1cImJ1dHRvblwiIGlkPVwiYnRuU2VhcmNoQ3VzdG9tZXJcIj5CdXNjYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VhcmNoUGFuZWwgKyBzdXBlci5fYmFzZShpbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsKGN1c3RvbWVyKSB7XHJcbiAgICAgICAgbGV0IGJ0blNlbGVjdCA9IG5ldyBCdXR0b24oJ1NlbGVjaW9uYXInLCAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLXNtJywgJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB7dGhpcy5fc2VsZWN0QWN0aW9uKGN1c3RvbWVyKX0pKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVGFibGVMaW5lKGN1c3RvbWVyLmlkLCBcclxuICAgICAgICAgICAgW2N1c3RvbWVyLmZ1bGxuYW1lLCBjdXN0b21lci5pbmRpY2F0ZWRCeSwgY3VzdG9tZXIucHJvZmVzc2lvbmFsRW5nYWdlZF0sIGJ0blNlbGVjdCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRGF0ZUZvcm1hdEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9EYXRlRm9ybWF0SGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBvaW50bWVudERUTyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjdXN0b21lcklkLCBwcm9mZXNzaW9uYWxJZCwgZGF0ZSwgdGltZSwgdGl0bGUsIG5vdGVzLCBkb25lPWZhbHNlLCBpZD1udWxsLFxyXG4gICAgICAgICAgICBzZXJ2aWNlTm90ZXM9bnVsbCwgcGF5bWVudFZhbHVlPW51bGwsIHBheW1lbnRNZXRob2Q9bnVsbCwgcGF5bWVudERhdGU9bnVsbCwgcGF5bWVudE5vdGVzPW51bGwpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbWVySWQgPSBjdXN0b21lcklkO1xyXG4gICAgICAgIHRoaXMucHJvZmVzc2lvbmFsSWQgPSBwcm9mZXNzaW9uYWxJZDtcclxuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlID8gbmV3IERhdGUoRGF0ZUZvcm1hdEhlbHBlci50b0RhdGUoZGF0ZSkpIDogbnVsbDtcclxuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLm5vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5kb25lID0gZG9uZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlTm90ZXMgPSBzZXJ2aWNlTm90ZXM7XHJcbiAgICAgICAgdGhpcy5wYXltZW50VmFsdWUgPSBwYXltZW50VmFsdWU7XHJcbiAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kID0gcGF5bWVudE1ldGhvZDtcclxuICAgICAgICB0aGlzLnBheW1lbnREYXRlID0gcGF5bWVudERhdGU7XHJcbiAgICAgICAgdGhpcy5wYXltZW50Tm90ZXMgPSBwYXltZW50Tm90ZXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFNlcnZpY2Uobm90ZXMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VOb3RlcyA9IG5vdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBheW1lbnQodmFsdWUsIG1ldGhvZCwgZGF0ZSwgbm90ZXMpIHtcclxuICAgICAgICB0aGlzLnBheW1lbnRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IG1ldGhvZDtcclxuICAgICAgICB0aGlzLnBheW1lbnREYXRlID0gIGRhdGUgPyBuZXcgRGF0ZShEYXRlRm9ybWF0SGVscGVyLnRvRGF0ZShkYXRlKSkgOiBudWxsO1xyXG4gICAgICAgIHRoaXMucGF5bWVudE5vdGVzID0gbm90ZXM7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9uXCI7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWxTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9Qcm9mZXNzaW9uYWxTZXJ2aWNlXCI7XHJcbmltcG9ydCBBcHBvaW50bWVudCBmcm9tIFwiLi4vbW9kZWxzL0FwcG9pbnRtZW50XCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsXCI7XHJcbmltcG9ydCBDdXN0b21lckZvcm0gZnJvbSBcIi4vQ3VzdG9tZXJGb3JtXCI7XHJcbmltcG9ydCBMaXN0ZW5lckFjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9MaXN0ZW5lckFjdGlvblwiO1xyXG5pbXBvcnQgQ3VzdG9tZXIgZnJvbSBcIi4uL21vZGVscy9DdXN0b21lclwiO1xyXG5pbXBvcnQgQ3VzdG9tZXJTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9DdXN0b21lclNlcnZpY2VcIjtcclxuaW1wb3J0IEN1c3RvbWVyU2VsZWN0VGFibGUgZnJvbSBcIi4vQ3VzdG9tZXJTZWxlY3RUYWJsZVwiO1xyXG5pbXBvcnQgQXBwb2ludG1lbnREVE8gZnJvbSBcIi4uL2R0b3MvQXBwb2ludG1lbnRzRFRPXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBvaW50bWVudEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCAuLi5saXN0ZW5lcnMpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvciwge1xyXG4gICAgICAgICAgICAnaWQnOiAnYXBwb2ludG1lbnRGb3JtJyxcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2FwcG9pbnRtZW50ID0gbmV3IEFwcG9pbnRtZW50KCk7XHJcbiAgICAgICAgdGhpcy5fcHJvZmVzc2lvbmFsTGlzdCA9IFtdO1xyXG4gICAgICAgIG5ldyBQcm9mZXNzaW9uYWxTZXJ2aWNlKCkuZ2V0QWxsUHJvZmVzc2lvbmFscygpXHJcbiAgICAgICAgICAgIC50aGVuKHByb2Zlc3Npb25hbHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZmVzc2lvbmFsTGlzdCA9IHByb2Zlc3Npb25hbHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJNb2RhbCA9IG5ldyBNb2RhbCgnbWFpbicsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ2N1c3RvbWVyU2VsZWN0aW9uTW9kYWwnLFxyXG4gICAgICAgICAgICAndGl0bGUnOiBcIkNhZGFzdHJhciBub3ZvIENsaWVudGVcIixcclxuICAgICAgICAgICAgJ2Zvb3Rlcic6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJTZXJ2aWNlID0gbmV3IEN1c3RvbWVyU2VydmljZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93Rm9yTmV3Q3VzdG9tZXIoKSB7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJNb2RhbC5jbGVhbkNvbnRlbnQoKTtcclxuICAgICAgICB0aGlzLl9jdXN0b21lckZvcm0gPSBuZXcgQ3VzdG9tZXJGb3JtKHRoaXMuX2N1c3RvbWVyTW9kYWwuY29udGVudFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJNb2RhbC51cGRhdGVGb290ZXIoXHJcbiAgICAgICAgICAgIG5ldyBCdXR0b24oJ0NhZGFzdHJhcicsICdidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrJywgJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4ge3RoaXMuX3N1Ym1pdE5ld0N1c3RvbWVyRm9ybSgpfSkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9jdXN0b21lck1vZGFsLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0ZvclNlYXJjaEN1c3RvbWVyKCkge1xyXG4gICAgICAgIHRoaXMuX2N1c3RvbWVyTW9kYWwuY2xlYW5Db250ZW50KCk7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJGb3JtID0gbmV3IEN1c3RvbWVyU2VsZWN0VGFibGUodGhpcy5fY3VzdG9tZXJNb2RhbC5jb250ZW50U2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICBjdXN0b21lciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3VzdG9tZXIoY3VzdG9tZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VzdG9tZXJNb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9jdXN0b21lck1vZGFsLmNsZWFuRm9vdGVyKCk7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJNb2RhbC5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3N1Ym1pdE5ld0N1c3RvbWVyRm9ybSgpIHtcclxuICAgICAgICBsZXQgY3VzdG9tZXJEVE8gPSB0aGlzLl9jdXN0b21lckZvcm0uZ2V0Q3VzdG9tZXJEVE8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJTZXJ2aWNlLmNyZWF0ZUN1c3RvbWVyKGN1c3RvbWVyRFRPKVxyXG4gICAgICAgICAgICAudGhlbihjdXN0b21lciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXN0b21lcihjdXN0b21lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXN0b21lck1vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEN1c3RvbWVyKGN1c3RvbWVyKSB7XHJcbiAgICAgICAgdGhpcy5fYXBwb2ludG1lbnQuY3VzdG9tZXIgPSBjdXN0b21lcjtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBhcHBvaW50bWVudChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIHRoaXMuX2FwcG9pbnRtZW50ID0gYXBwb2ludG1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBc0RUTygpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXcgQXBwb2ludG1lbnREVE8oZGF0YVsnY3VzdG9tZXJJZCddLCBkYXRhWydwcm9mZXNzaW9uYWxJZCddLCBkYXRhWydkYXRlJ10sIFxyXG4gICAgICAgICAgICBkYXRhWyd0aW1lJ10sIGRhdGFbJ3RpdGxlJ10sIGRhdGFbJ25vdGVzJ10sIGRhdGFbJ2RvbmUnXSwgZGF0YVsnaWQnXSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RlbXBsYXRlKCkge1xyXG4gICAgICAgIGxldCBidG5OQ3VzdG9tZXJJZCA9ICdidG5DcmVhdGVDdXN0b21lcic7XHJcbiAgICAgICAgbGV0IGJ0blNDdXN0b21lcklkID0gJ2J0blNlYXJjaEN1c3RvbWVyJztcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJpZFwiIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLl9hcHBvaW50bWVudC5pZCA/IHRoaXMuX2FwcG9pbnRtZW50LmlkIDogJyd9XCIgLz5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiY3VzdG9tZXJJZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuX2FwcG9pbnRtZW50LmN1c3RvbWVyID8gdGhpcy5fYXBwb2ludG1lbnQuY3VzdG9tZXIuaWQgOiAnJ31cIiAvPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjdXN0b21lck5hbWVcIj5DbGllbnRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiYnV0dG9uLWFkZG9uNFwiIHJlYWRvbmx5IG5hbWU9XCJjdXN0b21lck5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuX2FwcG9pbnRtZW50LmN1c3RvbWVyID8gdGhpcy5fYXBwb2ludG1lbnQuY3VzdG9tZXIuZnVsbG5hbWUgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLWFwcGVuZFwiIGlkPVwiYnV0dG9uLWFkZG9uNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1wcmltYXJ5XCIgdHlwZT1cImJ1dHRvblwiIGlkPVwiJHtidG5OQ3VzdG9tZXJJZH1cIj5Ob3ZvPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiIHR5cGU9XCJidXR0b25cIiBpZD1cIiR7YnRuU0N1c3RvbWVySWR9XCI+RW5jb250cmFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwcm9mZXNzaW9uYWxJZFwiPlByb2Zlc3Npb25hbCBSZXNwb25zw6F2ZWw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cInByb2Zlc3Npb25hbElkXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLl9wcm9mZXNzaW9uYWxMaXN0Lm1hcChwcm9mZXNzaW9uYWwgPT4gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7cHJvZmVzc2lvbmFsLmlkfVwiICR7dGhpcy5fYXBwb2ludG1lbnQucHJvZmVzc2lvbmFsICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcG9pbnRtZW50LnByb2Zlc3Npb25hbC5pZCA9PSBwcm9mZXNzaW9uYWwuaWQgPyAnc2VsZWN0ZWQnIDogJyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2Zlc3Npb25hbC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRhdGVcIj5EYXRhPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiZGF0ZVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuX2FwcG9pbnRtZW50LmRhdGUgPyB0aGlzLl9hcHBvaW50bWVudC5kYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCkgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidGltZVwiPkhvcsOhcmlvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwidGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7dGhpcy5fYXBwb2ludG1lbnQudGltZSA/IHRoaXMuX2FwcG9pbnRtZW50LnRpbWUgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRpdGxlXCI+VGl0dWxvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLl9hcHBvaW50bWVudC50aXRsZSA/IHRoaXMuX2FwcG9pbnRtZW50LnRpdGxlIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJub3Rlc1wiPkFub3Rhw6fDtWVzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwibm90ZXNcIj4ke3RoaXMuX2FwcG9pbnRtZW50Lm5vdGVzID8gdGhpcy5fYXBwb2ludG1lbnQubm90ZXMgOiAnJ308L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLl9hcHBvaW50bWVudC5pZCA/IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBmb3JtLWNoZWNrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiBuYW1lPVwiZG9uZVwiIHZhbHVlPVwidHJ1ZVwiICR7dGhpcy5fYXBwb2ludG1lbnQuZG9uZSA/ICdjaGVja2VkJyA6ICcnfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiPkNvbmNsdWlkbzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGxldCBmb3JtID0gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKCcjJyArIGJ0bk5DdXN0b21lcklkKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5fc2hvd0Zvck5ld0N1c3RvbWVyKCl9KTtcclxuXHJcbiAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKCcjJyArIGJ0blNDdXN0b21lcklkKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5fc2hvd0ZvclNlYXJjaEN1c3RvbWVyKCl9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZvcm07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtXCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IFNlcnZpY2UgZnJvbSBcIi4uL21vZGVscy9TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlRm9ybSBleHRlbmRzIEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdzZXJ2aWNlRm9ybScsXHJcbiAgICAgICAgICAgIGxpc3RlbmVyc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzZXJ2aWNlKHNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJub3Rlc1wiPkFub3Rhw6fDtWVzL0luZm9ybWHDp8O1ZXM8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJzZXJ2aWNlTm90ZXNcIj4ke3RoaXMuX3NlcnZpY2Uubm90ZXMgPyB0aGlzLl9zZXJ2aWNlLm5vdGVzIDogJyd9PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtXCJcclxuaW1wb3J0IFBheW1lbnQgZnJvbSBcIi4uL21vZGVscy9QYXltZW50XCJcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCAuLi5saXN0ZW5lcnMpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvciwge1xyXG4gICAgICAgICAgICAnaWQnOiAncGF5bWVudEZvcm0nLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGF5bWVudCA9IG5ldyBQYXltZW50KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGF5bWVudChwYXltZW50KSB7XHJcbiAgICAgICAgdGhpcy5fcGF5bWVudCA9IHBheW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PiAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwYXltZW50VmFsdWVcIj5WYWxvcjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMC4wMFwiIHN0ZXA9XCIwLjAxXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwicGF5bWVudFZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLl9wYXltZW50LnZhbHVlID8gdGhpcy5fcGF5bWVudC52YWx1ZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwYXltZW50TWV0aG9kXCI+Rm9ybWEgZGUgUGFnYW1lbnRvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwicGF5bWVudE1ldGhvZFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ1JFRElUX0NBUkRcIiAke3RoaXMuX3BheW1lbnQubWV0aG9kLmVxdWFscygnQ1JFRElUX0NBUkQnKSA/ICdzZWxlY3RlZCcgOiAnJ30+Q2FydMOjbyBkZSBDcsOpZGl0bzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1PTkVZXCIgJHt0aGlzLl9wYXltZW50Lm1ldGhvZC5lcXVhbHMoJ0NSRURJVF9DQVJEJykgPyAnc2VsZWN0ZWQnIDogJyd9PkRpbmhlaXJvPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBheW1lbnREYXRlXCI+RGF0YTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInBheW1lbnREYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLl9wYXltZW50LmRhdGUgPyAgdGhpcy5fcGF5bWVudC5kYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCkgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwYXltZW50Tm90ZXNcIj5Bbm90YcOnw7VlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInBheW1lbnROb3Rlc1wiPiR7dGhpcy5fcGF5bWVudC5ub3RlcyA/IHRoaXMuX3BheW1lbnQubm90ZXMgOiAnJ308L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHJldHVybiBET01QYXJzZXJVdGlsLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgIH1cclxufSIsImltcG9ydCBOYXZUYWJQYW5lbCBmcm9tIFwiLi4vY29tcG9uZW50cy9OYXZUYWJQYW5lbFwiO1xyXG5pbXBvcnQgQXBwb2ludG1lbnRGb3JtIGZyb20gXCIuL0FwcG9pbnRtZW50Rm9ybVwiO1xyXG5pbXBvcnQgQXBwb2ludG1lbnQgZnJvbSBcIi4uL21vZGVscy9BcHBvaW50bWVudFwiO1xyXG5pbXBvcnQgU2VydmljZUZvcm0gZnJvbSBcIi4vU2VydmljZUZvcm1cIjtcclxuaW1wb3J0IFBheW1lbnRGb3JtIGZyb20gXCIuL1BheW1lbnRGb3JtXCI7XHJcbmltcG9ydCBTZXJ2aWNlIGZyb20gXCIuLi9tb2RlbHMvU2VydmljZVwiO1xyXG5pbXBvcnQgUGF5bWVudCBmcm9tIFwiLi4vbW9kZWxzL1BheW1lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcG9pbnRtZW50VGFiUGFuZWxGb3JtIGV4dGVuZHMgTmF2VGFiUGFuZWwge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2FwcG9pbnRtZW50VGFiID0gdGhpcy5hZGRUYWIoJ0F0ZW5kaW1lbnRvJywgJ2FwcG9pbnRtZW50JywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5fYXBwb2ludG1lbnRGb3JtID0gbmV3IEFwcG9pbnRtZW50Rm9ybSh0aGlzLl9hcHBvaW50bWVudFRhYi5jb250ZW50SWQpO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXJ2aWNlVGFiID0gdGhpcy5hZGRUYWIoJ1NlcnZpw6dvJywgJ3NlcnZpY2UnKTtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlRm9ybSA9IG5ldyBTZXJ2aWNlRm9ybSh0aGlzLl9zZXJ2aWNlVGFiLmNvbnRlbnRJZCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BheW1lbnRUYWIgPSB0aGlzLmFkZFRhYignUGFnYW1lbnRvJywgJ3BheW1lbnQnKTtcclxuICAgICAgICB0aGlzLl9wYXltZW50Rm9ybSA9IG5ldyBQYXltZW50Rm9ybSh0aGlzLl9wYXltZW50VGFiLmNvbnRlbnRJZCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vZGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXBwb2ludG1lbnRGb3JtKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBvaW50bWVudEZvcm07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXBwb2ludG1lbnREVE8oKSB7XHJcbiAgICAgICAgbGV0IGFwcG9pbnRtZW50RFRPID0gdGhpcy5fYXBwb2ludG1lbnRGb3JtLmdldEFzRFRPKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZU1vZGUpIHtcclxuICAgICAgICAgICAgbGV0IHNlcnZpY2VEYXRhID0gdGhpcy5fc2VydmljZUZvcm0uZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICBhcHBvaW50bWVudERUTy5zZXRTZXJ2aWNlKHNlcnZpY2VEYXRhWydzZXJ2aWNlTm90ZXMnXSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGF5bWVudERhdGEgPSB0aGlzLl9wYXltZW50Rm9ybS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgIGFwcG9pbnRtZW50RFRPLnNldFBheW1lbnQocGF5bWVudERhdGFbJ3BheW1lbnRWYWx1ZSddLCBwYXltZW50RGF0YVsncGF5bWVudE1ldGhvZCddLCBwYXltZW50RGF0YVsncGF5bWVudERhdGUnXSwgcGF5bWVudERhdGFbJ3BheW1lbnROb3RlcyddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhcHBvaW50bWVudERUTztcclxuICAgIH1cclxuXHJcbiAgICBuZXdNb2RlKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9hcHBvaW50bWVudEZvcm0uYXBwb2ludG1lbnQgPSBuZXcgQXBwb2ludG1lbnQoKTtcclxuICAgICAgICB0aGlzLnNldFRhYkFzKHRoaXMuX3NlcnZpY2VUYWIudGFiSWQsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2V0VGFiQXModGhpcy5fcGF5bWVudFRhYi50YWJJZCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRBc0FjdGl2ZSh0aGlzLl9hcHBvaW50bWVudFRhYi50YWJJZCwgdGhpcy5fYXBwb2ludG1lbnRUYWIuY29udGVudElkKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlTW9kZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZU1vZGUoYXBwb2ludG1lbnQpIHtcclxuICAgICAgICB0aGlzLl9hcHBvaW50bWVudEZvcm0uYXBwb2ludG1lbnQgPSBhcHBvaW50bWVudDtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlRm9ybS5zZXJ2aWNlID0gYXBwb2ludG1lbnQuc2VydmljZSA/IGFwcG9pbnRtZW50LnNlcnZpY2UgOiBuZXcgU2VydmljZSgpO1xyXG4gICAgICAgIHRoaXMuX3BheW1lbnRGb3JtLnBheW1lbnQgPSBhcHBvaW50bWVudC5zZXJ2aWNlICYmIGFwcG9pbnRtZW50LnNlcnZpY2UucGF5bWVudCA/IFxyXG4gICAgICAgICAgICBhcHBvaW50bWVudC5zZXJ2aWNlLnBheW1lbnQgOiBuZXcgUGF5bWVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFRhYkFzKHRoaXMuX3NlcnZpY2VUYWIudGFiSWQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNldFRhYkFzKHRoaXMuX3BheW1lbnRUYWIudGFiSWQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNldEFzQWN0aXZlKHRoaXMuX2FwcG9pbnRtZW50VGFiLnRhYklkLCB0aGlzLl9hcHBvaW50bWVudFRhYi5jb250ZW50SWQpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vZGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVXBkYXRlTW9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlTW9kZTtcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IERlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIGZyb20gXCIuL0RlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyXCI7XHJcbmltcG9ydCBBcHBvaW50bWVudFNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL0FwcG9pbnRtZW50U2VydmljZVwiO1xyXG5pbXBvcnQgQmluZFByb3h5TW9kZWxWaWV3IGZyb20gXCIuLi9oZWxwZXJzL0JpbmRQcm94eU1vZGVsVmlld1wiO1xyXG5pbXBvcnQgQWxlcnRNZXNzYWdlIGZyb20gXCIuLi9tb2RlbHMvQWxlcnRNZXNzYWdlXCI7XHJcbmltcG9ydCBBbGVydE1lc3NhZ2VWaWV3IGZyb20gXCIuLi92aWV3cy9BbGVydE1lc3NhZ2VWaWV3XCI7XHJcbmltcG9ydCBQcm94eU1vZGVsQ29tcG9uZW50IGZyb20gXCIuLi9oZWxwZXJzL1Byb3h5TW9kZWxDb21wb25lbnRcIjtcclxuaW1wb3J0IE1vZGVsTGlzdCBmcm9tIFwiLi4vbW9kZWxzL01vZGVsTGlzdFwiO1xyXG5pbXBvcnQgUGFnZWFibGVOYXZpZ2F0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BhZ2VhYmxlTmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgQXBwb2ludG1lbnRTZWFyY2hGb3JtIGZyb20gXCIuLi92aWV3cy9BcHBvaW50bWVudFNlYXJjaEZvcm1cIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsXCI7XHJcbmltcG9ydCBBcHBvaW50bWVudFRhYmxlIGZyb20gJy4uL3ZpZXdzL0FwcG9pbnRtZW50VGFibGUnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvblwiO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb25cIjtcclxuaW1wb3J0IEFwcG9pbnRtZW50VGFiUGFuZWxGb3JtIGZyb20gXCIuLi92aWV3cy9BcHBvaW50bWVudFRhYlBhbmVsRm9ybVwiO1xyXG5pbXBvcnQgQ29uZmlybU1vZGFsIGZyb20gXCIuLi9jb21wb25lbnRzL0NvbmZpcm1Nb2RhbFwiO1xyXG5pbXBvcnQgRGF0ZUZvcm1hdEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9EYXRlRm9ybWF0SGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBvaW50bWVudENvbnRyb2xsZXIgZXh0ZW5kcyBEZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlciB7XHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IEFwcG9pbnRtZW50U2VydmljZSgpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0QWxlcnRNZXNzYWdlcygpO1xyXG4gICAgICAgIHRoaXMuX2luaXRBcHBvaW50bWVudHNUYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRBcHBvaW50bWVudEZvcm1Nb2RhbCgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRSZW1vdmVDb25maXJtYXRpb25Nb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0QWxlcnRNZXNzYWdlcygpIHtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbmV3IEJpbmRQcm94eU1vZGVsVmlldyhuZXcgQWxlcnRNZXNzYWdlKCksXHJcbiAgICAgICAgICAgIG5ldyBBbGVydE1lc3NhZ2VWaWV3KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGVydE1lc3NhZ2UnKSksXHJcbiAgICAgICAgICAgICd1cGRhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEFwcG9pbnRtZW50c1RhYmxlKCkge1xyXG4gICAgICAgIGxldCB0YWJsZVBhbmVsID0gXCIjYXBwb2ludG1lbnRMaXN0XCI7XHJcblxyXG4gICAgICAgIHRoaXMuX2FwcG9pbnRtZW50cyA9IG5ldyBQcm94eU1vZGVsQ29tcG9uZW50KG5ldyBNb2RlbExpc3QoKSxcclxuICAgICAgICAgICAgbmV3IEFwcG9pbnRtZW50VGFibGUodGFibGVQYW5lbCxcclxuICAgICAgICAgICAgICAgIGlkID0+IHt0aGlzLl9lZGl0QXBwb2ludG1lbnQoaWQpfSwgXHJcbiAgICAgICAgICAgICAgICBpZCA9PiB7dGhpcy5fc2hvd1JlbW92ZU1vZGFsQ29uZmlybWF0aW9uKGlkKX0pLFxyXG4gICAgICAgICAgICAnYWRkJywgJ3JlbW92ZScsICdjbGVhbicpO1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZU5hdiA9IG5ldyBQYWdlYWJsZU5hdmlnYXRpb24odGFibGVQYW5lbCwge1xyXG4gICAgICAgICAgICAnaWQnOiAndGFibGVOYXYnXHJcbiAgICAgICAgfSwgcGFnZSA9PiB7dGhpcy5zZWFyY2hBcHBvaW50bWVudHMocGFnZSl9KTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdEFwcG9pbnRtZW50c1NlYXJjaEZvcm0oKTtcclxuICAgICAgICB0aGlzLnNlYXJjaEFwcG9pbnRtZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0QXBwb2ludG1lbnRzU2VhcmNoRm9ybSgpIHtcclxuICAgICAgICB0aGlzLl9zZWFyY2hNb2RhbCA9IG5ldyBNb2RhbChcIm1haW5cIiwge1xyXG4gICAgICAgICAgICAnaWQnOiAnc2VhcmNoTW9kYWwnLFxyXG4gICAgICAgICAgICAndGl0bGUnOiAnRmlsdHJvIGRlIFBlc3F1aXNhJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXNob3ctc2VhcmNoLW1vZGFsJylcclxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuX3NlYXJjaE1vZGFsLnNob3coKX0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zZWFyY2hGb3JtID0gbmV3IEFwcG9pbnRtZW50U2VhcmNoRm9ybSh0aGlzLl9zZWFyY2hNb2RhbC5jb250ZW50U2VsZWN0b3IsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEFwcG9pbnRtZW50cygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoTW9kYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRBcHBvaW50bWVudEZvcm1Nb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0gPSBuZXcgTW9kYWwoJ21haW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdhcHBvaW50bWVudEZvcm1Nb2RhbCcsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdGb3JtdWzDoXJpbyBkZSBBdGVuZGltZW50bycsXHJcbiAgICAgICAgICAgICdmb290ZXInOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BhbmVsRm9ybSA9IG5ldyBBcHBvaW50bWVudFRhYlBhbmVsRm9ybSh0aGlzLl9tb2RhbEZvcm0uY29udGVudFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnVwZGF0ZUZvb3RlcihcclxuICAgICAgICAgICAgbmV3IEJ1dHRvbignU2FsdmFyJywgJ2J0biBidG4tcHJpbWFyeSBidG4tbGcnLCAnYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB7dGhpcy5zYXZlQXBwb2ludG1lbnRGb3JtKCl9KSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNyZWF0ZS1hcHBvaW50bWVudCcpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9jcmVhdGVBcHBvaW50bWVudCgpfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRSZW1vdmVDb25maXJtYXRpb25Nb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbFJlbW92ZUNvbmZpcm1hdGlvbiA9IG5ldyBDb25maXJtTW9kYWwoXCJtYWluXCIsIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBcInJlbW92ZUNvbmZpcm1hdGlvbk1vZGFsXCIsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogJ1JlbW92ZXIgQXRlbmRpbWVudG8nLFxyXG4gICAgICAgICAgICBcImJ1dHRvbkxhYmVsXCI6IFwiUmVtb3ZlciBEZWZpbml0aXZhbWVudGVcIlxyXG4gICAgICAgIH0sIGlkID0+IHt0aGlzLmRlbGV0ZUFwcG9pbnRtZW50KGlkKX0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuICAgIF9jcmVhdGVBcHBvaW50bWVudCgpIHtcclxuICAgICAgICB0aGlzLl9wYW5lbEZvcm0ubmV3TW9kZSgpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsRm9ybS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2VkaXRBcHBvaW50bWVudChpZCkge1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuZ2V0RGV0YWlsZWQoaWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihhcHBvaW50bWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFuZWxGb3JtLnVwZGF0ZU1vZGUoYXBwb2ludG1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsRm9ybS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dSZW1vdmVNb2RhbENvbmZpcm1hdGlvbihpZCkge1xyXG4gICAgICAgIGxldCBhcHBvaW50bWVudCA9IHRoaXMuX2FwcG9pbnRtZW50cy5maW5kKGlkKTtcclxuICAgICAgICB0aGlzLl9tb2RhbFJlbW92ZUNvbmZpcm1hdGlvbi51cGRhdGUoYFxyXG4gICAgICAgICAgICBWb2PDqiB0ZW0gY2VydGV6YSBxdWUgZGVzZWphIHJlbW92ZXIgZGVmaW5pdGl2YW1lbnRlIG8gYXRlbmRpbWVudG8gZG9cclxuICAgICAgICAgICAgY2xpZW50ZSAke2FwcG9pbnRtZW50LmN1c3RvbWVyLmZ1bGxuYW1lfSBtYXJjYWRvIHBhcmEgbyBkaWFcclxuICAgICAgICAgICAgJHtEYXRlRm9ybWF0SGVscGVyLnRvU3RyaW5nKGFwcG9pbnRtZW50LmRhdGUpfT9cclxuICAgICAgICBgLCBpZCk7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxSZW1vdmVDb25maXJtYXRpb24uc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmVBcHBvaW50bWVudEZvcm0oKSB7XHJcbiAgICAgICAgbGV0IGFwcG9pbnRtZW50RFRPID0gdGhpcy5fcGFuZWxGb3JtLmdldEFwcG9pbnRtZW50RFRPKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHByb21pc3NlID0gdGhpcy5fcGFuZWxGb3JtLmlzVXBkYXRlTW9kZSgpID9cclxuICAgICAgICAgICAgdGhpcy5fc2VydmljZS51cGRhdGVBcHBvaW50bWVudChhcHBvaW50bWVudERUTykgOlxyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLmNyZWF0ZUFwcG9pbnRtZW50KGFwcG9pbnRtZW50RFRPKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyLnJ1bihcclxuICAgICAgICAgICAgcHJvbWlzc2UudGhlbihhcHBvaW50bWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBvaW50bWVudHMuYWRkKGFwcG9pbnRtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsRm9ybS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnJywgJ09zIGRhZG9zIGRvIGF0ZW5kaW1lbnRvIGZvcmFtIHNhbHZvcyBjb20gc3VjZXNzbycsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZWFyY2hBcHBvaW50bWVudHMocGFnZT1udWxsKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLl9zZWFyY2hGb3JtLmdldERhdGFBc1BhcmFtcygpO1xyXG4gICAgICAgIGlmIChwYWdlICE9IG51bGwpIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzICsgJyZwYWdlPScgKyBwYWdlO1xyXG5cclxuICAgICAgICB0aGlzLl9hcHBvaW50bWVudHMuY2xlYW4oKTtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIucnVuKFxyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLmdldFBhZ2VhYmxlQXBwb2ludG1lbnRzKHBhcmFtZXRlcnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihwYWdlYWJsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZWFibGUuY29udGVudC5mb3JFYWNoKGFwcG9pbnRtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwb2ludG1lbnRzLmFkZChhcHBvaW50bWVudClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YWJsZU5hdi51cGRhdGUocGFnZWFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UudXBkYXRlKCdBIGxpc3RhIGRlIGF0ZW5kaW1lbnRvcyBlc3TDoSBhdHVhbGl6YWRhJywgJ0xpc3RhIEF0dWFsaXphZGEnLCAnaW5mbycpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFwcG9pbnRtZW50KGlkKSB7XHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyLnJ1bihcclxuICAgICAgICAgICAgdGhpcy5fc2VydmljZS5kZWxldGVBcHBvaW50bWVudChpZClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb2RhbFJlbW92ZUNvbmZpcm1hdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwb2ludG1lbnRzLnJlbW92ZShpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZS51cGRhdGUoJycsICdBdGVuZGltZW50byByZW1vdmlkbyBjb20gc3VjZXNzbycsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQXBwb2ludG1lbnRDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvQXBwb2ludG1lbnRDb250cm9sbGVyJztcclxuXHJcbmxldCBhcHBvaW50bWVudCA9IG5ldyBBcHBvaW50bWVudENvbnRyb2xsZXIoKTsiXSwic291cmNlUm9vdCI6IiJ9