!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1);class s{constructor(e,t={}){this._component=a.a.parse(this._base(t)),this._tag="#"+t.id,this._parentSelector=e,this._info=t,this._init(),document.querySelector(this._parentSelector).appendChild(this._component)}_init(){this._initListeners(this._info.listeners)}_initListeners(e){e&&e.forEach(e=>{this._component.addEventListener(e.type,e.action)})}_base(e){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{static parse(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector("body").firstChild}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e,t){this._type=e,this._action=t}get type(){return this._type}get action(){return this._action}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e,t,n="submit",...a){let s=document.createElement("button");return s.classList=t,s.setAttribute("type",n),s.innerHTML=e,a&&a.forEach(e=>s.addEventListener(e.type,e.action)),s}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(11),n(7);class a{addToken(e,t){let n=`${e} ${t}`;window.localStorage.setItem("msaloonwbtoken",n)}storeItem(e,t){window.localStorage.setItem(e,t)}cleanToken(){window.localStorage.setItem("msaloonwbtoken",null)}get token(){return window.localStorage.getItem("msaloonwbtoken")}getStoredItem(e){return window.localStorage.getItem(e)}post(e,t){let n=this._buildTransactionDetails("POST",t);return this._buildFetchTransaction(e,n)}get(e){let t=this._buildTransactionDetails("GET",null);return this._buildFetchTransaction(e,t)}put(e,t){let n=this._buildTransactionDetails("PUT",t);return this._buildFetchTransaction(e,n)}delete(e){let t=this._buildTransactionDetails("DELETE",null);return fetch(e,t).then(e=>{if(e.ok)return!0;throw new Error("A transactional error has been happened.")})}_buildTransactionHeaders(){return new Headers({"Content-type":"Application/json",Authorization:this.token})}_buildTransactionDetails(e,t){return{method:e,body:t,headers:this._buildTransactionHeaders()}}_buildFetchTransaction(e,t){return fetch(e,t).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>!0);throw new Error("A transactional error has been happened.")})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0);class s extends a.a{updateFields(){document.querySelector(this._tag+" .fields").innerHTML="",document.querySelector(this._tag+" .fields").appendChild(this._template())}submit(){document.querySelector(this._tag).submit()}reset(){document.querySelector(this._tag).reset()}getData(){let e=[];return $(this._tag).serializeArray().forEach(t=>{e[t.name]=t.value}),e}getDataAsParams(){return $(this._tag).serialize()}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".fields").appendChild(this._info.initialContent),this._info.buttons&&this._info.initialButtons&&this._info.initialButtons.forEach(e=>this._component.querySelector(".buttons").appendChild(e))}_base(e){return`\n        <form id=${e.id} ${e.formClass?`class='${e.formClass}'`:""}>\n           <div class='fields'></div>\n           <div class='buttons'>\n                ${e.defaultButtons?'\n                <button type="submit" class="btn btn-primary">Salvar</button>\n                <button type="reset" class="btn btn-secondary">Limpar</button>\n                ':""}\n           </div>\n        </form>\n        `}_template(){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1);var a=n(0);class s extends a.a{show(){$(this._tag).modal("show")}hide(){$(this._tag).modal("hide")}updateContent(e){document.querySelector(this._tag+" .modal-body").innerHTML="",document.querySelector(this._tag+" .modal-body").appendChild(e)}cleanContent(){document.querySelector(this._tag+" .modal-body").innerHTML=""}updateContentText(e){document.querySelector(this._tag+" .modal-body").innerHTML="<pre>"+e+"</pre>"}updateFooter(e){document.querySelector(this._tag+" .modal-footer").innerHTML="",document.querySelector(this._tag+" .modal-footer").appendChild(e)}cleanFooter(){document.querySelector(this._tag+" .modal-footer").innerHTML=""}get contentSelector(){return this._tag+" .modal-body"}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".modal-body").appendChild(this._info.initialContent),this._info.footer&&this._info.initialFooter&&this._component.querySelector(".modal-footer").appendChild(this._info.initialFooter)}_initListeners(e){e&&e.forEach(e=>{$(this._component).on(e.type,e.action)})}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="${e.label?e.label:"myLargeModal"}" aria-hidden="true">\n            <div class="modal-dialog ${e.modalClass?e.modalClass:""}" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">${e.title}</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n            \n                    <div class="modal-body">\n                    </div>\n\n                    ${e.footer?'\n                    <div class="modal-footer">\n                        \n                    </div>\n                    ':""}\n                </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4);class s{constructor(){this._serverURL="http://localhost:8080/auth",this._webtoken="msaloonwbtoken",this._http=new a.a}hasValidToken(){return this._http.get(this._serverURL)}authenticate(e){let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}};return fetch(this._serverURL,t).then(e=>{if(e.ok&&200==e.status)return e.json();throw new Error("The signin data is not correct")}).then(e=>{this._http.addToken(e.type,e.token)})}logout(){this._http.cleanToken()}redirectToLoginPage(){window.location.href="/login.html"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{equals(e){throw new Error("The equals method must be implemented")}equalsFor(e){throw new Error("The equalsFor method must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{static create(e,t,n){return new Proxy(e,{get:(e,s,r)=>t.includes(s)&&a._isFuntion(e[s])?function(){let t=Reflect.apply(e[s],e,arguments);return n(e),t}:Reflect.get(e,s,r),set(e,a,s,r){let i=Reflect.set(e,a,s,r);return t.includes(a)&&n(e),i}})}static _isFuntion(e){return typeof e==typeof Function}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0);class s extends a.a{constructor(e){super(e)}_base(e){return'\n        <nav class="sidebar">\n          <div class="sidebar-sticky">\n            <ul class="nav flex-column">\n              <li class="nav-item">\n                <a class="nav-link active" href="./schedule.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>\n                  Dashboard <span class="sr-only">(current)</span>\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./customers.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>\n                  Clientes\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./professionals.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Profissionais\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./vendors.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Fornecedores\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./purchases.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Compras\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./appointments.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Atendimentos (Consultas)\n                </a>\n              </li>\n            </ul>\n    \n            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n              <span>Minha Conta</span>\n            </h6>\n            <ul class="nav flex-column mb-2">\n              <li class="nav-item">\n                <a class="nav-link" href="./profile.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>\n                  Meu Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        '}}class r extends a.a{constructor(e,t){super(e),this._initHeaderNavigation(t)}_initHeaderNavigation(e){this._component.querySelector("a.logout").addEventListener(e.type,e.action)}_base(e){return'\n        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\n            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">My Saloon Web</a>\n            <input class="form-control form-control-dark w-100" type="text" placeholder="Pesquisar" aria-label="Pesquisar">\n            <ul class="navbar-nav px-3">\n                <li class="nav-item text-nowrap">\n                <a class="nav-link logout" href="#">Logoff</a>\n                </li>\n            </ul>\n        </nav>\n        '}}var i=n(2),o=n(7),l=n(1);class d extends a.a{constructor(){super("#headerNavigation"),this._initLoaderComponent()}start(){this._component.appendChild(this._loaderComponent),this._component.classList.add("pre-loader-running")}stop(){this._component.innerHTML="",this._component.classList.remove("pre-loader-running")}run(e){this.start(),e.then(()=>{this.stop()})}_initLoaderComponent(){this._loaderComponent=l.a.parse('\n        <div class="loader-panel">\n            <div id="loader4">\n                <span class="loader loader-1"></span>\n                <span class="loader loader-2"></span>\n                <span class="loader loader-3"></span>\n                <span class="loader loader-4"></span>\n            </div>\n        </div>\n        ')}_base(){return'\n        <div class="row" id="preLoader">\n            \n        </div>\n        '}}class c{constructor(){this._preLoader=new d,this._authService=new o.a,this._validAuthenticatedClient(),this._headerNav=new r("#headerNavigation",new i.a("click",e=>{this.doLogoff()})),this._dashboardNav=new s("#dashboardNavigation"),this._init()}doLogoff(){this._authService.logout(),this._authService.redirectToLoginPage()}_init(){throw new Error("the _init() method must be implemented")}_validAuthenticatedClient(){this._authService.hasValidToken().catch(()=>{this._authService.redirectToLoginPage()})}}},function(e,t,n){"use strict"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{static toString(e){return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`}static toDate(e){return new Date(e+"T03:00:00Z")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9);class s{constructor(e,t,...n){let s=a.a.create(e,n,e=>t.update(e));return t.update(e),s}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this._title="",this._message="",this._type="primary"}update(e,t="",n="primary"){this._title=t,this._message=e,this._type=n}get title(){return this._title}get message(){return this._message}get type(){return this._type}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends class{constructor(e){this._element=e}_template(e){throw new Error("Template method must be implemented")}update(e){this._element.innerHTML=this._template(e)}}{_template(e){return`\n        <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n            <h4 class="alert-heading">${e.title}</h4>\n            <p class='text-muted'>${e.message}</p>\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n        </div>\n        `}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this._list=[],this._pageableInfo=void 0}clean(){this._list=[],this._pageableInfo=void 0}add(e){this._list.some(t=>t.equals(e))?this._list.forEach((t,n)=>{t.equals(e)&&(this._list[n]=e)}):this._list.push(e)}find(e){return this._list.find(t=>t.equalsFor(e))}updatePageableInfo(e){this._pageableInfo=e}remove(e){this._list.forEach((t,n)=>{t.equalsFor(e)&&this._list.splice(n,1)})}get list(){return this._list}get pageableInfo(){return this._pageableInfo}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);class s extends a.a{_updateList(e){let t=document.querySelector(this._tag+" tbody");t.innerHTML="",e.forEach(e=>t.appendChild(e))}_appendItem(e){document.querySelector(this._tag+" tbody").appendChild(e)}_cleanTable(){document.querySelector(this._tag+" tbody").innerHTML=""}_removeLine(e){document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`).remove()}_updateLine(e,t){let n=document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`);n.parentNode.replaceChild(t,n)}_createTableLine(e,t,...n){let a=document.createElement("tr");if(a.setAttribute("data-key",e),t.forEach(e=>{let t=document.createElement("td");t.innerHTML=e,a.appendChild(t)}),n){let e=document.createElement("td");n.forEach(t=>e.appendChild(t)),a.appendChild(e)}return a}_base(e){return`\n        <table class="table table-hover" id=${e.id}>\n            <thead>\n                <tr>\n                    ${e.headers.map(e=>`\n                        <th scope="col">${e}</th>\n                    `).join("")}\n                </tr>\n            </thead>\n            <tbody>\n                ${e.initialContent?initialContent:""}\n            </tbody>\n        </table>\n        `}}class r extends s{updateFromModel(e){this._cleanTable(),e.list.forEach(e=>this._appendItem(this._createLineTableFromModel(e)))}_createLineTableFromModel(e){throw new Error("_createLineTableFromModel must been implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6);class s extends a.a{constructor(e,t,n){super(e,t),this._removeAction=n}_init(){super._init(),this._component.querySelector(this._tag+" form").addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(this._tag+' form input[name="key"]').value;this._removeAction(t)})}update(e,t){document.querySelector(this._tag+" .modal-body .alert").innerHTML=e,document.querySelector(this._tag+' form input[name="key"]').value=t}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog">\n            <div class="modal-dialog modal-sm" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                <h5 class="modal-title">${e.title}</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                </div>\n                <div class="modal-body">\n                <div class="alert alert-danger" role="alert">\n                    ${e.message}\n                </div>\n                <p class="text-muted">Essa ação não poderá ser desfeita</p>\n                <form>\n                    <input type="hidden" name="key">\n                    <button class="btn btn-danger btn-sm btn-block" type="submit">${e.buttonLabel}</button>\n                </form>\n                </div>\n            </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9);class s{constructor(e,t,...n){let s=a.a.create(e,n,e=>t.updateFromModel(e));return t.updateFromModel(e),s}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e,t,n,a,s,r,i,o,l,d,c=[]){this._pageNumber=e,this._pageSize=t,this._totalElements=n,this._totalPages=a,this._numberOfElements=s,this._first=r,this._last=i,this._number=o,this._size=l,this._empty=d,this._content=c}static buildFrom(e,t){let n=e.pageable;return new a(n.pageNumber,n.pageSize,e.totalElements,e.totalPages,e.numberOfElements,e.first,e.last,e.number,e.size,e.empty,t)}get pageNumber(){return this._pageNumber}get pageSize(){return this._pageSize}get totalElements(){return this._totalElements}get totalPages(){return this._totalPages}get numberOfElements(){return this._numberOfElements}get first(){return this._first}get last(){return this._last}get number(){return this._number}get size(){return this._size}get empty(){return this._empty}get content(){return this._content}get previous(){return this.number-1}get next(){return this.number+1}get hasNext(){return this._number<this._totalPages-1}get hasPrevious(){return this._number>0}get paged(){return this._totalPages>1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n(1),r=n(3),i=n(2);class o extends a.a{constructor(e,t={},n){super(e,t),this._pageAction=n}update(e){document.querySelector(this._tag).innerHTML="",document.querySelector(this._tag).appendChild(this._template(e)),this._createPaginationNavButtons(e).forEach(e=>document.querySelector(this._tag+" .pagination").appendChild(e))}_createPaginationNavButtons(e){let t=[],n=new r.a("Anterior","page-link","button",new i.a("click",()=>this._pageAction(e.previous)));t.push(this._createListItem(!e.hasPrevious,n));for(let n=0;n<e.totalPages;n++){let a=new r.a(n+1,"page-link","button",new i.a("click",()=>this._pageAction(n)));t.push(this._createListItem(e.number==n,a))}let a=new r.a("Proxima","page-link","button",new i.a("click",()=>this._pageAction(e.next)));return t.push(this._createListItem(!e.hasNext,a)),t}_createListItem(e=!1,t){let n=document.createElement("li");return n.classList="page-item "+(e?"disabled":""),n.appendChild(t),n}_template(e){let t=e?`\n        <div>\n            <p class='text-muted'>Exibindo ${e.numberOfElements} de ${e.totalElements}</p>\n            <nav aria-label="Page navigation example">\n                <ul class="pagination justify-content-center">\n                </ul>\n            </nav>\n        </div>\n        `:"";return s.a.parse(t)}_base(e){return`\n        <div class="row>\n            <div class="col-sm-12 col-md-5">\n                <div id='${e.id}'><div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(8);class s extends a.a{constructor(e,t,n,a,s=""){super(),this._name=e,this._phone=t,this._secondaryPhone=n,this._notes=a,this._id=s}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get name(){return this._name}get phone(){return this._phone}get secondaryPhone(){return this._secondaryPhone}get notes(){return this._notes}get id(){return this._id}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(4),s=n(25);class r{constructor(){this._serverUrl="http://localhost:8080/vendors",this._http=new a.a}getAll(){return this._http.get(this._serverUrl).then(e=>e.map(e=>this._getFromData(e))).catch(e=>{throw console.log(e),new Error("Não foi possivel listar os fornecedores")})}getById(e){let t=`${this._serverUrl}/${e}`;return this._http.get(t).then(e=>this._getFromData(e))}create(e){return this._http.post(this._serverUrl,JSON.stringify(e)).then(e=>this._getFromData(e))}update(e){let t=`${this._serverUrl}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getFromData(e))}delete(e){let t=`${this._serverUrl}/${e}`;return this._http.delete(t)}_getFromData(e){return new s.a(e.name,e.phone,e.secondaryPhone,e.notes,e.id)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){this._paymentMethod=e,this._labels={CREDIT_CARD:"Cartão de Crédito",MONEY:"Dinheiro"}}equals(e){return null!=this._paymentMethod&&this._paymentMethod==e}get label(){return this._labels[this._paymentMethod]}get method(){return this._paymentMethod}}},,,,function(e,t,n){"use strict";n.r(t);var a=n(10),s=n(14),r=n(15),i=n(16),o=n(21),l=n(18),d=n(19),c=n(3),u=n(2),h=n(13);class p extends d.a{constructor(e,t,n,a){super(e,{id:"purchasesTable",headers:["Data","Valor","Metodo De Pagamento","Fornecedor","Ações"]}),this._editAction=t,this._removeAction=n,this._showNotes=a}_createLineTableFromModel(e){let t=new c.a("Editar","btn btn-outline-primary btn-sm","button",new u.a("click",()=>this._editAction(e.id))),n=new c.a("Remover","btn btn-outline-danger btn-sm","button",new u.a("click",()=>this._removeAction(e.id))),a=new c.a("Notas","btn btn-outline-info btn-sm","button",new u.a("click",()=>this._showNotes(e.notes)));return this._createTableLine(e.id,[h.a.toString(e.date),e.value,e.paymentMethod.label,e.vendor],a,t,n)}}var m=n(4),_=n(8),v=n(28);class f extends _.a{constructor(e,t,n,a,s,r=""){super(),this._value=e,this._date=null!=t?new Date(h.a.toDate(t)):null,this._notes=n,this._paymentMethod=new v.a(a),this._vendor=s,this._id=r}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get value(){return this._value}get date(){return this._date}get notes(){return this._notes}get paymentMethod(){return this._paymentMethod}get vendor(){return this._vendor}get id(){return this._id}}var g=n(23);class b{constructor(){this._serverUrl="http://localhost:8080/purchases",this._http=new m.a}getPageablePurchases(e=null){let t=this._serverUrl+"/search";return null!=e&&(t=t+"?"+e),this._http.get(t).then(e=>g.a.buildFrom(e,e.content.map(e=>this._getPurchaseFromData(e))))}updatePurchase(e){let t=this._serverUrl+"/"+e.id;return this._http.put(t,JSON.stringify(e)).then(e=>this._getPurchaseFromData(e))}createPurchase(e){let t=this._serverUrl;return this._http.post(t,JSON.stringify(e)).then(e=>this._getPurchaseFromData(e))}deletePurchase(e){let t=this._serverUrl+"/"+e;return this._http.delete(t)}_getPurchaseFromData(e){return new f(e.value,e.date,e.notes,e.paymentMethod,e.vendorName,e.id)}}var y=n(5),w=n(1),M=n(27);class C extends y.a{constructor(e,...t){super(e,{id:"purchaseSearchForm",buttons:!0,initialButtons:[new c.a("Filtrar","btn btn-primary btn-sm float-right","submit"),new c.a("Limpar Filtro","btn btn-secondary btn-sm","reset")],listeners:t}),this._vendorList=[],(new M.a).getAll().then(e=>{this._vendorList=e,this.updateFields()})}_template(){let e=`\n            <div>\n                <div class="form-group">\n                    <label for="value">Valor</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="valueOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div>    \n                        <input type="number" min="0.00" step="0.01" class="form-control" id="value" name="value">\n                        <input type="number" min="0.00" step="0.01" class="form-control" id="valueMax" name="valueMax">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="date">Data</label>\n                    <div class="input-group">\n                        <div class="input-group-prepend">\n                            <select name="dateOperation">\n                                <option value="EQUAL">Igual a</option>\n                                <option value="GREATER_THAN">Maior que</option>\n                                <option value="LESS_THAN">Menor que</option>\n                                <option value="BETWEEN">Entre</option>\n                            </select>\n                        </div> \n\n                        <input type="date" class="form-control" id="date" name="date">\n                        <input type="date" class="form-control" id="dateMax" name="dateMax">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="paymentMethod">Tipo de Pagamento</label>\n                    <select name="paymentMethod" class="form-control">\n                        <option value="">Todos</option>\n                        <option value="CREDIT_CARD">Cartão de Crédito</option>\n                        <option value="MONEY">Dinheiro</option>\n                    </select>\n                </div>\n\n                <div class="form-group">\n                    <label for="vendor">Fornecedor</label>\n                    <select name="vendorId" class="form-control">\n                        <option value="">Todos</option>\n                        ${this._vendorList.map(e=>`\n                            <option value="${e.id}">${e.name}</option>\n                        `).join("")}\n                    </select>\n                </div>\n\n                <div class="row">\n                    <div class="form-group col-md-6">\n                        <label for="size">Itens por Pagina</label>\n                        <select name="size" class="form-control">\n                            <option value="20">20</option>\n                            <option value="10">10</option>\n                            <option value="5">5</option>\n                            <option value="2">2</option>\n                        </select>\n                    </div>\n\n                    <div class="form-group col-md-6">\n                        <label for="sort">Ordenar Por:</label>\n                        <select name="sort" class="form-control">\n                            <option value="">Sem Ordenação</option>\n                            <option value="value,ASC">Valor (crescente)</option>\n                            <option value="value,DESC">Valor (Decrescente)</option>\n                            <option value="date,ASC">Data (Crescente)</option>\n                            <option value="date,DESC">Data (Decrescente)</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        `;return w.a.parse(e)}}var S=n(6);class E{constructor(e,t,n,a,s,r=""){this.value=e,this.date=new Date(t),this.notes=n,this.paymentMethod=a,this.vendorId=s,this.id=r}}class P extends y.a{constructor(e,...t){super(e,{id:"purchaseForm",listeners:t}),this._purchase=new f,this._vendorList=[],(new M.a).getAll().then(e=>{this._vendorList=e,this.updateFields()})}set purchase(e){this._purchase=e,this.updateFields()}get purchase(){let e=this.getData();return new E(e.value,e.date,e.notes,e.paymentMethod,e.vendorId,e.id)}_template(){let e=`\n        <div>\n            <input type="hidden" class="form-control" name="id" value="${this._purchase.id?this._purchase.id:""}">\n            <div class="form-row">\n                <div class="form-group col-md-6">\n                    <label for="date">Data</label>\n                    <input type="date" class="form-control" name="date" \n                        value="${this._purchase.date?this._purchase.date.toISOString().slice(0,10):""}">\n                </div>\n                <div class="form-group col-md-6">\n                    <label for="value">Fornecedor</label>\n                    <select class="form-control" name="vendorId">\n                        ${this._vendorList.map(e=>`\n                            <option value="${e.id}">${e.name}</option>\n                        `).join("")}\n                    </select>\n                </div>\n            </div>\n\n            <div class="form-row">\n                <div class="form-group col-md-6">\n                    <label for="value">Valor</label>\n                    <input type="number" min="0.00" step="0.01" class="form-control" name="value"\n                        value="${this._purchase.value?this._purchase.value:""}">\n                </div>\n                <div class="form-group col-md-6">\n                    <label for="paymentMethod">Meio de Pagamento</label>\n                    <select class="form-control" name="paymentMethod">\n                        <option value="CREDIT_CARD" ${this._purchase.paymentMethod.equals("CREDIT_CARD")?"selected":""}>Cartão de Crédito</option>\n                        <option value="MONEY" ${this._purchase.paymentMethod.equals("MONEY")?"selected":""}>Dinheiro</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="notes">Notas/Produtos</label>\n                <textarea class="form-control" name="notes">${this._purchase.notes?this._purchase.notes:""}</textarea>\n            </div>\n        </div>\n        `;return w.a.parse(e)}}var k=n(20),L=n(24);class T extends a.a{_init(){this._service=new b,this._initAlertMessages(),this._initPurchaseTable(),this._initPurchaseFormModal(),this._initRemoveConfirmationModal()}savePurchaseForm(){let e=this._purchaseForm.purchase,t=e.id?this._service.updatePurchase(e):this._service.createPurchase(e);this._preLoader.run(t.then(e=>{this._purchases.add(e),this._modalForm.hide(),this._message.update("","Os dados da compra foram salvos com sucesso","success")}))}deletePurchase(e){this._preLoader.run(this._service.deletePurchase(e).then(()=>{this._modalRemoveConfirmation.hide(),this._purchases.remove(e),this._message.update("","Compra removida com sucesso","success")}))}searchPurchases(e=null){let t=this._purchasesSearchForm.getDataAsParams();null!=e&&(t=t+"&page="+e),this._purchases.clean(),this._preLoader.run(this._service.getPageablePurchases(t).then(e=>{e.content.forEach(e=>this._purchases.add(e)),this._tableNav.update(e),this._message.update("A lista de compras está atualizar com o servidor","Lista atualizada de compras","info")}))}_initAlertMessages(){this._message=new s.a(new r.a,new i.a(document.querySelector("#alertMessage")),"update")}_initPurchaseTable(){this._purchases=new o.a(new l.a,new p("#purchaseList",e=>{this._editPurchase(e)},e=>{this._showRemoveConfirmation(e)},e=>{this._showNotes(e)}),"add","remove","clean"),this._tableNav=new L.a("#purchaseList",{id:"tableNav"},e=>this.searchPurchases(e)),this._searchModal=new S.a("#searchPanel",{id:"searchModal",title:"Filtro de Pesquisa"}),this._purchasesSearchForm=new C(this._searchModal.contentSelector,new u.a("submit",e=>{e.preventDefault(),this.searchPurchases(),this._searchModal.hide()})),this._notesModal=new S.a("#purchaseList",{id:"notesModal",title:"Notas da compra"}),document.querySelector(".btn-show-search-modal").addEventListener("click",()=>{this._searchModal.show()}),this.searchPurchases()}_initPurchaseFormModal(){this._modalForm=new S.a("main",{id:"PurchaseFormModal",title:"Formulário de Compras",footer:!0}),this._purchaseForm=new P(this._modalForm.contentSelector),this._initPurchaseFormModalButtons(),document.querySelector(".btn-create-purchase").addEventListener("click",()=>{this._createPurchase()})}_initPurchaseFormModalButtons(){this._modalForm.updateFooter(new c.a("Salvar","btn btn-primary btn-lg","button",new u.a("click",()=>{this.savePurchaseForm()})))}_initRemoveConfirmationModal(){this._modalRemoveConfirmation=new k.a("main",{id:"removeConfirmationModal",title:"Remover Compra",buttonLabel:"Remover Definitivamente"},e=>{this.deletePurchase(e)})}_createPurchase(){this._purchaseForm.purchase=new f,this._modalForm.show()}_editPurchase(e){let t=this._purchases.find(e);this._purchaseForm.purchase=t,this._modalForm.show()}_showRemoveConfirmation(e){let t=this._purchases.find(e);this._modalRemoveConfirmation.update(`\n            Você tem certeza que deseja remover definitivamente a compra \n            do dia ${h.a.toString(t.date)} no valor de\n            ${t.value}?\n        `,e),this._modalRemoveConfirmation.show()}_showNotes(e){this._notesModal.updateContentText(e),this._notesModal.show()}}new T}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0RPTVBhcnNlclV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0h0dHBIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZUxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvRGF0ZUZvcm1hdEhlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9CaW5kUHJveHlNb2RlbFZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9BbGVydE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0FsZXJ0TWVzc2FnZVZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL01vZGVsVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL01vZGVsTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RlbFRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NvbmZpcm1Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eU1vZGVsQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUGFnZWFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGFnZWFibGVOYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvVmVuZG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9WZW5kb3JTZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUGF5bWVudE1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvUHVyY2hhc2VzVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9QdXJjaGFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvUHVyY2hhc2VTZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9QdXJjaGFzZVNlYXJjaEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2R0b3MvUHVyY2hhc2VEVE8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1B1cmNoYXNlRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvUHVyY2hhc2VDb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wdXJjaGFzZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbXBvbmVudCIsInBhcmVudFNlbGVjdG9yIiwiaW5mbyIsInRoaXMiLCJfY29tcG9uZW50IiwicGFyc2UiLCJfYmFzZSIsIl90YWciLCJpZCIsIl9wYXJlbnRTZWxlY3RvciIsIl9pbmZvIiwiX2luaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsIl9pbml0TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJhY3Rpb24iLCJFcnJvciIsIkRPTVBhcnNlclV0aWwiLCJodG1sVGV4dCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRvY3VtZW50RWxlbWVudCIsImZpcnN0Q2hpbGQiLCJMaXN0ZW5lckFjdGlvbiIsIl90eXBlIiwiX2FjdGlvbiIsIkJ1dHRvbiIsImxhYmVsIiwiY3NzIiwiYnRuIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsIkh0dHBIZWxwZXIiLCJ0b2tlbiIsImRhdGEiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImVuZHBvaW50IiwidHJhbnNhY3Rpb25EZXRhaWxzIiwiX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzIiwiX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbiIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwiSGVhZGVycyIsIm1ldGhvZCIsIl9idWlsZFRyYW5zYWN0aW9uSGVhZGVycyIsImpzb24iLCJjYXRjaCIsImVyciIsIkZvcm0iLCJfdGVtcGxhdGUiLCJzdWJtaXQiLCJyZXNldCIsIiQiLCJzZXJpYWxpemVBcnJheSIsImlucHV0Iiwic2VyaWFsaXplIiwic3VwZXIiLCJpbml0aWFsQ29udGVudCIsImJ1dHRvbnMiLCJpbml0aWFsQnV0dG9ucyIsImJ1dHRvbiIsImZvcm1DbGFzcyIsImRlZmF1bHRCdXR0b25zIiwiTW9kYWwiLCJtb2RhbCIsImNvbnRlbnQiLCJmb290ZXIiLCJpbml0aWFsRm9vdGVyIiwib24iLCJtb2RhbENsYXNzIiwidGl0bGUiLCJBdXRoZW50aWNhdGlvblRva2VuU2VydmljZSIsIl9zZXJ2ZXJVUkwiLCJfd2VidG9rZW4iLCJfaHR0cCIsImF1dGhEVE8iLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzIiwiYWRkVG9rZW4iLCJjbGVhblRva2VuIiwibG9jYXRpb24iLCJocmVmIiwiTW9kZWwiLCJvdGhlciIsImF0dHJpYnV0ZSIsIlByb3h5RmFjdG9yeSIsInByb3BzIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJpbmNsdWRlcyIsIl9pc0Z1bnRpb24iLCJyZXN1bHQiLCJSZWZsZWN0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzZXQiLCJmdW5jIiwibG9nb2ZmQWN0aW9uIiwiX2luaXRIZWFkZXJOYXZpZ2F0aW9uIiwiX2luaXRMb2FkZXJDb21wb25lbnQiLCJfbG9hZGVyQ29tcG9uZW50IiwiYWRkIiwicmVtb3ZlIiwicHJvbWlzc2UiLCJzdGFydCIsInN0b3AiLCJfcHJlTG9hZGVyIiwiX2F1dGhTZXJ2aWNlIiwiX3ZhbGlkQXV0aGVudGljYXRlZENsaWVudCIsIl9oZWFkZXJOYXYiLCJldmVudCIsImRvTG9nb2ZmIiwiX2Rhc2hib2FyZE5hdiIsImxvZ291dCIsInJlZGlyZWN0VG9Mb2dpblBhZ2UiLCJoYXNWYWxpZFRva2VuIiwiRGF0ZUZvcm1hdEhlbHBlciIsImRhdGUiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsIkRhdGUiLCJCaW5kUHJveHlNb2RlbFZpZXciLCJtb2RlbCIsInZpZXciLCJwcm94eSIsInVwZGF0ZSIsIkFsZXJ0TWVzc2FnZSIsIl90aXRsZSIsIl9tZXNzYWdlIiwibWVzc2FnZSIsImFsZXJ0VHlwZSIsInZpZXdFbGVtZW50IiwiX2VsZW1lbnQiLCJNb2RlbExpc3QiLCJfbGlzdCIsIl9wYWdlYWJsZUluZm8iLCJ1bmRlZmluZWQiLCJzb21lIiwiaXRlbSIsImVxdWFscyIsInB1c2giLCJmaW5kIiwiZXF1YWxzRm9yIiwicGFnZWFibGUiLCJzcGxpY2UiLCJ0ckxpc3QiLCJib2R5IiwidHIiLCJsaW5lIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImxpbmVLZXkiLCJhY3Rpb25zIiwiY29sIiwiYSIsImhlYWRlcnMiLCJtYXAiLCJqb2luIiwibW9kZWxMaXN0IiwiX2NsZWFuVGFibGUiLCJsaXN0IiwiX2FwcGVuZEl0ZW0iLCJfY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsIiwiQ29uZmlybU1vZGFsIiwicmVtb3ZlQWN0aW9uIiwiX3JlbW92ZUFjdGlvbiIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uTGFiZWwiLCJQcm94eU1vZGVsQ29tcG9uZW50IiwiY29tcG9uZW50IiwidXBkYXRlRnJvbU1vZGVsIiwiUGFnZWFibGUiLCJwYWdlTnVtYmVyIiwicGFnZVNpemUiLCJ0b3RhbEVsZW1lbnRzIiwidG90YWxQYWdlcyIsIm51bWJlck9mRWxlbWVudHMiLCJmaXJzdCIsImxhc3QiLCJudW1iZXIiLCJzaXplIiwiZW1wdHkiLCJfcGFnZU51bWJlciIsIl9wYWdlU2l6ZSIsIl90b3RhbEVsZW1lbnRzIiwiX3RvdGFsUGFnZXMiLCJfbnVtYmVyT2ZFbGVtZW50cyIsIl9maXJzdCIsIl9sYXN0IiwiX251bWJlciIsIl9zaXplIiwiX2VtcHR5IiwiX2NvbnRlbnQiLCJkYXRhQXJyYXkiLCJwZ2RldGFpbHMiLCJQYWdlYWJsZU5hdmlnYXRpb24iLCJwYWdlQWN0aW9uIiwiX3BhZ2VBY3Rpb24iLCJfY3JlYXRlUGFnaW5hdGlvbk5hdkJ1dHRvbnMiLCJuYXYiLCJwcmV2aW91c0J0biIsInByZXZpb3VzIiwiX2NyZWF0ZUxpc3RJdGVtIiwiaGFzUHJldmlvdXMiLCJpbmRleCIsIm5leHRCdG4iLCJuZXh0IiwiaGFzTmV4dCIsImRpc2FibGVkIiwidGVtcGxhdGUiLCJWZW5kb3IiLCJwaG9uZSIsInNlY29uZGFyeVBob25lIiwibm90ZXMiLCJfbmFtZSIsIl9waG9uZSIsIl9zZWNvbmRhcnlQaG9uZSIsIl9ub3RlcyIsIl9pZCIsIlZlbmRvclNlcnZpY2UiLCJfc2VydmVyVXJsIiwiX2dldEZyb21EYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidmVuZG9yRHRvIiwicG9zdCIsInB1dCIsImRlbGV0ZSIsIlBheW1lbnRNZXRob2QiLCJwYXltZW50TWV0aG9kIiwiX3BheW1lbnRNZXRob2QiLCJfbGFiZWxzIiwic3RyaW5nTWV0aG9kIiwiTW9kZWxUYWJsZSIsImVkaXRBY3Rpb24iLCJzaG93Tm90ZXMiLCJfZWRpdEFjdGlvbiIsIl9zaG93Tm90ZXMiLCJwdXJjaGFzZSIsImJ0bkVkaXQiLCJidG5SZW1vdmUiLCJidG5TaG93Tm90ZXMiLCJfY3JlYXRlVGFibGVMaW5lIiwidG9TdHJpbmciLCJ2ZW5kb3IiLCJfdmFsdWUiLCJfZGF0ZSIsInRvRGF0ZSIsIl92ZW5kb3IiLCJzZWFyY2hEYXRhIiwiYnVpbGRGcm9tIiwiX2dldFB1cmNoYXNlRnJvbURhdGEiLCJwdXJjaGFzZURUTyIsIl92ZW5kb3JMaXN0IiwiZ2V0QWxsIiwidmVuZG9ycyIsInVwZGF0ZUZpZWxkcyIsIlB1cmNoYXNlRFRPIiwidmVuZG9ySWQiLCJfcHVyY2hhc2UiLCJnZXREYXRhIiwidG9JU09TdHJpbmciLCJzbGljZSIsIkRlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIiwiX3NlcnZpY2UiLCJfaW5pdEFsZXJ0TWVzc2FnZXMiLCJfaW5pdFB1cmNoYXNlVGFibGUiLCJfaW5pdFB1cmNoYXNlRm9ybU1vZGFsIiwiX2luaXRSZW1vdmVDb25maXJtYXRpb25Nb2RhbCIsIl9wdXJjaGFzZUZvcm0iLCJzYXZlUHJvbWlzc2UiLCJ1cGRhdGVQdXJjaGFzZSIsImNyZWF0ZVB1cmNoYXNlIiwicnVuIiwiX3B1cmNoYXNlcyIsIl9tb2RhbEZvcm0iLCJoaWRlIiwiZGVsZXRlUHVyY2hhc2UiLCJfbW9kYWxSZW1vdmVDb25maXJtYXRpb24iLCJwYWdlIiwiX3B1cmNoYXNlc1NlYXJjaEZvcm0iLCJnZXREYXRhQXNQYXJhbXMiLCJjbGVhbiIsImdldFBhZ2VhYmxlUHVyY2hhc2VzIiwiX3RhYmxlTmF2IiwiQWxlcnRNZXNzYWdlVmlldyIsIl9lZGl0UHVyY2hhc2UiLCJfc2hvd1JlbW92ZUNvbmZpcm1hdGlvbiIsInNlYXJjaFB1cmNoYXNlcyIsIl9zZWFyY2hNb2RhbCIsImNvbnRlbnRTZWxlY3RvciIsIl9ub3Rlc01vZGFsIiwic2hvdyIsIl9pbml0UHVyY2hhc2VGb3JtTW9kYWxCdXR0b25zIiwiX2NyZWF0ZVB1cmNoYXNlIiwidXBkYXRlRm9vdGVyIiwic2F2ZVB1cmNoYXNlRm9ybSIsInVwZGF0ZUNvbnRlbnRUZXh0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFL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a0JBQWtCckYsR0FDbkNuTyxLQUFLa1QsWUFBWUMsUUNwS1YsSUFBSSIsImZpbGUiOiJwdXJjaGFzZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzIpO1xuIiwiaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBpbmZvPXt9KSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50ID0gRE9NUGFyc2VyVXRpbC5wYXJzZSh0aGlzLl9iYXNlKGluZm8pKTtcclxuICAgICAgICB0aGlzLl90YWcgPSBgIyR7aW5mby5pZH1gO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudFNlbGVjdG9yID0gcGFyZW50U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5mbyA9IGluZm87XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wYXJlbnRTZWxlY3RvcikuYXBwZW5kQ2hpbGQodGhpcy5fY29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9pbml0TGlzdGVuZXJzKHRoaXMuX2luZm8ubGlzdGVuZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLnR5cGUsIGxpc3RlbmVyLmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgbWV0aG9kIGZpZWxkc1RlbXBhbHRlIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERPTVBhcnNlclV0aWwge1xyXG4gICAgc3RhdGljIHBhcnNlKGh0bWxUZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbFRleHQsICd0ZXh0L2h0bWwnKS5kb2N1bWVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihgYm9keWApLmZpcnN0Q2hpbGQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0ZW5lckFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBhY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGxhYmVsLCBjc3MsIHR5cGU9J3N1Ym1pdCcsIC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGJ0bi5jbGFzc0xpc3QgPSBjc3M7XHJcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xyXG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSBsYWJlbDtcclxuXHJcbiAgICAgICAgaWYgKGxpc3RlbmVycykgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuYWN0aW9uKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBidG47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRmllbGRFcnJvciBmcm9tIFwiLi4vZm9ybXMvRmllbGRFcnJvclwiO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwSGVscGVyIHtcclxuICAgIGFkZFRva2VuKHR5cGUsIHRva2VuKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBgJHt0eXBlfSAke3Rva2VufWA7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtc2Fsb29ud2J0b2tlbicsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3JlSXRlbShsYWJlbCwgdmFsdWUpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obGFiZWwsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhblRva2VuKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXNhbG9vbndidG9rZW4nLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXNhbG9vbndidG9rZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yZWRJdGVtKGxhYmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsYWJlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUE9TVCcsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGVuZHBvaW50KSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdHRVQnLCBudWxsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1dChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUFVUJywgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoZW5kcG9pbnQpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ0RFTEVURScsIG51bGwpO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0cmFuc2FjdGlvbmFsIGVycm9yIGhhcyBiZWVuIGhhcHBlbmVkLicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYnVpbGRUcmFuc2FjdGlvbkhlYWRlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXJzKHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdBcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0aGlzLnRva2VuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKG1ldGhvZCwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdtZXRob2QnOiBtZXRob2QsXHJcbiAgICAgICAgICAgICdib2R5JzogZGF0YSxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiB0aGlzLl9idWlsZFRyYW5zYWN0aW9uSGVhZGVycygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oZGF0YSA9PiAgZGF0YSkuY2F0Y2goZXJyID0+IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdHJhbnNhY3Rpb25hbCBlcnJvciBoYXMgYmVlbiBoYXBwZW5lZC4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSBleHRlbmRzIENvbXBvbmVudHtcclxuICAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBmb3JtIGlkIGF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJmb3JtQ2xhc3NcIjogZm9ybSBjbGFzcyBleC4gJ2Zvcm0taG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbENvbnRlbnRcIjogZm9ybSBmaWVsZHMsXHJcbiAgICAgICAgICAgIFwiYnV0dG9uc1wiOiB0cnVlL2ZhbHNlIGZvciBmb3JtIGJ1dHRvbnMsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEJ1dHRvbnNcIjogZm9yIGluaXRpYWwgYnV0dG9ucyBjb250ZW50LFxyXG4gICAgICAgICAgICBcImRlZmF1bHRCdXR0b25zXCI6IHRydWUvZmFsc2UgZm9yIGRlZmF1bHQgYnV0dG9ucyxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBmb3JtIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlRmllbGRzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAuZmllbGRzYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5maWVsZHNgKS5hcHBlbmRDaGlsZCh0aGlzLl90ZW1wbGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGFnKS5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcclxuICAgICAgICAkKHRoaXMuX3RhZykuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGFBc1BhcmFtcygpIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLl90YWcpLnNlcmlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KSBcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmllbGRzXCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5idXR0b25zICYmIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMpXHJcbiAgICAgICAgICAgIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25zXCIpLmFwcGVuZENoaWxkKGJ1dHRvbikpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8Zm9ybSBpZD0ke2luZm8uaWR9ICR7aW5mby5mb3JtQ2xhc3MgPyBgY2xhc3M9JyR7aW5mby5mb3JtQ2xhc3N9J2AgOiAnJ30+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz0nZmllbGRzJz48L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPSdidXR0b25zJz5cclxuICAgICAgICAgICAgICAgICR7aW5mby5kZWZhdWx0QnV0dG9ucyA/IGBcclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+U2FsdmFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJyZXNldFwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5MaW1wYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIGAgOiAnJ31cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgbWV0aG9kIGZpZWxkc1RlbXBhbHRlIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgQ29tcG9uZW50e1xyXG4gICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogbW9kYWwgaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcImxhYmVsXCI6IG1vZGFsIGFyaWEtbGFiZWxsZWRieSBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwibW9kYWxDbGFzc1wiOiBtb2RhbCBjbGFzcyBleC4gJ21vZGFsLWxnJyxcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBtb2RhbCB0aXRsZSxcclxuICAgICAgICAgICAgXCJpbml0aWFsQ29udGVudFwiOiBtb2RhbCBib2R5LFxyXG4gICAgICAgICAgICBcImZvb3RlclwiOiB0cnVlL2ZhbHNlIGZvciBtb2RhbCBmb290ZXIsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEZvb3RlclwiOiBmb3IgaW5pdGlhbCBmb290ZXIgY29udGVudCxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBtb2RhbCBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgJCh0aGlzLl90YWcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICAkKHRoaXMuX3RhZykubW9kYWwoJ2hpZGUnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVDb250ZW50KGNvbnRlbnQpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkNvbnRlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29udGVudFRleHQoY29udGVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmlubmVySFRNTCA9ICc8cHJlPicgKyBjb250ZW50ICsgJzwvcHJlPic7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRm9vdGVyKGZvb3Rlcikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1mb290ZXJgKS5hcHBlbmRDaGlsZChmb290ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuRm9vdGVyKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRlbnRTZWxlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWA7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpIFxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib2R5XCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5mb290ZXIgJiYgdGhpcy5faW5mby5pbml0aWFsRm9vdGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1mb290ZXJcIikuYXBwZW5kQ2hpbGQodGhpcy5faW5mby5pbml0aWFsRm9vdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fY29tcG9uZW50KS5vbihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5hY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBpZD1cIiR7aW5mby5pZH1cIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIiR7aW5mby5sYWJlbCA/IGluZm8ubGFiZWwgOiAnbXlMYXJnZU1vZGFsJ31cIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyAke2luZm8ubW9kYWxDbGFzcyA/IGluZm8ubW9kYWxDbGFzcyA6ICcnfVwiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JHtpbmZvLnRpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5mb290ZXIgPyBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBIdHRwSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0h0dHBIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVSTCA9IGAke1NFUlZJQ0VfVVJMfS9hdXRoYDtcclxuICAgICAgICB0aGlzLl93ZWJ0b2tlbiA9ICdtc2Fsb29ud2J0b2tlbic7XHJcblxyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc1ZhbGlkVG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX3NlcnZlclVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXV0aGVudGljYXRlKGF1dGhEVE8pIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAnbWV0aG9kJzogJ1BPU1QnLFxyXG4gICAgICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KGF1dGhEVE8pLFxyXG4gICAgICAgICAgICAnaGVhZGVycyc6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnQXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3NlcnZlclVSTCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vayAmJiByZXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNpZ25pbiBkYXRhIGlzIG5vdCBjb3JyZWN0XCIpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faHR0cC5hZGRUb2tlbihkYXRhLnR5cGUsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgdGhpcy5faHR0cC5jbGVhblRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVkaXJlY3RUb0xvZ2luUGFnZSgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4uaHRtbCdcclxuICAgIH0gIFxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGVxdWFscyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihhdHRyaWJ1dGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlcXVhbHNGb3IgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5RmFjdG9yeSB7XHJcbiAgICBzdGF0aWMgY3JlYXRlKG9iamVjdCwgcHJvcHMsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkob2JqZWN0LCB7XHJcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkgJiYgUHJveHlGYWN0b3J5Ll9pc0Z1bnRpb24odGFyZ2V0W3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0W3Byb3BdLCB0YXJnZXQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkpIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIF9pc0Z1bnRpb24oZnVuYykge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YoZnVuYykgPT0gdHlwZW9mKEZ1bmN0aW9uKTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmROYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxuYXYgY2xhc3M9XCJzaWRlYmFyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci1zdGlja3lcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2IGZsZXgtY29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmsgYWN0aXZlXCIgaHJlZj1cIi4vc2NoZWR1bGUuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItaG9tZVwiPjxwYXRoIGQ9XCJNMyA5bDktNyA5IDd2MTFhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCI5IDIyIDkgMTIgMTUgMTIgMTUgMjJcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBEYXNoYm9hcmQgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+KGN1cnJlbnQpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9jdXN0b21lcnMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItdXNlcnNcIj48cGF0aCBkPVwiTTE3IDIxdi0yYTQgNCAwIDAgMC00LTRINWE0IDQgMCAwIDAtNCA0djJcIj48L3BhdGg+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjdcIiByPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGQ9XCJNMjMgMjF2LTJhNCA0IDAgMCAwLTMtMy44N1wiPjwvcGF0aD48cGF0aCBkPVwiTTE2IDMuMTNhNCA0IDAgMCAxIDAgNy43NVwiPjwvcGF0aD48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQ2xpZW50ZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHJvZmVzc2lvbmFscy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgUHJvZmlzc2lvbmFpc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi92ZW5kb3JzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBGb3JuZWNlZG9yZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHVyY2hhc2VzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBDb21wcmFzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL2FwcG9pbnRtZW50cy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQXRlbmRpbWVudG9zIChDb25zdWx0YXMpXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgIFxyXG4gICAgICAgICAgICA8aDYgY2xhc3M9XCJzaWRlYmFyLWhlYWRpbmcgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBweC0zIG10LTQgbWItMSB0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4+TWluaGEgQ29udGE8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvaDY+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdiBmbGV4LWNvbHVtbiBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9wcm9maWxlLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGUtdGV4dFwiPjxwYXRoIGQ9XCJNMTQgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjh6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxNCAyIDE0IDggMjAgOFwiPjwvcG9seWxpbmU+PGxpbmUgeDE9XCIxNlwiIHkxPVwiMTNcIiB4Mj1cIjhcIiB5Mj1cIjEzXCI+PC9saW5lPjxsaW5lIHgxPVwiMTZcIiB5MT1cIjE3XCIgeDI9XCI4XCIgeTI9XCIxN1wiPjwvbGluZT48cG9seWxpbmUgcG9pbnRzPVwiMTAgOSA5IDkgOCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgTWV1IFBlcmZpbFxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgbG9nb2ZmQWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcignYS5sb2dvdXQnKS5hZGRFdmVudExpc3RlbmVyKGxvZ29mZkFjdGlvbi50eXBlLCBsb2dvZmZBY3Rpb24uYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8bmF2IGNsYXNzPVwibmF2YmFyIG5hdmJhci1kYXJrIGZpeGVkLXRvcCBiZy1kYXJrIGZsZXgtbWQtbm93cmFwIHAtMCBzaGFkb3dcIj5cclxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXZiYXItYnJhbmQgY29sLXNtLTMgY29sLW1kLTIgbXItMFwiIGhyZWY9XCIjXCI+TXkgU2Fsb29uIFdlYjwvYT5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1kYXJrIHctMTAwXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBlc3F1aXNhclwiIGFyaWEtbGFiZWw9XCJQZXNxdWlzYXJcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2YmFyLW5hdiBweC0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSB0ZXh0LW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBsb2dvdXRcIiBocmVmPVwiI1wiPkxvZ29mZjwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgYFxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZUxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignI2hlYWRlck5hdmlnYXRpb24nKTtcclxuICAgICAgICB0aGlzLl9pbml0TG9hZGVyQ29tcG9uZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuX2xvYWRlckNvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3ByZS1sb2FkZXItcnVubmluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdwcmUtbG9hZGVyLXJ1bm5pbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBydW4ocHJvbWlzc2UpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgcHJvbWlzc2UudGhlbigoKSA9PiB7dGhpcy5zdG9wKCl9KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExvYWRlckNvbXBvbmVudCgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRlci1wYW5lbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGVyNFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTFcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItMlwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci0zXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTRcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHRoaXMuX2xvYWRlckNvbXBvbmVudCA9IERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIGlkPVwicHJlTG9hZGVyXCI+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IERhc2hib2FyZE5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9EYXNoYm9hcmROYXZpZ2F0aW9uJztcclxuaW1wb3J0IEhlYWRlck5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uJztcclxuaW1wb3J0IExpc3RlbmVyQWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24nO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UnO1xyXG5pbXBvcnQgUHJlTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvUHJlTG9hZGVyJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIgPSBuZXcgUHJlTG9hZGVyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLl92YWxpZEF1dGhlbnRpY2F0ZWRDbGllbnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faGVhZGVyTmF2ID0gbmV3IEhlYWRlck5hdmlnYXRpb24oJyNoZWFkZXJOYXZpZ2F0aW9uJywgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kb0xvZ29mZigpO1xyXG4gICAgICAgIH0pKTsgICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLl9kYXNoYm9hcmROYXYgPSBuZXcgRGFzaGJvYXJkTmF2aWdhdGlvbignI2Rhc2hib2FyZE5hdmlnYXRpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvTG9nb2ZmKCkge1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLmxvZ291dCgpO1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLnJlZGlyZWN0VG9Mb2dpblBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBfaW5pdCgpIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3ZhbGlkQXV0aGVudGljYXRlZENsaWVudCgpIHtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5oYXNWYWxpZFRva2VuKClcclxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt0aGlzLl9hdXRoU2VydmljZS5yZWRpcmVjdFRvTG9naW5QYWdlKCl9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGVGb3JtYXRIZWxwZXJ7XHJcbiAgICBzdGF0aWMgdG9TdHJpbmcoZGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBgJHtkYXRlLmdldERhdGUoKX0vJHsoZGF0ZS5nZXRNb250aCgpICsgMSl9LyR7ZGF0ZS5nZXRGdWxsWWVhcigpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRvRGF0ZShkYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUrXCJUMDM6MDA6MDBaXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFByb3h5IGZyb20gJy4vUHJveHlGYWN0b3J5J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmluZFByb3h5TW9kZWxWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCAuLi5wcm9wcykge1xyXG4gICAgICAgIGxldCBwcm94eSA9IFByb3h5LmNyZWF0ZShtb2RlbCwgcHJvcHMsIG1vZGVsID0+IHZpZXcudXBkYXRlKG1vZGVsKSk7XHJcbiAgICAgICAgdmlldy51cGRhdGUobW9kZWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBbGVydE1lc3NhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSAnJztcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gJyc7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9ICdwcmltYXJ5JztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUobWVzc2FnZSwgdGl0bGU9JycsIGFsZXJ0VHlwZT0ncHJpbWFyeScpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSBhbGVydFR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRpdGxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWVzc2FnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RlbFZpZXcgZnJvbSBcIi4vTW9kZWxWaWV3XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGVydE1lc3NhZ2VWaWV3IGV4dGVuZHMgTW9kZWxWaWV3e1xyXG4gICAgX3RlbXBsYXRlKG1vZGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtJHttb2RlbC50eXBlfSBhbGVydC1kaXNtaXNzaWJsZSBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgPGg0IGNsYXNzPVwiYWxlcnQtaGVhZGluZ1wiPiR7bW9kZWwudGl0bGV9PC9oND5cclxuICAgICAgICAgICAgPHAgY2xhc3M9J3RleHQtbXV0ZWQnPiR7bW9kZWwubWVzc2FnZX08L3A+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsVmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWV3RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB2aWV3RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUobW9kZWwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbXBsYXRlIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKG1vZGVsKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLl90ZW1wbGF0ZShtb2RlbCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbigpIHtcclxuICAgICAgICB0aGlzLl9saXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5fcGFnZWFibGVJbmZvID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChtb2RlbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9saXN0LnNvbWUoaXRlbSA9PiBpdGVtLmVxdWFscyhtb2RlbCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXF1YWxzKG1vZGVsKSkgdGhpcy5fbGlzdFtpXSA9IG1vZGVsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LnB1c2gobW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaW5kKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZmluZChpdGVtID0+IGl0ZW0uZXF1YWxzRm9yKGlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUGFnZWFibGVJbmZvKHBhZ2VhYmxlKSB7XHJcbiAgICAgICAgdGhpcy5fcGFnZWFibGVJbmZvID0gcGFnZWFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGlkKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmVxdWFsc0ZvcihpZCkpIHRoaXMuX2xpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsaXN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYWdlYWJsZUluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VhYmxlSW5mbztcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9Db21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgX3VwZGF0ZUxpc3QodHJMaXN0KSB7XHJcbiAgICAgICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKTtcclxuICAgICAgICBib2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRyTGlzdC5mb3JFYWNoKHRyID0+IGJvZHkuYXBwZW5kQ2hpbGQodHIpKTtcclxuICAgIH1cclxuXHJcbiAgICBfYXBwZW5kSXRlbSh0cikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keWApLmFwcGVuZENoaWxkKHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2xlYW5UYWJsZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVMaW5lKGtleSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keSB0cltkYXRhLWtleT1cIiR7a2V5fVwiXWApLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVMaW5lKGtleSwgdHIpIHtcclxuICAgICAgICBsZXQgbGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keSB0cltkYXRhLWtleT1cIiR7a2V5fVwiXWApO1xyXG4gICAgICAgIGxpbmUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodHIsIGxpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVUYWJsZUxpbmUobGluZUtleSwgZGF0YSwgLi4uYWN0aW9ucykge1xyXG4gICAgICAgIGxldCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZSgnZGF0YS1rZXknLCBsaW5lS2V5KTtcclxuXHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgY29sLmlubmVySFRNTCA9IHByb3A7XHJcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY29sKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoYWN0aW9ucykge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGEgPT4gY29sLmFwcGVuZENoaWxkKGEpKTtcclxuICAgICAgICAgICAgbGluZS5hcHBlbmRDaGlsZChjb2wpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIiBpZD0ke2luZm8uaWR9PlxyXG4gICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtpbmZvLmhlYWRlcnMubWFwKHRpdGxlID0+IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+JHt0aXRsZX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgJHtpbmZvLmluaXRpYWxDb250ZW50ID8gaW5pdGlhbENvbnRlbnQgOiAnJ31cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVGFibGUgZnJvbSBcIi4vVGFibGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsVGFibGUgZXh0ZW5kcyBUYWJsZSB7XHJcbiAgICB1cGRhdGVGcm9tTW9kZWwobW9kZWxMaXN0KSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYW5UYWJsZSgpO1xyXG4gICAgICAgIG1vZGVsTGlzdC5saXN0LmZvckVhY2gobW9kZWwgPT4gdGhpcy5fYXBwZW5kSXRlbSh0aGlzLl9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwobW9kZWwpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUxpbmVUYWJsZUZyb21Nb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignX2NyZWF0ZUxpbmVUYWJsZUZyb21Nb2RlbCBtdXN0IGJlZW4gaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlybU1vZGFsIGV4dGVuZHMgTW9kYWx7XHJcbiAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBtb2RhbCBpZCBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogbW9kYWwgdGl0bGUsXHJcbiAgICAgICAgICAgIFwiYnV0dG9uTGFiZWxcIjogYnV0dG9uIGFjdGlvbiBmb3IgY29uZmlybSBhY3Rpb24sXHJcbiAgICAgICAgICAgIFwib25Db25maXJtXCI6IGFjdGlvbiBvbiBjb25maXJtO1xyXG4gICAgICAgICAgICBcImxpc3RlbmVyc1wiOiBsaXN0ZW5lcnMgZm9yIG1vZGFsIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGluZm8sIHJlbW92ZUFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCBpbmZvKTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVBY3Rpb24gPSByZW1vdmVBY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSBmb3JtYCkuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQga2V5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IGZvcm0gaW5wdXRbbmFtZT1cImtleVwiXWApLnZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVBY3Rpb24oa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUobWVzc2FnZSwgdmFsdWUpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHkgLmFsZXJ0YCkuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gZm9ybSBpbnB1dFtuYW1lPVwia2V5XCJdYCkudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBpZD1cIiR7aW5mby5pZH1cIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7aW5mby50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWRcIj5Fc3NhIGHDp8OjbyBuw6NvIHBvZGVyw6Egc2VyIGRlc2ZlaXRhPC9wPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSBidG4tYmxvY2tcIiB0eXBlPVwic3VibWl0XCI+JHtpbmZvLmJ1dHRvbkxhYmVsfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFByb3h5IGZyb20gJy4vUHJveHlGYWN0b3J5J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJveHlNb2RlbENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgY29tcG9uZW50LCAuLi5wcm9wcykge1xyXG4gICAgICAgIGxldCBwcm94eSA9IFByb3h5LmNyZWF0ZShtb2RlbCwgcHJvcHMsIG1vZGVsID0+IGNvbXBvbmVudC51cGRhdGVGcm9tTW9kZWwobW9kZWwpKTtcclxuICAgICAgICBjb21wb25lbnQudXBkYXRlRnJvbU1vZGVsKG1vZGVsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZWFibGV7XHJcbiAgICBjb25zdHJ1Y3RvcihwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgdG90YWxFbGVtZW50cywgdG90YWxQYWdlcywgbnVtYmVyT2ZFbGVtZW50cywgZmlyc3QsIGxhc3QsIG51bWJlciwgc2l6ZSwgZW1wdHksIGNvbnRlbnQ9W10pIHtcclxuICAgICAgICB0aGlzLl9wYWdlTnVtYmVyID0gcGFnZU51bWJlcjtcclxuICAgICAgICB0aGlzLl9wYWdlU2l6ZSA9IHBhZ2VTaXplO1xyXG4gICAgICAgIHRoaXMuX3RvdGFsRWxlbWVudHMgPSB0b3RhbEVsZW1lbnRzO1xyXG4gICAgICAgIHRoaXMuX3RvdGFsUGFnZXMgPSB0b3RhbFBhZ2VzO1xyXG4gICAgICAgIHRoaXMuX251bWJlck9mRWxlbWVudHMgPSBudW1iZXJPZkVsZW1lbnRzO1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gZmlyc3Q7XHJcbiAgICAgICAgdGhpcy5fbGFzdCA9IGxhc3Q7XHJcbiAgICAgICAgdGhpcy5fbnVtYmVyID0gbnVtYmVyO1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuX2VtcHR5ID0gZW1wdHk7XHJcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJ1aWxkRnJvbShkYXRhQXJyYXksIGNvbnRlbnQpIHtcclxuICAgICAgICBsZXQgcGdkZXRhaWxzID0gZGF0YUFycmF5WydwYWdlYWJsZSddXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQYWdlYWJsZShwZ2RldGFpbHNbJ3BhZ2VOdW1iZXInXSwgcGdkZXRhaWxzWydwYWdlU2l6ZSddLCBkYXRhQXJyYXlbJ3RvdGFsRWxlbWVudHMnXSwgXHJcbiAgICAgICAgICAgIGRhdGFBcnJheVsndG90YWxQYWdlcyddLCBkYXRhQXJyYXlbJ251bWJlck9mRWxlbWVudHMnXSwgZGF0YUFycmF5WydmaXJzdCddLCBkYXRhQXJyYXlbJ2xhc3QnXSwgXHJcbiAgICAgICAgICAgIGRhdGFBcnJheVsnbnVtYmVyJ10sIGRhdGFBcnJheVsnc2l6ZSddLCBkYXRhQXJyYXlbJ2VtcHR5J10sIGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYWdlTnVtYmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlTnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYWdlU2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFnZVNpemU7XHJcbiAgICB9XHJcbiAgICBnZXQgdG90YWxFbGVtZW50cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG90YWxFbGVtZW50cztcclxuICAgIH1cclxuICAgIGdldCB0b3RhbFBhZ2VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbFBhZ2VzO1xyXG4gICAgfVxyXG4gICAgZ2V0IG51bWJlck9mRWxlbWVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX251bWJlck9mRWxlbWVudHM7XHJcbiAgICB9XHJcbiAgICBnZXQgZmlyc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0O1xyXG4gICAgfVxyXG4gICAgZ2V0IGxhc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgbnVtYmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9udW1iZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuICAgIGdldCBlbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW1wdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByZXZpb3VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm51bWJlciAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5leHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtYmVyICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGFzTmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbnVtYmVyIDwgKHRoaXMuX3RvdGFsUGFnZXMgLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNQcmV2aW91cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbnVtYmVyID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFnZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsUGFnZXMgPiAxO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuL0J1dHRvblwiO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4vTGlzdGVuZXJBY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VhYmxlTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGluZm89e30sIHBhZ2VBY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3RvciwgaW5mbyk7XHJcbiAgICAgICAgdGhpcy5fcGFnZUFjdGlvbiA9IHBhZ2VBY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHBhZ2VhYmxlKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLmFwcGVuZENoaWxkKHRoaXMuX3RlbXBsYXRlKHBhZ2VhYmxlKSk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlUGFnaW5hdGlvbk5hdkJ1dHRvbnMocGFnZWFibGUpLmZvckVhY2goaXRlbSA9PiBcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcgKyAnIC5wYWdpbmF0aW9uJykuYXBwZW5kQ2hpbGQoaXRlbSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVQYWdpbmF0aW9uTmF2QnV0dG9ucyhwYWdlYWJsZSkge1xyXG4gICAgICAgIGxldCBuYXYgPSBbXTtcclxuICAgICAgICBsZXQgcHJldmlvdXNCdG4gPSBuZXcgQnV0dG9uKCdBbnRlcmlvcicsICdwYWdlLWxpbmsnLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9wYWdlQWN0aW9uKHBhZ2VhYmxlLnByZXZpb3VzKSkpO1xyXG5cclxuICAgICAgICBuYXYucHVzaCh0aGlzLl9jcmVhdGVMaXN0SXRlbSghcGFnZWFibGUuaGFzUHJldmlvdXMsIHByZXZpb3VzQnRuKSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYWdlYWJsZS50b3RhbFBhZ2VzIDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBsZXQgYnRuID0gbmV3IEJ1dHRvbigoaW5kZXgrMSksICdwYWdlLWxpbmsnLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4gdGhpcy5fcGFnZUFjdGlvbihpbmRleCkpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5hdi5wdXNoKHRoaXMuX2NyZWF0ZUxpc3RJdGVtKHBhZ2VhYmxlLm51bWJlciA9PSBpbmRleCwgYnRuKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbmV4dEJ0biA9IG5ldyBCdXR0b24oJ1Byb3hpbWEnLCAncGFnZS1saW5rJywgJ2J1dHRvbicsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4gdGhpcy5fcGFnZUFjdGlvbihwYWdlYWJsZS5uZXh0KSkpO1xyXG5cclxuICAgICAgICBuYXYucHVzaCh0aGlzLl9jcmVhdGVMaXN0SXRlbSghcGFnZWFibGUuaGFzTmV4dCwgbmV4dEJ0bikpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmF2O1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaXN0SXRlbShkaXNhYmxlZD1mYWxzZSwgYnV0dG9uKSB7XHJcbiAgICAgICAgbGV0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QgPSBgcGFnZS1pdGVtICR7ZGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJyd9YDtcclxuXHJcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfdGVtcGxhdGUocGFnZWFibGUpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBwYWdlYWJsZSA/IGBcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8cCBjbGFzcz0ndGV4dC1tdXRlZCc+RXhpYmluZG8gJHtwYWdlYWJsZS5udW1iZXJPZkVsZW1lbnRzfSBkZSAke3BhZ2VhYmxlLnRvdGFsRWxlbWVudHN9PC9wPlxyXG4gICAgICAgICAgICA8bmF2IGFyaWEtbGFiZWw9XCJQYWdlIG5hdmlnYXRpb24gZXhhbXBsZVwiPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGFnaW5hdGlvbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L25hdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgIDogJyc7XHJcblxyXG4gICAgICAgIHJldHVybiBET01QYXJzZXJVdGlsLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3c+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTIgY29sLW1kLTVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9JyR7aW5mby5pZH0nPjxkaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi9Nb2RlbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbmRvciBleHRlbmRzIE1vZGVse1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgcGhvbmUsIHNlY29uZGFyeVBob25lLCBub3RlcywgaWQ9JycpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3Bob25lID0gcGhvbmU7XHJcbiAgICAgICAgdGhpcy5fc2Vjb25kYXJ5UGhvbmUgPSBzZWNvbmRhcnlQaG9uZTtcclxuICAgICAgICB0aGlzLl9ub3RlcyA9IG5vdGVzO1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IG90aGVyLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGhvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bob25lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZWNvbmRhcnlQaG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2Vjb25kYXJ5UGhvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5vdGVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ub3RlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBIdHRwSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0h0dHBIZWxwZXJcIjtcclxuaW1wb3J0IFZlbmRvciBmcm9tICcuLi9tb2RlbHMvVmVuZG9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbmRvclNlcnZpY2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fc2VydmVyVXJsID0gYCR7U0VSVklDRV9VUkx9L3ZlbmRvcnNgO1xyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fc2VydmVyVXJsKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhQXJyYXkgPT4gZGF0YUFycmF5Lm1hcChkYXRhID0+IHRoaXMuX2dldEZyb21EYXRhKGRhdGEpKSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTsOjbyBmb2kgcG9zc2l2ZWwgbGlzdGFyIG9zIGZvcm5lY2Vkb3JlcycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCeUlkKGlkKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7dGhpcy5fc2VydmVyVXJsfS8ke2lkfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUodmVuZG9yRHRvKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9zZXJ2ZXJVcmwsIEpTT04uc3RyaW5naWZ5KHZlbmRvckR0bykpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0RnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSh2ZW5kb3JEdG8pIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVcmx9LyR7dmVuZG9yRHRvLmlkfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucHV0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeSh2ZW5kb3JEdG8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoaWQpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVcmx9LyR7aWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5kZWxldGUoZW5kcG9pbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRGcm9tRGF0YShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZW5kb3IoZGF0YVsnbmFtZSddLCBkYXRhWydwaG9uZSddLCBkYXRhWydzZWNvbmRhcnlQaG9uZSddLCBkYXRhWydub3RlcyddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2Qge1xyXG4gICAgY29uc3RydWN0b3IocGF5bWVudE1ldGhvZCkge1xyXG4gICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kO1xyXG5cclxuICAgICAgICB0aGlzLl9sYWJlbHMgPSB7XHJcbiAgICAgICAgICAgICdDUkVESVRfQ0FSRCc6ICdDYXJ0w6NvIGRlIENyw6lkaXRvJyxcclxuICAgICAgICAgICAgJ01PTkVZJzogJ0RpbmhlaXJvJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMoc3RyaW5nTWV0aG9kKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2QgIT0gbnVsbCAmJiB0aGlzLl9wYXltZW50TWV0aG9kID09IHN0cmluZ01ldGhvZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGFiZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsc1t0aGlzLl9wYXltZW50TWV0aG9kXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWV0aG9kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXltZW50TWV0aG9kO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZGVsVGFibGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kZWxUYWJsZVwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvblwiO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb25cIjtcclxuaW1wb3J0IERhdGVGb3JtYXQgZnJvbSBcIi4uL2hlbHBlcnMvRGF0ZUZvcm1hdEhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVyY2hhc2VUYWJsZSBleHRlbmRzIE1vZGVsVGFibGUge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGVkaXRBY3Rpb24sIHJlbW92ZUFjdGlvbiwgc2hvd05vdGVzKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ3B1cmNoYXNlc1RhYmxlJyxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiBbJ0RhdGEnLCAnVmFsb3InLCAnTWV0b2RvIERlIFBhZ2FtZW50bycsICdGb3JuZWNlZG9yJywgJ0HDp8O1ZXMnXSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fZWRpdEFjdGlvbiA9IGVkaXRBY3Rpb247XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlQWN0aW9uID0gcmVtb3ZlQWN0aW9uO1xyXG4gICAgICAgIHRoaXMuX3Nob3dOb3RlcyA9IHNob3dOb3RlcztcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlTGluZVRhYmxlRnJvbU1vZGVsKHB1cmNoYXNlKSB7XHJcbiAgICAgICAgbGV0IGJ0bkVkaXQgPSBuZXcgQnV0dG9uKCdFZGl0YXInLCAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLXNtJywgJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9lZGl0QWN0aW9uKHB1cmNoYXNlLmlkKSkpO1xyXG5cclxuICAgICAgICBsZXQgYnRuUmVtb3ZlID0gbmV3IEJ1dHRvbignUmVtb3ZlcicsICdidG4gYnRuLW91dGxpbmUtZGFuZ2VyIGJ0bi1zbScsICdidXR0b24nLCBcclxuICAgICAgICAgICAgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsICgpID0+IHRoaXMuX3JlbW92ZUFjdGlvbihwdXJjaGFzZS5pZCkpKTtcclxuXHJcbiAgICAgICAgbGV0IGJ0blNob3dOb3RlcyA9IG5ldyBCdXR0b24oJ05vdGFzJywgJ2J0biBidG4tb3V0bGluZS1pbmZvIGJ0bi1zbScsICdidXR0b24nLCBcclxuICAgICAgICAgICAgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsICgpID0+IHRoaXMuX3Nob3dOb3RlcyhwdXJjaGFzZS5ub3RlcykpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRhYmxlTGluZShwdXJjaGFzZS5pZCwgXHJcbiAgICAgICAgICAgIFtEYXRlRm9ybWF0LnRvU3RyaW5nKHB1cmNoYXNlLmRhdGUpLCBwdXJjaGFzZS52YWx1ZSwgXHJcbiAgICAgICAgICAgICAgICBwdXJjaGFzZS5wYXltZW50TWV0aG9kLmxhYmVsLCBwdXJjaGFzZS52ZW5kb3JdLCBcclxuICAgICAgICAgICAgYnRuU2hvd05vdGVzLCBidG5FZGl0LCBidG5SZW1vdmUpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBNb2RlbCBmcm9tIFwiLi9Nb2RlbFwiO1xyXG5pbXBvcnQgUGF5bWVudE1ldGhvZCBmcm9tIFwiLi9QYXltZW50TWV0aG9kXCI7XHJcbmltcG9ydCBEYXRlRm9ybWF0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0RhdGVGb3JtYXRIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFB1cmNoYXNlIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IodmFsdWUsIGRhdGUsIG5vdGVzLCBwYXltZW50TWV0aG9kLCB2ZW5kb3IsIGlkPScnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2RhdGUgPSBkYXRlICE9IG51bGwgPyBuZXcgRGF0ZShEYXRlRm9ybWF0SGVscGVyLnRvRGF0ZShkYXRlKSkgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuX25vdGVzID0gbm90ZXM7XHJcbiAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IG5ldyBQYXltZW50TWV0aG9kKHBheW1lbnRNZXRob2QpO1xyXG4gICAgICAgIHRoaXMuX3ZlbmRvciA9IHZlbmRvcjtcclxuICAgICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBvdGhlci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHNGb3IoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbm90ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXltZW50TWV0aG9kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXltZW50TWV0aG9kO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2ZW5kb3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlbmRvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5pbXBvcnQgUHVyY2hhc2UgZnJvbSBcIi4uL21vZGVscy9QdXJjaGFzZVwiO1xyXG5pbXBvcnQgUGFnZWFibGUgZnJvbSBcIi4uL21vZGVscy9QYWdlYWJsZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVyY2hhc2VTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVybCA9IGAke1NFUlZJQ0VfVVJMfS9wdXJjaGFzZXNgO1xyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VhYmxlUHVyY2hhc2VzKHNlYXJjaERhdGE9bnVsbCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IHRoaXMuX3NlcnZlclVybCArICcvc2VhcmNoJztcclxuICAgICAgICBpZiAoc2VhcmNoRGF0YSAhPSBudWxsKSBcclxuICAgICAgICAgICAgZW5kcG9pbnQgPSBlbmRwb2ludCArICc/JyArIHNlYXJjaERhdGE7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhQXJyYXkgPT4gXHJcbiAgICAgICAgICAgICAgICBQYWdlYWJsZS5idWlsZEZyb20oZGF0YUFycmF5LCBcclxuICAgICAgICAgICAgICAgICAgICBkYXRhQXJyYXlbJ2NvbnRlbnQnXS5tYXAoZGF0YSA9PiB0aGlzLl9nZXRQdXJjaGFzZUZyb21EYXRhKGRhdGEpKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVB1cmNoYXNlKHB1cmNoYXNlRFRPKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gdGhpcy5fc2VydmVyVXJsICsgJy8nICsgcHVyY2hhc2VEVE8uaWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucHV0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeShwdXJjaGFzZURUTykpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0UHVyY2hhc2VGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHVyY2hhc2UocHVyY2hhc2VEVE8pIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVcmw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkocHVyY2hhc2VEVE8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldFB1cmNoYXNlRnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVB1cmNoYXNlKGlkKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gdGhpcy5fc2VydmVyVXJsICsgXCIvXCIgKyBpZDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5kZWxldGUoZW5kcG9pbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRQdXJjaGFzZUZyb21EYXRhKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFB1cmNoYXNlKGRhdGFbJ3ZhbHVlJ10sIGRhdGFbJ2RhdGUnXSwgZGF0YVsnbm90ZXMnXSwgXHJcbiAgICAgICAgICAgIGRhdGFbJ3BheW1lbnRNZXRob2QnXSwgZGF0YVsndmVuZG9yTmFtZSddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxufSIsImltcG9ydCBGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1cIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9CdXR0b25cIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5pbXBvcnQgVmVuZG9yU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvVmVuZG9yU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVyY2hhc2VTZWFyY2hGb3JtIGV4dGVuZHMgRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ3B1cmNoYXNlU2VhcmNoRm9ybScsXHJcbiAgICAgICAgICAgICdidXR0b25zJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2luaXRpYWxCdXR0b25zJzogW1xyXG4gICAgICAgICAgICAgICAgbmV3IEJ1dHRvbignRmlsdHJhcicsICdidG4gYnRuLXByaW1hcnkgYnRuLXNtIGZsb2F0LXJpZ2h0JywgJ3N1Ym1pdCcpLFxyXG4gICAgICAgICAgICAgICAgbmV3IEJ1dHRvbignTGltcGFyIEZpbHRybycsICdidG4gYnRuLXNlY29uZGFyeSBidG4tc20nLCAncmVzZXQnKSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZlbmRvckxpc3QgPSBbXTtcclxuICAgICAgICBuZXcgVmVuZG9yU2VydmljZSgpLmdldEFsbCgpXHJcbiAgICAgICAgICAgIC50aGVuKHZlbmRvcnMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVuZG9yTGlzdCA9IHZlbmRvcnNcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmllbGRzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ2YWx1ZVwiPlZhbG9yPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cInZhbHVlT3BlcmF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkVRVUFMXCI+SWd1YWwgYTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJHUkVBVEVSX1RIQU5cIj5NYWlvciBxdWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTEVTU19USEFOXCI+TWVub3IgcXVlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkJFVFdFRU5cIj5FbnRyZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwLjAwXCIgc3RlcD1cIjAuMDFcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwidmFsdWVcIiBuYW1lPVwidmFsdWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwLjAwXCIgc3RlcD1cIjAuMDFcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwidmFsdWVNYXhcIiBuYW1lPVwidmFsdWVNYXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGF0ZVwiPkRhdGE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwiZGF0ZU9wZXJhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFUVVBTFwiPklndWFsIGE8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiR1JFQVRFUl9USEFOXCI+TWFpb3IgcXVlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxFU1NfVEhBTlwiPk1lbm9yIHF1ZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCRVRXRUVOXCI+RW50cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiZGF0ZVwiIG5hbWU9XCJkYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJkYXRlTWF4XCIgbmFtZT1cImRhdGVNYXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBheW1lbnRNZXRob2RcIj5UaXBvIGRlIFBhZ2FtZW50bzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwicGF5bWVudE1ldGhvZFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Ub2Rvczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ1JFRElUX0NBUkRcIj5DYXJ0w6NvIGRlIENyw6lkaXRvPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNT05FWVwiPkRpbmhlaXJvPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ2ZW5kb3JcIj5Gb3JuZWNlZG9yPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJ2ZW5kb3JJZFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Ub2Rvczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuX3ZlbmRvckxpc3QubWFwKHZlbmRvciA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJHt2ZW5kb3IuaWR9XCI+JHt2ZW5kb3IubmFtZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInNpemVcIj5JdGVucyBwb3IgUGFnaW5hPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwic2l6ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMjBcIj4yMDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjEwXCI+MTA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI1XCI+NTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj4yPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwic29ydFwiPk9yZGVuYXIgUG9yOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cInNvcnRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbSBPcmRlbmHDp8Ojbzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInZhbHVlLEFTQ1wiPlZhbG9yIChjcmVzY2VudGUpPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidmFsdWUsREVTQ1wiPlZhbG9yIChEZWNyZXNjZW50ZSk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJkYXRlLEFTQ1wiPkRhdGEgKENyZXNjZW50ZSk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJkYXRlLERFU0NcIj5EYXRhIChEZWNyZXNjZW50ZSk8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYFxyXG5cclxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVyY2hhc2VEVE8ge1xyXG4gICAgY29uc3RydWN0b3IodmFsdWUsIGRhdGUsIG5vdGVzLCBwYXltZW50TWV0aG9kLCB2ZW5kb3JJZCwgaWQ9JycpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5vdGVzO1xyXG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZCA9IHBheW1lbnRNZXRob2Q7XHJcbiAgICAgICAgdGhpcy52ZW5kb3JJZCA9IHZlbmRvcklkO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxufSIsImltcG9ydCBGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1cIjtcclxuaW1wb3J0IFB1cmNoYXNlIGZyb20gXCIuLi9tb2RlbHMvUHVyY2hhc2VcIjtcclxuaW1wb3J0IFZlbmRvclNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL1ZlbmRvclNlcnZpY2VcIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5pbXBvcnQgUHVyY2hhc2VEVE8gZnJvbSBcIi4uL2R0b3MvUHVyY2hhc2VEVE9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFB1cmNoYXNlRm9ybSBleHRlbmRzIEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdwdXJjaGFzZUZvcm0nLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fcHVyY2hhc2UgPSBuZXcgUHVyY2hhc2UoKTtcclxuICAgICAgICB0aGlzLl92ZW5kb3JMaXN0ID0gW107XHJcbiAgICAgICAgbmV3IFZlbmRvclNlcnZpY2UoKS5nZXRBbGwoKVxyXG4gICAgICAgICAgICAudGhlbihsaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZlbmRvckxpc3QgPSBsaXN0XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcHVyY2hhc2UocHVyY2hhc2UpIHtcclxuICAgICAgICB0aGlzLl9wdXJjaGFzZSA9IHB1cmNoYXNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRmllbGRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHB1cmNoYXNlKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQdXJjaGFzZURUTyhkYXRhWyd2YWx1ZSddLCBkYXRhWydkYXRlJ10sIGRhdGFbJ25vdGVzJ10sIFxyXG4gICAgICAgICAgICBkYXRhWydwYXltZW50TWV0aG9kJ10sIGRhdGFbJ3ZlbmRvcklkJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJpZFwiIHZhbHVlPVwiJHt0aGlzLl9wdXJjaGFzZS5pZCA/IHRoaXMuX3B1cmNoYXNlLmlkIDogJyd9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGF0ZVwiPkRhdGE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cImRhdGVcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuX3B1cmNoYXNlLmRhdGUgPyB0aGlzLl9wdXJjaGFzZS5kYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCkgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidmFsdWVcIj5Gb3JuZWNlZG9yPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInZlbmRvcklkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5fdmVuZG9yTGlzdC5tYXAodmVuZG9yID0+IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIke3ZlbmRvci5pZH1cIj4ke3ZlbmRvci5uYW1lfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidmFsdWVcIj5WYWxvcjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwLjAwXCIgc3RlcD1cIjAuMDFcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLl9wdXJjaGFzZS52YWx1ZSA/IHRoaXMuX3B1cmNoYXNlLnZhbHVlIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBheW1lbnRNZXRob2RcIj5NZWlvIGRlIFBhZ2FtZW50bzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJwYXltZW50TWV0aG9kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDUkVESVRfQ0FSRFwiICR7dGhpcy5fcHVyY2hhc2UucGF5bWVudE1ldGhvZC5lcXVhbHMoJ0NSRURJVF9DQVJEJykgPyAnc2VsZWN0ZWQnIDogJyd9PkNhcnTDo28gZGUgQ3LDqWRpdG88L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1PTkVZXCIgJHt0aGlzLl9wdXJjaGFzZS5wYXltZW50TWV0aG9kLmVxdWFscygnTU9ORVknKSA/ICdzZWxlY3RlZCcgOiAnJ30+RGluaGVpcm88L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibm90ZXNcIj5Ob3Rhcy9Qcm9kdXRvczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwibm90ZXNcIj4ke3RoaXMuX3B1cmNoYXNlLm5vdGVzID8gIHRoaXMuX3B1cmNoYXNlLm5vdGVzIDogJyd9PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IERlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIGZyb20gXCIuL0RlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyXCI7XHJcbmltcG9ydCBCaW5kUHJveHlNb2RlbFZpZXcgZnJvbSBcIi4uL2hlbHBlcnMvQmluZFByb3h5TW9kZWxWaWV3XCI7XHJcbmltcG9ydCBBbGVydE1lc3NhZ2UgZnJvbSBcIi4uL21vZGVscy9BbGVydE1lc3NhZ2VcIjtcclxuaW1wb3J0IEFsZXJ0TWVzc2FnZVZpZXcgZnJvbSBcIi4uL3ZpZXdzL0FsZXJ0TWVzc2FnZVZpZXdcIjtcclxuaW1wb3J0IFByb3h5TW9kZWxDb21wb25lbnQgZnJvbSBcIi4uL2hlbHBlcnMvUHJveHlNb2RlbENvbXBvbmVudFwiO1xyXG5pbXBvcnQgTW9kZWxMaXN0IGZyb20gXCIuLi9tb2RlbHMvTW9kZWxMaXN0XCI7XHJcbmltcG9ydCBQdXJjaGFzZVRhYmxlIGZyb20gXCIuLi92aWV3cy9QdXJjaGFzZXNUYWJsZVwiO1xyXG5pbXBvcnQgUHVyY2hhc2VTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9QdXJjaGFzZVNlcnZpY2VcIjtcclxuaW1wb3J0IFB1cmNoYXNlU2VhcmNoRm9ybSBmcm9tIFwiLi4vdmlld3MvUHVyY2hhc2VTZWFyY2hGb3JtXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbFwiO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb25cIjtcclxuaW1wb3J0IFB1cmNoYXNlRm9ybSBmcm9tIFwiLi4vdmlld3MvUHVyY2hhc2VGb3JtXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQnV0dG9uXCI7XHJcbmltcG9ydCBQdXJjaGFzZSBmcm9tIFwiLi4vbW9kZWxzL1B1cmNoYXNlXCI7XHJcbmltcG9ydCBDb25maXJtTW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29uZmlybU1vZGFsXCI7XHJcbmltcG9ydCBEYXRlRm9ybWF0SGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0RhdGVGb3JtYXRIZWxwZXJcIjtcclxuaW1wb3J0IFBhZ2VhYmxlTmF2aWdhdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9QYWdlYWJsZU5hdmlnYXRpb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFB1cmNoYXNlQ29udHJvbGxlciBleHRlbmRzIERlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIHtcclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFB1cmNoYXNlU2VydmljZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2luaXRBbGVydE1lc3NhZ2VzKCk7XHJcbiAgICAgICAgdGhpcy5faW5pdFB1cmNoYXNlVGFibGUoKTtcclxuICAgICAgICB0aGlzLl9pbml0UHVyY2hhc2VGb3JtTW9kYWwoKTtcclxuICAgICAgICB0aGlzLl9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUHVyY2hhc2VGb3JtKCkge1xyXG4gICAgICAgIGxldCBwdXJjaGFzZURUTyA9IHRoaXMuX3B1cmNoYXNlRm9ybS5wdXJjaGFzZTtcclxuICAgICAgICBsZXQgc2F2ZVByb21pc3NlID0gcHVyY2hhc2VEVE8uaWQgP1xyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlKHB1cmNoYXNlRFRPKSA6XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuY3JlYXRlUHVyY2hhc2UocHVyY2hhc2VEVE8pO1xyXG5cclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIucnVuKFxyXG4gICAgICAgICAgICBzYXZlUHJvbWlzc2UudGhlbihwdXJjaGFzZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXJjaGFzZXMuYWRkKHB1cmNoYXNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsRm9ybS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnJywgJ09zIGRhZG9zIGRhIGNvbXByYSBmb3JhbSBzYWx2b3MgY29tIHN1Y2Vzc28nLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlUHVyY2hhc2UoaWQpIHtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIucnVuKFxyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlLmRlbGV0ZVB1cmNoYXNlKGlkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsUmVtb3ZlQ29uZmlybWF0aW9uLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXJjaGFzZXMucmVtb3ZlKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnJywgJ0NvbXByYSByZW1vdmlkYSBjb20gc3VjZXNzbycsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoUHVyY2hhc2VzKHBhZ2U9bnVsbCkge1xyXG4gICAgICAgIGxldCBzZWFyY2hEYXRhID0gdGhpcy5fcHVyY2hhc2VzU2VhcmNoRm9ybS5nZXREYXRhQXNQYXJhbXMoKTtcclxuICAgICAgICBpZiAocGFnZSAhPSBudWxsKSBzZWFyY2hEYXRhID0gc2VhcmNoRGF0YSArICcmcGFnZT0nICsgcGFnZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9wdXJjaGFzZXMuY2xlYW4oKTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuZ2V0UGFnZWFibGVQdXJjaGFzZXMoc2VhcmNoRGF0YSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHBhZ2VhYmxlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlYWJsZS5jb250ZW50LmZvckVhY2gocHVyY2hhc2UgPT4gdGhpcy5fcHVyY2hhc2VzLmFkZChwdXJjaGFzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhYmxlTmF2LnVwZGF0ZShwYWdlYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZS51cGRhdGUoJ0EgbGlzdGEgZGUgY29tcHJhcyBlc3TDoSBhdHVhbGl6YXIgY29tIG8gc2Vydmlkb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnTGlzdGEgYXR1YWxpemFkYSBkZSBjb21wcmFzJywgJ2luZm8nKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0QWxlcnRNZXNzYWdlcygpIHtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbmV3IEJpbmRQcm94eU1vZGVsVmlldyhuZXcgQWxlcnRNZXNzYWdlKCksXHJcbiAgICAgICAgICAgIG5ldyBBbGVydE1lc3NhZ2VWaWV3KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGVydE1lc3NhZ2UnKSksXHJcbiAgICAgICAgICAgICd1cGRhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFB1cmNoYXNlVGFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fcHVyY2hhc2VzID0gbmV3IFByb3h5TW9kZWxDb21wb25lbnQobmV3IE1vZGVsTGlzdCgpLCBcclxuICAgICAgICAgICAgbmV3IFB1cmNoYXNlVGFibGUoJyNwdXJjaGFzZUxpc3QnLFxyXG4gICAgICAgICAgICAgICAgaWQgPT4ge3RoaXMuX2VkaXRQdXJjaGFzZShpZCl9LFxyXG4gICAgICAgICAgICAgICAgaWQgPT4ge3RoaXMuX3Nob3dSZW1vdmVDb25maXJtYXRpb24oaWQpfSxcclxuICAgICAgICAgICAgICAgIG5vdGVzID0+IHt0aGlzLl9zaG93Tm90ZXMobm90ZXMpfSksXHJcbiAgICAgICAgICAgICdhZGQnLCAncmVtb3ZlJywgJ2NsZWFuJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fdGFibGVOYXYgPSBuZXcgUGFnZWFibGVOYXZpZ2F0aW9uKFwiI3B1cmNoYXNlTGlzdFwiLCB7J2lkJzogJ3RhYmxlTmF2J30sIHBhZ2UgPT4gdGhpcy5zZWFyY2hQdXJjaGFzZXMocGFnZSkpO1xyXG5cclxuICAgICAgICB0aGlzLl9zZWFyY2hNb2RhbCA9IG5ldyBNb2RhbChcIiNzZWFyY2hQYW5lbFwiLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdzZWFyY2hNb2RhbCcsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdGaWx0cm8gZGUgUGVzcXVpc2EnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9wdXJjaGFzZXNTZWFyY2hGb3JtID0gbmV3IFB1cmNoYXNlU2VhcmNoRm9ybSh0aGlzLl9zZWFyY2hNb2RhbC5jb250ZW50U2VsZWN0b3IsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFB1cmNoYXNlcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoTW9kYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHRoaXMuX25vdGVzTW9kYWwgPSBuZXcgTW9kYWwoXCIjcHVyY2hhc2VMaXN0XCIsICB7XHJcbiAgICAgICAgICAgICdpZCc6ICdub3Rlc01vZGFsJyxcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ05vdGFzIGRhIGNvbXByYSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1zaG93LXNlYXJjaC1tb2RhbCcpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9zZWFyY2hNb2RhbC5zaG93KCl9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWFyY2hQdXJjaGFzZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFB1cmNoYXNlRm9ybU1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuX21vZGFsRm9ybSA9IG5ldyBNb2RhbChcIm1haW5cIiwge1xyXG4gICAgICAgICAgICAnaWQnOiAnUHVyY2hhc2VGb3JtTW9kYWwnLFxyXG4gICAgICAgICAgICAndGl0bGUnOiAnRm9ybXVsw6FyaW8gZGUgQ29tcHJhcycsXHJcbiAgICAgICAgICAgICdmb290ZXInOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3B1cmNoYXNlRm9ybSA9IG5ldyBQdXJjaGFzZUZvcm0odGhpcy5fbW9kYWxGb3JtLmNvbnRlbnRTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRQdXJjaGFzZUZvcm1Nb2RhbEJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1jcmVhdGUtcHVyY2hhc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9jcmVhdGVQdXJjaGFzZSgpfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRQdXJjaGFzZUZvcm1Nb2RhbEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnVwZGF0ZUZvb3RlcihcclxuICAgICAgICAgICAgbmV3IEJ1dHRvbignU2FsdmFyJywgJ2J0biBidG4tcHJpbWFyeSBidG4tbGcnLCAnYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB7dGhpcy5zYXZlUHVyY2hhc2VGb3JtKCl9KSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxSZW1vdmVDb25maXJtYXRpb24gPSBuZXcgQ29uZmlybU1vZGFsKFwibWFpblwiLCB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogXCJyZW1vdmVDb25maXJtYXRpb25Nb2RhbFwiLFxyXG4gICAgICAgICAgICAndGl0bGUnOiAnUmVtb3ZlciBDb21wcmEnLFxyXG4gICAgICAgICAgICAnYnV0dG9uTGFiZWwnOiAnUmVtb3ZlciBEZWZpbml0aXZhbWVudGUnXHJcbiAgICAgICAgfSwgaWQgPT4ge3RoaXMuZGVsZXRlUHVyY2hhc2UoaWQpfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9jcmVhdGVQdXJjaGFzZSgpIHtcclxuICAgICAgICB0aGlzLl9wdXJjaGFzZUZvcm0ucHVyY2hhc2UgPSBuZXcgUHVyY2hhc2UoKTtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0uc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9lZGl0UHVyY2hhc2UoaWQpIHtcclxuICAgICAgICBsZXQgcHVyY2hhc2UgPSB0aGlzLl9wdXJjaGFzZXMuZmluZChpZCk7XHJcbiAgICAgICAgdGhpcy5fcHVyY2hhc2VGb3JtLnB1cmNoYXNlID0gcHVyY2hhc2U7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd1JlbW92ZUNvbmZpcm1hdGlvbihpZCkge1xyXG4gICAgICAgIGxldCBwdXJjaGFzZSA9IHRoaXMuX3B1cmNoYXNlcy5maW5kKGlkKTtcclxuICAgICAgICB0aGlzLl9tb2RhbFJlbW92ZUNvbmZpcm1hdGlvbi51cGRhdGUoYFxyXG4gICAgICAgICAgICBWb2PDqiB0ZW0gY2VydGV6YSBxdWUgZGVzZWphIHJlbW92ZXIgZGVmaW5pdGl2YW1lbnRlIGEgY29tcHJhIFxyXG4gICAgICAgICAgICBkbyBkaWEgJHtEYXRlRm9ybWF0SGVscGVyLnRvU3RyaW5nKHB1cmNoYXNlLmRhdGUpfSBubyB2YWxvciBkZVxyXG4gICAgICAgICAgICAke3B1cmNoYXNlLnZhbHVlfT9cclxuICAgICAgICBgLCBpZCk7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxSZW1vdmVDb25maXJtYXRpb24uc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93Tm90ZXMobm90ZXMpIHtcclxuICAgICAgICB0aGlzLl9ub3Rlc01vZGFsLnVwZGF0ZUNvbnRlbnRUZXh0KG5vdGVzKTtcclxuICAgICAgICB0aGlzLl9ub3Rlc01vZGFsLnNob3coKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IFB1cmNoYXNlQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9QdXJjaGFzZUNvbnRyb2xsZXJcIjtcclxuXHJcbmxldCBwdXJjaGFzZSA9IG5ldyBQdXJjaGFzZUNvbnRyb2xsZXIoKTsiXSwic291cmNlUm9vdCI6IiJ9