!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(1);class o{constructor(e,t={}){this._component=s.a.parse(this._base(t)),this._tag="#"+t.id,this._parentSelector=e,this._info=t,this._init(),document.querySelector(this._parentSelector).appendChild(this._component)}_init(){this._initListeners(this._info.listeners)}_initListeners(e){e&&e.forEach(e=>{this._component.addEventListener(e.type,e.action)})}_base(e){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static parse(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector("body").firstChild}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t){this._type=e,this._action=t}get type(){return this._type}get action(){return this._action}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t,n="submit",...s){let o=document.createElement("button");return o.classList=t,o.setAttribute("type",n),o.innerHTML=e,s&&s.forEach(e=>o.addEventListener(e.type,e.action)),o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(11),n(7);class s{addToken(e,t){let n=`${e} ${t}`;window.localStorage.setItem("msaloonwbtoken",n)}storeItem(e,t){window.localStorage.setItem(e,t)}cleanToken(){window.localStorage.setItem("msaloonwbtoken",null)}get token(){return window.localStorage.getItem("msaloonwbtoken")}getStoredItem(e){return window.localStorage.getItem(e)}post(e,t){let n=this._buildTransactionDetails("POST",t);return this._buildFetchTransaction(e,n)}get(e){let t=this._buildTransactionDetails("GET",null);return this._buildFetchTransaction(e,t)}put(e,t){let n=this._buildTransactionDetails("PUT",t);return this._buildFetchTransaction(e,n)}delete(e){let t=this._buildTransactionDetails("DELETE",null);return fetch(e,t).then(e=>{if(e.ok)return!0;throw new Error("A transactional error has been happened.")})}_buildTransactionHeaders(){return new Headers({"Content-type":"Application/json",Authorization:this.token})}_buildTransactionDetails(e,t){return{method:e,body:t,headers:this._buildTransactionHeaders()}}_buildFetchTransaction(e,t){return fetch(e,t).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>!0);throw new Error("A transactional error has been happened.")})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(0);class o extends s.a{updateFields(){document.querySelector(this._tag+" .fields").innerHTML="",document.querySelector(this._tag+" .fields").appendChild(this._template())}submit(){document.querySelector(this._tag).submit()}reset(){document.querySelector(this._tag).reset()}getData(){let e=[];return $(this._tag).serializeArray().forEach(t=>{e[t.name]=t.value}),e}getDataAsParams(){return $(this._tag).serialize()}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".fields").appendChild(this._info.initialContent),this._info.buttons&&this._info.initialButtons&&this._info.initialButtons.forEach(e=>this._component.querySelector(".buttons").appendChild(e))}_base(e){return`\n        <form id=${e.id} ${e.formClass?`class='${e.formClass}'`:""}>\n           <div class='fields'></div>\n           <div class='buttons'>\n                ${e.defaultButtons?'\n                <button type="submit" class="btn btn-primary">Salvar</button>\n                <button type="reset" class="btn btn-secondary">Limpar</button>\n                ':""}\n           </div>\n        </form>\n        `}_template(){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1);var s=n(0);class o extends s.a{show(){$(this._tag).modal("show")}hide(){$(this._tag).modal("hide")}updateContent(e){document.querySelector(this._tag+" .modal-body").innerHTML="",document.querySelector(this._tag+" .modal-body").appendChild(e)}cleanContent(){document.querySelector(this._tag+" .modal-body").innerHTML=""}updateContentText(e){document.querySelector(this._tag+" .modal-body").innerHTML="<pre>"+e+"</pre>"}updateFooter(e){document.querySelector(this._tag+" .modal-footer").innerHTML="",document.querySelector(this._tag+" .modal-footer").appendChild(e)}cleanFooter(){document.querySelector(this._tag+" .modal-footer").innerHTML=""}get contentSelector(){return this._tag+" .modal-body"}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".modal-body").appendChild(this._info.initialContent),this._info.footer&&this._info.initialFooter&&this._component.querySelector(".modal-footer").appendChild(this._info.initialFooter)}_initListeners(e){e&&e.forEach(e=>{$(this._component).on(e.type,e.action)})}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="${e.label?e.label:"myLargeModal"}" aria-hidden="true">\n            <div class="modal-dialog ${e.modalClass?e.modalClass:""}" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">${e.title}</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n            \n                    <div class="modal-body">\n                    </div>\n\n                    ${e.footer?'\n                    <div class="modal-footer">\n                        \n                    </div>\n                    ':""}\n                </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(4);class o{constructor(){this._serverURL="http://localhost:8080/auth",this._webtoken="msaloonwbtoken",this._http=new s.a}hasValidToken(){return this._http.get(this._serverURL)}authenticate(e){let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}};return fetch(this._serverURL,t).then(e=>{if(e.ok&&200==e.status)return e.json();throw new Error("The signin data is not correct")}).then(e=>{this._http.addToken(e.type,e.token)})}logout(){this._http.cleanToken()}redirectToLoginPage(){window.location.href="/login.html"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{equals(e){throw new Error("The equals method must be implemented")}equalsFor(e){throw new Error("The equalsFor method must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static create(e,t,n){return new Proxy(e,{get:(e,o,i)=>t.includes(o)&&s._isFuntion(e[o])?function(){let t=Reflect.apply(e[o],e,arguments);return n(e),t}:Reflect.get(e,o,i),set(e,s,o,i){let a=Reflect.set(e,s,o,i);return t.includes(s)&&n(e),a}})}static _isFuntion(e){return typeof e==typeof Function}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(0);class o extends s.a{constructor(e){super(e)}_base(e){return'\n        <nav class="sidebar">\n          <div class="sidebar-sticky">\n            <ul class="nav flex-column">\n              <li class="nav-item">\n                <a class="nav-link active" href="./schedule.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>\n                  Dashboard <span class="sr-only">(current)</span>\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./customers.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>\n                  Clientes\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./professionals.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Profissionais\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./vendors.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Fornecedores\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./purchases.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Compras\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./appointments.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Atendimentos (Consultas)\n                </a>\n              </li>\n            </ul>\n    \n            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n              <span>Minha Conta</span>\n            </h6>\n            <ul class="nav flex-column mb-2">\n              <li class="nav-item">\n                <a class="nav-link" href="./profile.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>\n                  Meu Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        '}}class i extends s.a{constructor(e,t){super(e),this._initHeaderNavigation(t)}_initHeaderNavigation(e){this._component.querySelector("a.logout").addEventListener(e.type,e.action)}_base(e){return'\n        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\n            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">My Saloon Web</a>\n            <input class="form-control form-control-dark w-100" type="text" placeholder="Pesquisar" aria-label="Pesquisar">\n            <ul class="navbar-nav px-3">\n                <li class="nav-item text-nowrap">\n                <a class="nav-link logout" href="#">Logoff</a>\n                </li>\n            </ul>\n        </nav>\n        '}}var a=n(2),r=n(7),l=n(1);class d extends s.a{constructor(){super("#headerNavigation"),this._initLoaderComponent()}start(){this._component.appendChild(this._loaderComponent),this._component.classList.add("pre-loader-running")}stop(){this._component.innerHTML="",this._component.classList.remove("pre-loader-running")}run(e){this.start(),e.then(()=>{this.stop()})}_initLoaderComponent(){this._loaderComponent=l.a.parse('\n        <div class="loader-panel">\n            <div id="loader4">\n                <span class="loader loader-1"></span>\n                <span class="loader loader-2"></span>\n                <span class="loader loader-3"></span>\n                <span class="loader loader-4"></span>\n            </div>\n        </div>\n        ')}_base(){return'\n        <div class="row" id="preLoader">\n            \n        </div>\n        '}}class c{constructor(){this._preLoader=new d,this._authService=new r.a,this._validAuthenticatedClient(),this._headerNav=new i("#headerNavigation",new a.a("click",e=>{this.doLogoff()})),this._dashboardNav=new o("#dashboardNavigation"),this._init()}doLogoff(){this._authService.logout(),this._authService.redirectToLoginPage()}_init(){throw new Error("the _init() method must be implemented")}_validAuthenticatedClient(){this._authService.hasValidToken().catch(()=>{this._authService.redirectToLoginPage()})}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(8);class o extends s.a{constructor(e,t,n,s,o,i=""){super(),this._name=e,this._residencialPhone=t,this._cellphone=n,this._departament=s,this._id=i,this._email=o}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get name(){return this._name}get residencialPhone(){return this._residencialPhone}get cellphone(){return this._cellphone}get departament(){return this._departament}get email(){return this._email}get id(){return this._id}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(9);class o{constructor(e,t,...n){let o=s.a.create(e,n,e=>t.update(e));return t.update(e),o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this._title="",this._message="",this._type="primary"}update(e,t="",n="primary"){this._title=t,this._message=e,this._type=n}get title(){return this._title}get message(){return this._message}get type(){return this._type}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s extends class{constructor(e){this._element=e}_template(e){throw new Error("Template method must be implemented")}update(e){this._element.innerHTML=this._template(e)}}{_template(e){return`\n        <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n            <h4 class="alert-heading">${e.title}</h4>\n            <p class='text-muted'>${e.message}</p>\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(12),o=(n(11),n(4));class i{constructor(){this._serverURL="http://localhost:8080/professionals",this._http=new o.a}getAllProfessionals(){let e=this._serverURL;return this._http.get(e).then(e=>e.map(e=>this._getProfessionalFromData(e)))}getProfessionalByID(e){let t=`${this._serverURL}/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e)).catch(e=>{throw console.log(e),new Error("Ocorreu um error na comunição com o servidor e não foi possivel encontrar o profissional solicitado")})}createProfessional(e){let t=this._serverURL;return this._http.post(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}updateProfessional(e){let t=`${this._serverURL}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}deteleProfessional(e){let t=`${this._serverURL}/${e}`;return this._http.delete(t)}getProfessionalByEmail(e){let t=`${this._serverURL}/email/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e))}restorePassword(e){return this._http.post("http://localhost:8080/accounts/restore",JSON.stringify({email:e}))}resetPassword(e){return this._http.post("http://localhost:8080/accounts/reset",JSON.stringify({password:e}))}_getProfessionalFromData(e){return new s.a(e.name,e.residencialPhone,e.cellphone,e.department,e.email,e.id)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this._list=[],this._pageableInfo=void 0}clean(){this._list=[],this._pageableInfo=void 0}add(e){this._list.some(t=>t.equals(e))?this._list.forEach((t,n)=>{t.equals(e)&&(this._list[n]=e)}):this._list.push(e)}find(e){return this._list.find(t=>t.equalsFor(e))}updatePageableInfo(e){this._pageableInfo=e}remove(e){this._list.forEach((t,n)=>{t.equalsFor(e)&&this._list.splice(n,1)})}get list(){return this._list}get pageableInfo(){return this._pageableInfo}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(0);class o extends s.a{_updateList(e){let t=document.querySelector(this._tag+" tbody");t.innerHTML="",e.forEach(e=>t.appendChild(e))}_appendItem(e){document.querySelector(this._tag+" tbody").appendChild(e)}_cleanTable(){document.querySelector(this._tag+" tbody").innerHTML=""}_removeLine(e){document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`).remove()}_updateLine(e,t){let n=document.querySelector(`${this._tag} tbody tr[data-key="${e}"]`);n.parentNode.replaceChild(t,n)}_createTableLine(e,t,...n){let s=document.createElement("tr");if(s.setAttribute("data-key",e),t.forEach(e=>{let t=document.createElement("td");t.innerHTML=e,s.appendChild(t)}),n){let e=document.createElement("td");n.forEach(t=>e.appendChild(t)),s.appendChild(e)}return s}_base(e){return`\n        <table class="table table-hover" id=${e.id}>\n            <thead>\n                <tr>\n                    ${e.headers.map(e=>`\n                        <th scope="col">${e}</th>\n                    `).join("")}\n                </tr>\n            </thead>\n            <tbody>\n                ${e.initialContent?initialContent:""}\n            </tbody>\n        </table>\n        `}}class i extends o{updateFromModel(e){this._cleanTable(),e.list.forEach(e=>this._appendItem(this._createLineTableFromModel(e)))}_createLineTableFromModel(e){throw new Error("_createLineTableFromModel must been implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(6);class o extends s.a{constructor(e,t,n){super(e,t),this._removeAction=n}_init(){super._init(),this._component.querySelector(this._tag+" form").addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector(this._tag+' form input[name="key"]').value;this._removeAction(t)})}update(e,t){document.querySelector(this._tag+" .modal-body .alert").innerHTML=e,document.querySelector(this._tag+' form input[name="key"]').value=t}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog">\n            <div class="modal-dialog modal-sm" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                <h5 class="modal-title">${e.title}</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                </div>\n                <div class="modal-body">\n                <div class="alert alert-danger" role="alert">\n                    ${e.message}\n                </div>\n                <p class="text-muted">Essa ação não poderá ser desfeita</p>\n                <form>\n                    <input type="hidden" name="key">\n                    <button class="btn btn-danger btn-sm btn-block" type="submit">${e.buttonLabel}</button>\n                </form>\n                </div>\n            </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(9);class o{constructor(e,t,...n){let o=s.a.create(e,n,e=>t.updateFromModel(e));return t.updateFromModel(e),o}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(5);class o{constructor(e,t,n,s,o,i=""){this.name=e,this.residencialPhone=t,this.cellphone=n,this.department=s,this.email=o,this.id=i}}var i=n(1),a=n(12);class r extends s.a{constructor(e,t=!1,...n){super(e,{id:"professionalForm",defaultButtons:t,listeners:n}),this._professional=new a.a,this.updateFields()}set professional(e){this._professional=e,this.updateFields()}get professional(){let e=this.getData();return new o(e.name,e.residencialPhone,e.cellphone,e.departament,e.email,e.id)}_template(){let e=`\n            <div>\n                <input type="hidden" class="form-control" name="id" value="${this._professional.id?this._professional.id:""}">\n                <div class="form-group">\n                    <label for="name">Nome</label>\n                    <input type="text" min="3" max="20" class="form-control" id="name" name="name" \n                    placeholder="Maria Souza Silva" value="${this._professional.name?this._professional.name:""}">\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                    <label for="residencialPhone">Telefone</label>\n                    <input type="text" class="form-control" name="residencialPhone" value="${this._professional.residencialPhone?this._professional.residencialPhone:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                    <label for="cellphone">Celular</label>\n                    <input type="text" class="form-control" name="cellphone" value="${this._professional.cellphone?this._professional.cellphone:""}">\n                    </div>\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                    <label for="departament">Àrea de Atuação</label>\n                    <select class="form-control" name="departament">\n                        <option value="CABELELEIRA" ${"CABELELEIRA"==this._professional.departament?"selected":""}>Cabeleleira</option>\n                        <option value="MANICURE" ${"MANICURE"==this._professional.departament?"selected":""}>Manicure</option>\n                        <option value="DESIGNER_SOBRANCELHAS" ${"DESIGNER_SOBRANCELHAS"==this._professional.departament?"selected":""}>Design de Sobrancelhas</option>\n                        <option value="DEPILADORA" ${"DEPILADORA"==this._professional.departament?"selected":""}>Depiladora</option>\n                        <option value="ESTETICISTA" ${"ESTETICISTA"==this._professional.departament?"selected":""}>Esteticista</option>\n                    </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="email">E-mail</label>\n                    <input type="email" min="3" max="20" class="form-control" name="email" \n                        placeholder="maria.silva@gmail.com" value="${this._professional.email?this._professional.email:""}">\n                </div>\n            </div>\n        `;return i.a.parse(e)}}},,,,,,,,function(e,t,n){"use strict";n.r(t);var s=n(14),o=n(17),i=n(15),a=n(16),r=n(6),l=n(29),d=n(12),c=n(18),h=n(3),u=n(2),m=n(19);class p extends m.a{constructor(e,t,n,s){super(e,{id:"professionalsList",headers:["Nome","Àrea de Atuação","Telefone","Celular","E-mail","Ações"]}),this._editAction=t,this._removeAction=n,this._restorePasswordAction=s}_createLineTableFromModel(e){let t=new h.a("Editar","btn btn-outline-primary btn-sm","button",new u.a("click",()=>this._editAction(e.id))),n=new h.a("Remover","btn btn-outline-danger btn-sm","button",new u.a("click",()=>this._removeAction(e.id))),s=new h.a("Resetar","btn btn-outline-warning btn-sm","button",new u.a("click",()=>this._restorePasswordAction(e.email)));return this._createTableLine(e.id,[e.name,e.departament,e.residencialPhone,e.cellphone,e.email],t,n,s)}}var f=n(20),_=n(21),v=n(10);class b extends v.a{_init(){this._service=new o.a,this._initAlertMessages(),this._initProfessionalsTable(),this._initProfessionalFormModal(),this._initRemoveConfirmationModal(),this.updateProfessionalTable(),this._initModalFormButtons(),this._initConfirmRestorePassowordModal(),document.querySelector(".btn-create-professional").addEventListener("click",()=>{this._createProfessional()})}saveProfessionalForm(){let e=this._professionalForm.professional,t=e.id?this._service.updateProfessional(e):this._service.createProfessional(e);this._preLoader.run(t.then(e=>{this._professionals.add(e),this._modalForm.hide(),this._message.update("",`Os dados do(a) ${e.name} foram salvos com sucesso`,"success")}))}updateProfessionalTable(){this._preLoader.run(this._service.getAllProfessionals().then(e=>{e.forEach(e=>this._professionals.add(e)),this._message.update("A lista de profissionais foi sincronizada com o servidor","Lista de Profissionais atualizada!","info")}))}deleteProfessional(e){this._preLoader.run(this._service.deteleProfessional(e).then(()=>{this._modalConfirmRemove.hide(),this._professionals.remove(e),this._message.update("Os dados do profissional foram removidos definitivamente","Profissional removido!","info")}))}restorePassword(e){this._preLoader.run(this._service.restorePassword(e).then(()=>{this._modalRestorePassword.hide(),this._message.update("A senha do profissional foi restaurada e um novo padrão foi enviada para o e-mail cadastrado","Senha Alterada","success")}))}_initProfessionalsTable(){this._professionals=new _.a(new c.a,new p("#professionalList",e=>{this._editProfessional(e)},e=>{this._confirmRemoveProfessional(e)},e=>{this._confirmRestorePassword(e)}),"add","remove")}_initAlertMessages(){this._message=new s.a(new i.a,new a.a(document.querySelector("#alertMessage")),"update")}_initProfessionalFormModal(){this._modalForm=new r.a("#modalForm",{id:"MForm",title:"Formulário do Profissional",footer:!0}),this._professionalForm=new l.a(this._modalForm.contentSelector,!1)}_initRemoveConfirmationModal(){this._modalConfirmRemove=new f.a("#modalForm",{id:"modalConfirmRemove",title:"Remover Profissional",buttonLabel:"Remover definitivamente"},e=>{this.deleteProfessional(e)})}_initModalFormButtons(){this._modalForm.updateFooter(new h.a("Salvar","btn btn-primary btn-lg","button",new u.a("click",()=>{this.saveProfessionalForm()})))}_initConfirmRestorePassowordModal(){this._modalRestorePassword=new f.a("main",{id:"restorePasswordModal",title:"Restaurar Senha",buttonLabel:"Restaurar senha e enviar E-mail"},e=>{this.restorePassword(e)})}_confirmRemoveProfessional(e){let t=this._professionals.find(e);this._modalConfirmRemove.update(`Você tem certeza que deseja remover definitivamente o(a) professional <strong>${t.name}</strong> do sistema?`,t.id),this._modalConfirmRemove.show()}_confirmRestorePassword(e){this._modalRestorePassword.update("Você tem certeza que deseja resetar a conta do usuário e criar um novo padrão de senha para o e-mail "+e,e),this._modalRestorePassword.show()}_editProfessional(e){let t=this._professionals.find(e);this._professionalForm.professional=t,this._modalForm.show()}_createProfessional(){this._professionalForm.professional=new d.a,this._modalForm.show()}}new b}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0RPTVBhcnNlclV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0h0dHBIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9Qcm94eUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZUxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Qcm9mZXNzaW9uYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvQmluZFByb3h5TW9kZWxWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQWxlcnRNZXNzYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9BbGVydE1lc3NhZ2VWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9Nb2RlbFZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL1Byb2Zlc3Npb25hbFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbExpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTW9kZWxUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db25maXJtTW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvUHJveHlNb2RlbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHRvcy9Qcm9mZXNzaW9uYWxEVE8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Byb2Zlc3Npb25hbEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Byb2Zlc3Npb25hbHNUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvUHJvZmVzc2lvbmFsQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvZmVzc2lvbmFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tcG9uZW50IiwicGFyZW50U2VsZWN0b3IiLCJpbmZvIiwidGhpcyIsIl9jb21wb25lbnQiLCJwYXJzZSIsIl9iYXNlIiwiX3RhZyIsImlkIiwiX3BhcmVudFNlbGVjdG9yIiwiX2luZm8iLCJfaW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwiX2luaXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidHlwZSIsImFjdGlvbiIsIkVycm9yIiwiRE9NUGFyc2VyVXRpbCIsImh0bWxUZXh0IiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlyc3RDaGlsZCIsIkxpc3RlbmVyQWN0aW9uIiwiX3R5cGUiLCJfYWN0aW9uIiwiQnV0dG9uIiwibGFiZWwiLCJjc3MiLCJidG4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0Iiwic2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiSHR0cEhlbHBlciIsInRva2VuIiwiZGF0YSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJ0cmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRGZXRjaFRyYW5zYWN0aW9uIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJIZWFkZXJzIiwibWV0aG9kIiwiX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzIiwianNvbiIsImNhdGNoIiwiZXJyIiwiRm9ybSIsIl90ZW1wbGF0ZSIsInN1Ym1pdCIsInJlc2V0IiwiJCIsInNlcmlhbGl6ZUFycmF5IiwiaW5wdXQiLCJzZXJpYWxpemUiLCJzdXBlciIsImluaXRpYWxDb250ZW50IiwiYnV0dG9ucyIsImluaXRpYWxCdXR0b25zIiwiYnV0dG9uIiwiZm9ybUNsYXNzIiwiZGVmYXVsdEJ1dHRvbnMiLCJNb2RhbCIsIm1vZGFsIiwiY29udGVudCIsImZvb3RlciIsImluaXRpYWxGb290ZXIiLCJvbiIsIm1vZGFsQ2xhc3MiLCJ0aXRsZSIsIkF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIiwiX3NlcnZlclVSTCIsIl93ZWJ0b2tlbiIsIl9odHRwIiwiYXV0aERUTyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJhZGRUb2tlbiIsImNsZWFuVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJNb2RlbCIsIm90aGVyIiwiYXR0cmlidXRlIiwiUHJveHlGYWN0b3J5IiwicHJvcHMiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImluY2x1ZGVzIiwiX2lzRnVudGlvbiIsInJlc3VsdCIsIlJlZmxlY3QiLCJhcHBseSIsImFyZ3VtZW50cyIsInNldCIsImZ1bmMiLCJsb2dvZmZBY3Rpb24iLCJfaW5pdEhlYWRlck5hdmlnYXRpb24iLCJfaW5pdExvYWRlckNvbXBvbmVudCIsIl9sb2FkZXJDb21wb25lbnQiLCJhZGQiLCJyZW1vdmUiLCJwcm9taXNzZSIsInN0YXJ0Iiwic3RvcCIsIl9wcmVMb2FkZXIiLCJfYXV0aFNlcnZpY2UiLCJfdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50IiwiX2hlYWRlck5hdiIsImV2ZW50IiwiZG9Mb2dvZmYiLCJfZGFzaGJvYXJkTmF2IiwibG9nb3V0IiwicmVkaXJlY3RUb0xvZ2luUGFnZSIsImhhc1ZhbGlkVG9rZW4iLCJQcm9mZXNzaW9uYWwiLCJyZXNpZGVuY2lhbFBob25lIiwiY2VsbHBob25lIiwiZGVwYXJ0YW1lbnQiLCJlbWFpbCIsIl9uYW1lIiwiX3Jlc2lkZW5jaWFsUGhvbmUiLCJfY2VsbHBob25lIiwiX2RlcGFydGFtZW50IiwiX2lkIiwiX2VtYWlsIiwiQmluZFByb3h5TW9kZWxWaWV3IiwibW9kZWwiLCJ2aWV3IiwicHJveHkiLCJ1cGRhdGUiLCJBbGVydE1lc3NhZ2UiLCJfdGl0bGUiLCJfbWVzc2FnZSIsIm1lc3NhZ2UiLCJhbGVydFR5cGUiLCJ2aWV3RWxlbWVudCIsIl9lbGVtZW50IiwiUHJvZmVzc2lvbmFsU2VydmljZSIsImRhdGFBcnJheSIsIm1hcCIsIl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInByb2Zlc3Npb25hbER0byIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJwYXNzd29yZCIsIk1vZGVsTGlzdCIsIl9saXN0IiwiX3BhZ2VhYmxlSW5mbyIsInVuZGVmaW5lZCIsInNvbWUiLCJpdGVtIiwiZXF1YWxzIiwicHVzaCIsImZpbmQiLCJlcXVhbHNGb3IiLCJwYWdlYWJsZSIsInNwbGljZSIsInRyTGlzdCIsImJvZHkiLCJ0ciIsImxpbmUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwibGluZUtleSIsImFjdGlvbnMiLCJjb2wiLCJhIiwiaGVhZGVycyIsImpvaW4iLCJtb2RlbExpc3QiLCJfY2xlYW5UYWJsZSIsImxpc3QiLCJfYXBwZW5kSXRlbSIsIl9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwiLCJDb25maXJtTW9kYWwiLCJyZW1vdmVBY3Rpb24iLCJfcmVtb3ZlQWN0aW9uIiwicHJldmVudERlZmF1bHQiLCJidXR0b25MYWJlbCIsIlByb3h5TW9kZWxDb21wb25lbnQiLCJjb21wb25lbnQiLCJ1cGRhdGVGcm9tTW9kZWwiLCJQcm9mZXNzaW9uYWxEVE8iLCJkZXBhcnRtZW50IiwiX3Byb2Zlc3Npb25hbCIsInVwZGF0ZUZpZWxkcyIsInByb2Zlc3Npb25hbCIsImdldERhdGEiLCJ0ZW1wbGF0ZSIsIk1vZGVsVGFibGUiLCJlZGl0QWN0aW9uIiwicmVzdG9yZVBhc3N3b3JkQWN0aW9uIiwiX2VkaXRBY3Rpb24iLCJfcmVzdG9yZVBhc3N3b3JkQWN0aW9uIiwiYnRuRWRpdCIsImJ0blJlbW92ZSIsImJ0blJlc3RvcmUiLCJfY3JlYXRlVGFibGVMaW5lIiwiRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIiLCJfc2VydmljZSIsIl9pbml0QWxlcnRNZXNzYWdlcyIsIl9pbml0UHJvZmVzc2lvbmFsc1RhYmxlIiwiX2luaXRQcm9mZXNzaW9uYWxGb3JtTW9kYWwiLCJfaW5pdFJlbW92ZUNvbmZpcm1hdGlvbk1vZGFsIiwidXBkYXRlUHJvZmVzc2lvbmFsVGFibGUiLCJfaW5pdE1vZGFsRm9ybUJ1dHRvbnMiLCJfaW5pdENvbmZpcm1SZXN0b3JlUGFzc293b3JkTW9kYWwiLCJfY3JlYXRlUHJvZmVzc2lvbmFsIiwiZHRvIiwiX3Byb2Zlc3Npb25hbEZvcm0iLCJzYXZlUHJvbWlzc2UiLCJ1cGRhdGVQcm9mZXNzaW9uYWwiLCJjcmVhdGVQcm9mZXNzaW9uYWwiLCJydW4iLCJfcHJvZmVzc2lvbmFscyIsIl9tb2RhbEZvcm0iLCJoaWRlIiwiZ2V0QWxsUHJvZmVzc2lvbmFscyIsInByb2Zlc3Npb25hbHNMaXN0IiwiZGV0ZWxlUHJvZmVzc2lvbmFsIiwiX21vZGFsQ29uZmlybVJlbW92ZSIsInJlc3RvcmVQYXNzd29yZCIsIl9tb2RhbFJlc3RvcmVQYXNzd29yZCIsIl9lZGl0UHJvZmVzc2lvbmFsIiwiX2NvbmZpcm1SZW1vdmVQcm9mZXNzaW9uYWwiLCJfY29uZmlybVJlc3RvcmVQYXNzd29yZCIsIkFsZXJ0TWVzc2FnZVZpZXciLCJQcm9mZXNzaW9uYWxGb3JtIiwiY29udGVudFNlbGVjdG9yIiwiZGVsZXRlUHJvZmVzc2lvbmFsIiwidXBkYXRlRm9vdGVyIiwic2F2ZVByb2Zlc3Npb25hbEZvcm0iLCJzaG93Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFD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QUFpQixHQUduRiwrQkFDSXZQLEtBQUsrTyxvQkFBc0IsSUFBSTlDLEVBQUEsRUFBYSxhQUFjLENBQ3RELEdBQU0scUJBQ04sTUFBUyx1QkFDVCxZQUFlLDJCQUNoQjVMLElBQU9MLEtBQUt3UCxtQkFBbUJuUCxLQUd0Qyx3QkFDSUwsS0FBSzBPLFdBQVdlLGFBQ1osSUFBSTVOLEVBQUEsRUFBTyxTQUFVLHlCQUEwQixTQUMzQyxJQUFJSCxFQUFBLEVBQWUsUUFBUyxLQUFPMUIsS0FBSzBQLDJCQUdwRCxvQ0FDSTFQLEtBQUtpUCxzQkFBd0IsSUFBSWhELEVBQUEsRUFBYSxPQUFRLENBQ2xELEdBQU0sdUJBQ04sTUFBUyxrQkFDVCxZQUFlLG1DQUNoQjVELElBQVVySSxLQUFLZ1AsZ0JBQWdCM0csS0FLdEMsMkJBQTJCaEksR0FDdkIsSUFBSXdNLEVBQWU3TSxLQUFLeU8sZUFBZTdELEtBQUt2SyxHQUM1Q0wsS0FBSytPLG9CQUFvQi9GLE9BQU8saUZBQWlGNkQsRUFBYXpPLDRCQUMxSHlPLEVBQWF4TSxJQUNqQkwsS0FBSytPLG9CQUFvQlksT0FHN0Isd0JBQXdCdEgsR0FDcEJySSxLQUFLaVAsc0JBQXNCakcsT0FBTyx3R0FBd0dYLEVBQVNBLEdBQ25KckksS0FBS2lQLHNCQUFzQlUsT0FHL0Isa0JBQWtCdFAsR0FDZCxJQUFJd00sRUFBZTdNLEtBQUt5TyxlQUFlN0QsS0FBS3ZLLEdBQzVDTCxLQUFLb08sa0JBQWtCdkIsYUFBZUEsRUFDdEM3TSxLQUFLME8sV0FBV2lCLE9BR3BCLHNCQUNJM1AsS0FBS29PLGtCQUFrQnZCLGFBQWUsSUFBSTVFLEVBQUEsRUFDMUNqSSxLQUFLME8sV0FBV2lCLFFDakpQLElBQUkiLCJmaWxlIjoicHJvZmVzc2lvbmFsLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzNyk7XG4iLCJpbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGluZm89e30pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBET01QYXJzZXJVdGlsLnBhcnNlKHRoaXMuX2Jhc2UoaW5mbykpO1xyXG4gICAgICAgIHRoaXMuX3RhZyA9IGAjJHtpbmZvLmlkfWA7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50U2VsZWN0b3IgPSBwYXJlbnRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbmZvID0gaW5mbztcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BhcmVudFNlbGVjdG9yKS5hcHBlbmRDaGlsZCh0aGlzLl9jb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHRoaXMuX2luaXRMaXN0ZW5lcnModGhpcy5faW5mby5saXN0ZW5lcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0TGlzdGVuZXJzKGxpc3RlbmVycykge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuYWN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBtZXRob2QgZmllbGRzVGVtcGFsdGUgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUGFyc2VyVXRpbCB7XHJcbiAgICBzdGF0aWMgcGFyc2UoaHRtbFRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sVGV4dCwgJ3RleHQvaHRtbCcpLmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKGBib2R5YCkuZmlyc3RDaGlsZDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RlbmVyQWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24ge1xyXG4gICAgY29uc3RydWN0b3IobGFiZWwsIGNzcywgdHlwZT0nc3VibWl0JywgLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdCA9IGNzcztcclxuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSk7XHJcbiAgICAgICAgYnRuLmlubmVySFRNTCA9IGxhYmVsO1xyXG5cclxuICAgICAgICBpZiAobGlzdGVuZXJzKSBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5hY3Rpb24pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJ0bjtcclxuICAgIH1cclxufSIsImltcG9ydCBGaWVsZEVycm9yIGZyb20gXCIuLi9mb3Jtcy9GaWVsZEVycm9yXCI7XHJcbmltcG9ydCBBdXRoZW50aWNhdGlvblRva2VuU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh0dHBIZWxwZXIge1xyXG4gICAgYWRkVG9rZW4odHlwZSwgdG9rZW4pIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGAke3R5cGV9ICR7dG9rZW59YDtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21zYWxvb253YnRva2VuJywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcmVJdGVtKGxhYmVsLCB2YWx1ZSkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsYWJlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuVG9rZW4oKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtc2Fsb29ud2J0b2tlbicsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0b2tlbigpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtc2Fsb29ud2J0b2tlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0b3JlZEl0ZW0obGFiZWwpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxhYmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0KGVuZHBvaW50LCBkYXRhKSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdQT1NUJywgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQoZW5kcG9pbnQpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ0dFVCcsIG51bGwpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHV0KGVuZHBvaW50LCBkYXRhKSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdQVVQnLCBkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShlbmRwb2ludCkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnREVMRVRFJywgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHRyYW5zYWN0aW9uYWwgZXJyb3IgaGFzIGJlZW4gaGFwcGVuZWQuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZFRyYW5zYWN0aW9uSGVhZGVycygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ0FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRoaXMudG9rZW5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMobWV0aG9kLCBkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ21ldGhvZCc6IG1ldGhvZCxcclxuICAgICAgICAgICAgJ2JvZHknOiBkYXRhLFxyXG4gICAgICAgICAgICAnaGVhZGVycyc6IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCkudGhlbihkYXRhID0+ICBkYXRhKS5jYXRjaChlcnIgPT4gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0cmFuc2FjdGlvbmFsIGVycm9yIGhhcyBiZWVuIGhhcHBlbmVkLicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtIGV4dGVuZHMgQ29tcG9uZW50e1xyXG4gICAgIC8qIFxyXG4gICAgICAgIEluZm8ge1xyXG4gICAgICAgICAgICBcImlkXCI6IGZvcm0gaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcImZvcm1DbGFzc1wiOiBmb3JtIGNsYXNzIGV4LiAnZm9ybS1ob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgXCJpbml0aWFsQ29udGVudFwiOiBmb3JtIGZpZWxkcyxcclxuICAgICAgICAgICAgXCJidXR0b25zXCI6IHRydWUvZmFsc2UgZm9yIGZvcm0gYnV0dG9ucyxcclxuICAgICAgICAgICAgXCJpbml0aWFsQnV0dG9uc1wiOiBmb3IgaW5pdGlhbCBidXR0b25zIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIFwiZGVmYXVsdEJ1dHRvbnNcIjogdHJ1ZS9mYWxzZSBmb3IgZGVmYXVsdCBidXR0b25zLFxyXG4gICAgICAgICAgICBcImxpc3RlbmVyc1wiOiBsaXN0ZW5lcnMgZm9yIGZvcm0gYWN0aW9uc1xyXG4gICAgICAgIH1cclxuICAgICovXHJcbiAgICB1cGRhdGVGaWVsZHMoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5maWVsZHNgKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLmZpZWxkc2ApLmFwcGVuZENoaWxkKHRoaXMuX3RlbXBsYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1Ym1pdCgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RhZykuc3VibWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFtdO1xyXG4gICAgICAgICQodGhpcy5fdGFnKS5zZXJpYWxpemVBcnJheSgpLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICBkYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YUFzUGFyYW1zKCkge1xyXG4gICAgICAgIHJldHVybiAkKHRoaXMuX3RhZykuc2VyaWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpIFxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5maWVsZHNcIikuYXBwZW5kQ2hpbGQodGhpcy5faW5mby5pbml0aWFsQ29udGVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmJ1dHRvbnMgJiYgdGhpcy5faW5mby5pbml0aWFsQnV0dG9ucylcclxuICAgICAgICAgICAgdGhpcy5faW5mby5pbml0aWFsQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbnNcIikuYXBwZW5kQ2hpbGQoYnV0dG9uKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxmb3JtIGlkPSR7aW5mby5pZH0gJHtpbmZvLmZvcm1DbGFzcyA/IGBjbGFzcz0nJHtpbmZvLmZvcm1DbGFzc30nYCA6ICcnfT5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPSdmaWVsZHMnPjwvZGl2PlxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9J2J1dHRvbnMnPlxyXG4gICAgICAgICAgICAgICAgJHtpbmZvLmRlZmF1bHRCdXR0b25zID8gYFxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIj5TYWx2YXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInJlc2V0XCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiPkxpbXBhcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgYCA6ICcnfVxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBtZXRob2QgZmllbGRzVGVtcGFsdGUgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwgZXh0ZW5kcyBDb21wb25lbnR7XHJcbiAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBtb2RhbCBpZCBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwibGFiZWxcIjogbW9kYWwgYXJpYS1sYWJlbGxlZGJ5IGF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJtb2RhbENsYXNzXCI6IG1vZGFsIGNsYXNzIGV4LiAnbW9kYWwtbGcnLFxyXG4gICAgICAgICAgICBcInRpdGxlXCI6IG1vZGFsIHRpdGxlLFxyXG4gICAgICAgICAgICBcImluaXRpYWxDb250ZW50XCI6IG1vZGFsIGJvZHksXHJcbiAgICAgICAgICAgIFwiZm9vdGVyXCI6IHRydWUvZmFsc2UgZm9yIG1vZGFsIGZvb3RlcixcclxuICAgICAgICAgICAgXCJpbml0aWFsRm9vdGVyXCI6IGZvciBpbml0aWFsIGZvb3RlciBjb250ZW50LFxyXG4gICAgICAgICAgICBcImxpc3RlbmVyc1wiOiBsaXN0ZW5lcnMgZm9yIG1vZGFsIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgc2hvdygpIHtcclxuICAgICAgICAkKHRoaXMuX3RhZykubW9kYWwoJ3Nob3cnKTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgICQodGhpcy5fdGFnKS5tb2RhbCgnaGlkZScpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZUNvbnRlbnQoY29udGVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuQ29udGVudCgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb250ZW50VGV4dChjb250ZW50KSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuaW5uZXJIVE1MID0gJzxwcmU+JyArIGNvbnRlbnQgKyAnPC9wcmU+JztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGb290ZXIoZm9vdGVyKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1mb290ZXJgKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWZvb3RlcmApLmFwcGVuZENoaWxkKGZvb3Rlcik7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5Gb290ZXIoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1mb290ZXJgKS5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29udGVudFNlbGVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YDtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICBzdXBlci5faW5pdCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5pbml0aWFsQ29udGVudCkgXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJvZHlcIikuYXBwZW5kQ2hpbGQodGhpcy5faW5mby5pbml0aWFsQ29udGVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmZvb3RlciAmJiB0aGlzLl9pbmZvLmluaXRpYWxGb290ZXIpXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWZvb3RlclwiKS5hcHBlbmRDaGlsZCh0aGlzLl9pbmZvLmluaXRpYWxGb290ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0TGlzdGVuZXJzKGxpc3RlbmVycykge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzLl9jb21wb25lbnQpLm9uKGxpc3RlbmVyLnR5cGUsIGxpc3RlbmVyLmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8ZGl2IGlkPVwiJHtpbmZvLmlkfVwiIGNsYXNzPVwibW9kYWwgZmFkZVwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJHtpbmZvLmxhYmVsID8gaW5mby5sYWJlbCA6ICdteUxhcmdlTW9kYWwnfVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nICR7aW5mby5tb2RhbENsYXNzID8gaW5mby5tb2RhbENsYXNzIDogJyd9XCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4ke2luZm8udGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHtpbmZvLmZvb3RlciA/IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIGAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fc2VydmVyVVJMID0gYCR7U0VSVklDRV9VUkx9L2F1dGhgO1xyXG4gICAgICAgIHRoaXMuX3dlYnRva2VuID0gJ21zYWxvb253YnRva2VuJztcclxuXHJcbiAgICAgICAgdGhpcy5faHR0cCA9IG5ldyBIdHRwSGVscGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzVmFsaWRUb2tlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fc2VydmVyVVJMKTtcclxuICAgIH1cclxuXHJcbiAgICBhdXRoZW50aWNhdGUoYXV0aERUTykge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB7XHJcbiAgICAgICAgICAgICdtZXRob2QnOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICdib2R5JzogSlNPTi5zdHJpbmdpZnkoYXV0aERUTyksXHJcbiAgICAgICAgICAgICdoZWFkZXJzJzoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdBcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fc2VydmVyVVJMLCB0cmFuc2FjdGlvbkRldGFpbHMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rICYmIHJlcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2lnbmluIGRhdGEgaXMgbm90IGNvcnJlY3RcIik7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9odHRwLmFkZFRva2VuKGRhdGEudHlwZSwgZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ291dCgpIHtcclxuICAgICAgICB0aGlzLl9odHRwLmNsZWFuVG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICByZWRpcmVjdFRvTG9naW5QYWdlKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbi5odG1sJ1xyXG4gICAgfSAgXHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWwge1xyXG4gICAgZXF1YWxzKG90aGVyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZXF1YWxzIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzRm9yKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGVxdWFsc0ZvciBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJveHlGYWN0b3J5IHtcclxuICAgIHN0YXRpYyBjcmVhdGUob2JqZWN0LCBwcm9wcywgYWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShvYmplY3QsIHtcclxuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5pbmNsdWRlcyhwcm9wKSAmJiBQcm94eUZhY3RvcnkuX2lzRnVudGlvbih0YXJnZXRbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gUmVmbGVjdC5hcHBseSh0YXJnZXRbcHJvcF0sIHRhcmdldCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5pbmNsdWRlcyhwcm9wKSkgYWN0aW9uKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgX2lzRnVudGlvbihmdW5jKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZihmdW5jKSA9PSB0eXBlb2YoRnVuY3Rpb24pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhc2hib2FyZE5hdmlnYXRpb24gZXh0ZW5kcyBDb21wb25lbnR7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPG5hdiBjbGFzcz1cInNpZGViYXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaWRlYmFyLXN0aWNreVwiPlxyXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJuYXYgZmxleC1jb2x1bW5cIj5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBhY3RpdmVcIiBocmVmPVwiLi9zY2hlZHVsZS5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1ob21lXCI+PHBhdGggZD1cIk0zIDlsOS03IDkgN3YxMWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjkgMjIgOSAxMiAxNSAxMiAxNSAyMlwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIERhc2hib2FyZCA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj4oY3VycmVudCk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL2N1c3RvbWVycy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci11c2Vyc1wiPjxwYXRoIGQ9XCJNMTcgMjF2LTJhNCA0IDAgMCAwLTQtNEg1YTQgNCAwIDAgMC00IDR2MlwiPjwvcGF0aD48Y2lyY2xlIGN4PVwiOVwiIGN5PVwiN1wiIHI9XCI0XCI+PC9jaXJjbGU+PHBhdGggZD1cIk0yMyAyMXYtMmE0IDQgMCAwIDAtMy0zLjg3XCI+PC9wYXRoPjxwYXRoIGQ9XCJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1XCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBDbGllbnRlc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9wcm9mZXNzaW9uYWxzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBQcm9maXNzaW9uYWlzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL3ZlbmRvcnMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZmlsZVwiPjxwYXRoIGQ9XCJNMTMgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjl6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxMyAyIDEzIDkgMjAgOVwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIEZvcm5lY2Vkb3Jlc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9wdXJjaGFzZXMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZmlsZVwiPjxwYXRoIGQ9XCJNMTMgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjl6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxMyAyIDEzIDkgMjAgOVwiPjwvcG9seWxpbmU+PC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgIENvbXByYXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vYXBwb2ludG1lbnRzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBBdGVuZGltZW50b3MgKENvbnN1bHRhcylcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgXHJcbiAgICAgICAgICAgIDxoNiBjbGFzcz1cInNpZGViYXItaGVhZGluZyBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIHB4LTMgbXQtNCBtYi0xIHRleHQtbXV0ZWRcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj5NaW5oYSBDb250YTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9oNj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2IGZsZXgtY29sdW1uIG1iLTJcIj5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL3Byb2ZpbGUuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZmlsZS10ZXh0XCI+PHBhdGggZD1cIk0xNCAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOHpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjE0IDIgMTQgOCAyMCA4XCI+PC9wb2x5bGluZT48bGluZSB4MT1cIjE2XCIgeTE9XCIxM1wiIHgyPVwiOFwiIHkyPVwiMTNcIj48L2xpbmU+PGxpbmUgeDE9XCIxNlwiIHkxPVwiMTdcIiB4Mj1cIjhcIiB5Mj1cIjE3XCI+PC9saW5lPjxwb2x5bGluZSBwb2ludHM9XCIxMCA5IDkgOSA4IDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBNZXUgUGVyZmlsXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmF2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkZXJOYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBsb2dvZmZBY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRIZWFkZXJOYXZpZ2F0aW9uKGxvZ29mZkFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRIZWFkZXJOYXZpZ2F0aW9uKGxvZ29mZkFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCdhLmxvZ291dCcpLmFkZEV2ZW50TGlzdGVuZXIobG9nb2ZmQWN0aW9uLnR5cGUsIGxvZ29mZkFjdGlvbi5hY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxuYXYgY2xhc3M9XCJuYXZiYXIgbmF2YmFyLWRhcmsgZml4ZWQtdG9wIGJnLWRhcmsgZmxleC1tZC1ub3dyYXAgcC0wIHNoYWRvd1wiPlxyXG4gICAgICAgICAgICA8YSBjbGFzcz1cIm5hdmJhci1icmFuZCBjb2wtc20tMyBjb2wtbWQtMiBtci0wXCIgaHJlZj1cIiNcIj5NeSBTYWxvb24gV2ViPC9hPlxyXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWRhcmsgdy0xMDBcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUGVzcXVpc2FyXCIgYXJpYS1sYWJlbD1cIlBlc3F1aXNhclwiPlxyXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJuYXZiYXItbmF2IHB4LTNcIj5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtIHRleHQtbm93cmFwXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGxvZ291dFwiIGhyZWY9XCIjXCI+TG9nb2ZmPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICBgXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlTG9hZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCcjaGVhZGVyTmF2aWdhdGlvbicpO1xyXG4gICAgICAgIHRoaXMuX2luaXRMb2FkZXJDb21wb25lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQuYXBwZW5kQ2hpbGQodGhpcy5fbG9hZGVyQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncHJlLWxvYWRlci1ydW5uaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZS1sb2FkZXItcnVubmluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bihwcm9taXNzZSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICBwcm9taXNzZS50aGVuKCgpID0+IHt0aGlzLnN0b3AoKX0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0TG9hZGVyQ29tcG9uZW50KCkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyLXBhbmVsXCI+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJsb2FkZXI0XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItMVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci0yXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTNcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItNFwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9hZGVyQ29tcG9uZW50ID0gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgaWQ9XCJwcmVMb2FkZXJcIj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgRGFzaGJvYXJkTmF2aWdhdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL0Rhc2hib2FyZE5hdmlnYXRpb24nO1xyXG5pbXBvcnQgSGVhZGVyTmF2aWdhdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL0hlYWRlck5hdmlnYXRpb24nO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9MaXN0ZW5lckFjdGlvbic7XHJcbmltcG9ydCBBdXRoZW50aWNhdGlvblRva2VuU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblRva2VuU2VydmljZSc7XHJcbmltcG9ydCBQcmVMb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9QcmVMb2FkZXInO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlciA9IG5ldyBQcmVMb2FkZXIoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGlvblRva2VuU2VydmljZSgpO1xyXG4gICAgICAgIHRoaXMuX3ZhbGlkQXV0aGVudGljYXRlZENsaWVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLl9oZWFkZXJOYXYgPSBuZXcgSGVhZGVyTmF2aWdhdGlvbignI2hlYWRlck5hdmlnYXRpb24nLCBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRvTG9nb2ZmKCk7XHJcbiAgICAgICAgfSkpOyAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuX2Rhc2hib2FyZE5hdiA9IG5ldyBEYXNoYm9hcmROYXZpZ2F0aW9uKCcjZGFzaGJvYXJkTmF2aWdhdGlvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZG9Mb2dvZmYoKSB7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UubG9nb3V0KCk7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UucmVkaXJlY3RUb0xvZ2luUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndGhlIF9pbml0KCkgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBfdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50KCkge1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLmhhc1ZhbGlkVG9rZW4oKVxyXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge3RoaXMuX2F1dGhTZXJ2aWNlLnJlZGlyZWN0VG9Mb2dpblBhZ2UoKX0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZGVsIGZyb20gXCIuL01vZGVsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9mZXNzaW9uYWwgZXh0ZW5kcyBNb2RlbHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHJlc2lkZW5jaWFsUGhvbmUsIGNlbGxwaG9uZSwgZGVwYXJ0YW1lbnQsIGVtYWlsLCBpZD0nJykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcmVzaWRlbmNpYWxQaG9uZSA9IHJlc2lkZW5jaWFsUGhvbmU7XHJcbiAgICAgICAgdGhpcy5fY2VsbHBob25lID0gY2VsbHBob25lO1xyXG4gICAgICAgIHRoaXMuX2RlcGFydGFtZW50ID0gZGVwYXJ0YW1lbnQ7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl9lbWFpbCA9IGVtYWlsO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PSBvdGhlci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHNGb3IoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gaWQ7IFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZXNpZGVuY2lhbFBob25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNpZGVuY2lhbFBob25lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjZWxscGhvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NlbGxwaG9uZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVwYXJ0YW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlcGFydGFtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbWFpbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW1haWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm94eSBmcm9tICcuL1Byb3h5RmFjdG9yeSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmRQcm94eU1vZGVsVmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgLi4ucHJvcHMpIHtcclxuICAgICAgICBsZXQgcHJveHkgPSBQcm94eS5jcmVhdGUobW9kZWwsIHByb3BzLCBtb2RlbCA9PiB2aWV3LnVwZGF0ZShtb2RlbCkpO1xyXG4gICAgICAgIHZpZXcudXBkYXRlKG1vZGVsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxlcnRNZXNzYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gJyc7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAncHJpbWFyeSc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKG1lc3NhZ2UsIHRpdGxlPScnLCBhbGVydFR5cGU9J3ByaW1hcnknKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLl90eXBlID0gYWxlcnRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1lc3NhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kZWxWaWV3IGZyb20gXCIuL01vZGVsVmlld1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxlcnRNZXNzYWdlVmlldyBleHRlbmRzIE1vZGVsVmlld3tcclxuICAgIF90ZW1wbGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LSR7bW9kZWwudHlwZX0gYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgIDxoNCBjbGFzcz1cImFsZXJ0LWhlYWRpbmdcIj4ke21vZGVsLnRpdGxlfTwvaDQ+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzPSd0ZXh0LW11dGVkJz4ke21vZGVsLm1lc3NhZ2V9PC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbFZpZXcge1xyXG4gICAgY29uc3RydWN0b3Iodmlld0VsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdmlld0VsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3RlbXBsYXRlKG1vZGVsKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZSBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fdGVtcGxhdGUobW9kZWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFByb2Zlc3Npb25hbCBmcm9tIFwiLi4vbW9kZWxzL1Byb2Zlc3Npb25hbFwiO1xyXG5pbXBvcnQgRmllbGRFcnJvciBmcm9tIFwiLi4vZm9ybXMvRmllbGRFcnJvclwiO1xyXG5pbXBvcnQgSHR0cEhlbHBlciBmcm9tIFwiLi4vaGVscGVycy9IdHRwSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9mZXNzaW9uYWxTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVSTCA9IGAke1NFUlZJQ0VfVVJMfS9wcm9mZXNzaW9uYWxzYDtcclxuICAgICAgICB0aGlzLl9odHRwID0gbmV3IEh0dHBIZWxwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGxQcm9mZXNzaW9uYWxzKCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IHRoaXMuX3NlcnZlclVSTDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGFBcnJheSA9PiBkYXRhQXJyYXkubWFwKGRhdGEgPT4gdGhpcy5fZ2V0UHJvZmVzc2lvbmFsRnJvbURhdGEoZGF0YSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9mZXNzaW9uYWxCeUlEKGlkKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7dGhpcy5fc2VydmVyVVJMfS8ke2lkfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY29ycmV1IHVtIGVycm9yIG5hIGNvbXVuacOnw6NvIGNvbSBvIHNlcnZpZG9yIGUgbsOjbyBmb2kgcG9zc2l2ZWwgZW5jb250cmFyIG8gcHJvZmlzc2lvbmFsIHNvbGljaXRhZG8nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJvZmVzc2lvbmFsKHByb2Zlc3Npb25hbER0bykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IHRoaXMuX3NlcnZlclVSTDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeShwcm9mZXNzaW9uYWxEdG8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQcm9mZXNzaW9uYWwocHJvZmVzc2lvbmFsRHRvKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7dGhpcy5fc2VydmVyVVJMfS8ke3Byb2Zlc3Npb25hbER0by5pZH1gO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wdXQoZW5kcG9pbnQsIEpTT04uc3RyaW5naWZ5KHByb2Zlc3Npb25hbER0bykpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0UHJvZmVzc2lvbmFsRnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIGRldGVsZVByb2Zlc3Npb25hbChpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtpZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmRlbGV0ZShlbmRwb2ludCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvZmVzc2lvbmFsQnlFbWFpbChlbWFpbCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vZW1haWwvJHtlbWFpbH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldChlbmRwb2ludClcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdG9yZVBhc3N3b3JkKGVtYWlsKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7U0VSVklDRV9VUkx9L2FjY291bnRzL3Jlc3RvcmVgO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QoZW5kcG9pbnQsIEpTT04uc3RyaW5naWZ5KHsnZW1haWwnOiBlbWFpbH0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFBhc3N3b3JkKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgbGV0IGVuZHBvaW50ID0gYCR7U0VSVklDRV9VUkx9L2FjY291bnRzL3Jlc2V0YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeSh7J3Bhc3N3b3JkJzogcGFzc3dvcmR9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb2Zlc3Npb25hbChkYXRhWyduYW1lJ10sIGRhdGFbJ3Jlc2lkZW5jaWFsUGhvbmUnXSwgZGF0YVsnY2VsbHBob25lJ10sIGRhdGFbJ2RlcGFydG1lbnQnXSwgZGF0YVsnZW1haWwnXSwgZGF0YVsnaWQnXSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3BhZ2VhYmxlSW5mbyA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbigpIHtcclxuICAgICAgICB0aGlzLl9saXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5fcGFnZWFibGVJbmZvID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChtb2RlbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9saXN0LnNvbWUoaXRlbSA9PiBpdGVtLmVxdWFscyhtb2RlbCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXF1YWxzKG1vZGVsKSkgdGhpcy5fbGlzdFtpXSA9IG1vZGVsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LnB1c2gobW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaW5kKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZmluZChpdGVtID0+IGl0ZW0uZXF1YWxzRm9yKGlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUGFnZWFibGVJbmZvKHBhZ2VhYmxlKSB7XHJcbiAgICAgICAgdGhpcy5fcGFnZWFibGVJbmZvID0gcGFnZWFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGlkKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmVxdWFsc0ZvcihpZCkpIHRoaXMuX2xpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsaXN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYWdlYWJsZUluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VhYmxlSW5mbztcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9Db21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgX3VwZGF0ZUxpc3QodHJMaXN0KSB7XHJcbiAgICAgICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKTtcclxuICAgICAgICBib2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRyTGlzdC5mb3JFYWNoKHRyID0+IGJvZHkuYXBwZW5kQ2hpbGQodHIpKTtcclxuICAgIH1cclxuXHJcbiAgICBfYXBwZW5kSXRlbSh0cikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keWApLmFwcGVuZENoaWxkKHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2xlYW5UYWJsZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gdGJvZHlgKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVMaW5lKGtleSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keSB0cltkYXRhLWtleT1cIiR7a2V5fVwiXWApLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVMaW5lKGtleSwgdHIpIHtcclxuICAgICAgICBsZXQgbGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSB0Ym9keSB0cltkYXRhLWtleT1cIiR7a2V5fVwiXWApO1xyXG4gICAgICAgIGxpbmUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodHIsIGxpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVUYWJsZUxpbmUobGluZUtleSwgZGF0YSwgLi4uYWN0aW9ucykge1xyXG4gICAgICAgIGxldCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZSgnZGF0YS1rZXknLCBsaW5lS2V5KTtcclxuXHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgY29sLmlubmVySFRNTCA9IHByb3A7XHJcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY29sKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoYWN0aW9ucykge1xyXG4gICAgICAgICAgICBsZXQgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGEgPT4gY29sLmFwcGVuZENoaWxkKGEpKTtcclxuICAgICAgICAgICAgbGluZS5hcHBlbmRDaGlsZChjb2wpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIiBpZD0ke2luZm8uaWR9PlxyXG4gICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtpbmZvLmhlYWRlcnMubWFwKHRpdGxlID0+IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+JHt0aXRsZX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgJHtpbmZvLmluaXRpYWxDb250ZW50ID8gaW5pdGlhbENvbnRlbnQgOiAnJ31cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVGFibGUgZnJvbSBcIi4vVGFibGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsVGFibGUgZXh0ZW5kcyBUYWJsZSB7XHJcbiAgICB1cGRhdGVGcm9tTW9kZWwobW9kZWxMaXN0KSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYW5UYWJsZSgpO1xyXG4gICAgICAgIG1vZGVsTGlzdC5saXN0LmZvckVhY2gobW9kZWwgPT4gdGhpcy5fYXBwZW5kSXRlbSh0aGlzLl9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwobW9kZWwpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUxpbmVUYWJsZUZyb21Nb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignX2NyZWF0ZUxpbmVUYWJsZUZyb21Nb2RlbCBtdXN0IGJlZW4gaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlybU1vZGFsIGV4dGVuZHMgTW9kYWx7XHJcbiAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBtb2RhbCBpZCBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogbW9kYWwgdGl0bGUsXHJcbiAgICAgICAgICAgIFwiYnV0dG9uTGFiZWxcIjogYnV0dG9uIGFjdGlvbiBmb3IgY29uZmlybSBhY3Rpb24sXHJcbiAgICAgICAgICAgIFwib25Db25maXJtXCI6IGFjdGlvbiBvbiBjb25maXJtO1xyXG4gICAgICAgICAgICBcImxpc3RlbmVyc1wiOiBsaXN0ZW5lcnMgZm9yIG1vZGFsIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGluZm8sIHJlbW92ZUFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudFNlbGVjdG9yLCBpbmZvKTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVBY3Rpb24gPSByZW1vdmVBY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSBmb3JtYCkuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQga2V5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IGZvcm0gaW5wdXRbbmFtZT1cImtleVwiXWApLnZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVBY3Rpb24oa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUobWVzc2FnZSwgdmFsdWUpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHkgLmFsZXJ0YCkuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gZm9ybSBpbnB1dFtuYW1lPVwia2V5XCJdYCkudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBpZD1cIiR7aW5mby5pZH1cIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPiR7aW5mby50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWRcIj5Fc3NhIGHDp8OjbyBuw6NvIHBvZGVyw6Egc2VyIGRlc2ZlaXRhPC9wPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSBidG4tYmxvY2tcIiB0eXBlPVwic3VibWl0XCI+JHtpbmZvLmJ1dHRvbkxhYmVsfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFByb3h5IGZyb20gJy4vUHJveHlGYWN0b3J5J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJveHlNb2RlbENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgY29tcG9uZW50LCAuLi5wcm9wcykge1xyXG4gICAgICAgIGxldCBwcm94eSA9IFByb3h5LmNyZWF0ZShtb2RlbCwgcHJvcHMsIG1vZGVsID0+IGNvbXBvbmVudC51cGRhdGVGcm9tTW9kZWwobW9kZWwpKTtcclxuICAgICAgICBjb21wb25lbnQudXBkYXRlRnJvbU1vZGVsKG1vZGVsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsRFRPIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHJlc2lkZW5jaWFsUGhvbmUsIGNlbGxwaG9uZSwgZGVwYXJ0bWVudCwgZW1haWwsIGlkPScnKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnJlc2lkZW5jaWFsUGhvbmUgPSByZXNpZGVuY2lhbFBob25lO1xyXG4gICAgICAgIHRoaXMuY2VsbHBob25lID0gY2VsbHBob25lO1xyXG4gICAgICAgIHRoaXMuZGVwYXJ0bWVudCA9IGRlcGFydG1lbnQ7XHJcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxufSIsImltcG9ydCBGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybSdcclxuaW1wb3J0IFByb2Zlc3Npb25hbERUTyBmcm9tICcuLi9kdG9zL1Byb2Zlc3Npb25hbERUTyc7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IFByb2Zlc3Npb25hbCBmcm9tICcuLi9tb2RlbHMvUHJvZmVzc2lvbmFsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2Zlc3Npb25hbEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBkZWZhdWx0QnV0dG9ucz1mYWxzZSwgLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ3Byb2Zlc3Npb25hbEZvcm0nLFxyXG4gICAgICAgICAgICAnZGVmYXVsdEJ1dHRvbnMnOiBkZWZhdWx0QnV0dG9ucyxcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Byb2Zlc3Npb25hbCA9IG5ldyBQcm9mZXNzaW9uYWwoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHByb2Zlc3Npb25hbChwcm9mZXNzaW9uYWwpIHtcclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWwgPSBwcm9mZXNzaW9uYWw7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvZmVzc2lvbmFsKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9mZXNzaW9uYWxEVE8oZGF0YVsnbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydkZXBhcnRhbWVudCddLCBkYXRhWydlbWFpbCddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJpZFwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwuaWQgPyB0aGlzLl9wcm9mZXNzaW9uYWwuaWQgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5hbWVcIj5Ob21lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBtaW49XCIzXCIgbWF4PVwiMjBcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwibmFtZVwiIG5hbWU9XCJuYW1lXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXJpYSBTb3V6YSBTaWx2YVwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwubmFtZSA/IHRoaXMuX3Byb2Zlc3Npb25hbC5uYW1lIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1yb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXNpZGVuY2lhbFBob25lXCI+VGVsZWZvbmU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInJlc2lkZW5jaWFsUGhvbmVcIiB2YWx1ZT1cIiR7dGhpcy5fcHJvZmVzc2lvbmFsLnJlc2lkZW5jaWFsUGhvbmUgPyB0aGlzLl9wcm9mZXNzaW9uYWwucmVzaWRlbmNpYWxQaG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNlbGxwaG9uZVwiPkNlbHVsYXI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cImNlbGxwaG9uZVwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwuY2VsbHBob25lID8gdGhpcy5fcHJvZmVzc2lvbmFsLmNlbGxwaG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGVwYXJ0YW1lbnRcIj7DgHJlYSBkZSBBdHVhw6fDo288L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiZGVwYXJ0YW1lbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNBQkVMRUxFSVJBXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ0NBQkVMRUxFSVJBJyA/ICdzZWxlY3RlZCcgOiAnJ30+Q2FiZWxlbGVpcmE8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1BTklDVVJFXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ01BTklDVVJFJyA/ICdzZWxlY3RlZCcgOiAnJ30+TWFuaWN1cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkRFU0lHTkVSX1NPQlJBTkNFTEhBU1wiICR7dGhpcy5fcHJvZmVzc2lvbmFsLmRlcGFydGFtZW50ID09ICdERVNJR05FUl9TT0JSQU5DRUxIQVMnID8gJ3NlbGVjdGVkJyA6ICcnfT5EZXNpZ24gZGUgU29icmFuY2VsaGFzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJERVBJTEFET1JBXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ0RFUElMQURPUkEnID8gJ3NlbGVjdGVkJyA6ICcnfT5EZXBpbGFkb3JhPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFU1RFVElDSVNUQVwiICR7dGhpcy5fcHJvZmVzc2lvbmFsLmRlcGFydGFtZW50ID09ICdFU1RFVElDSVNUQScgPyAnc2VsZWN0ZWQnIDogJyd9PkVzdGV0aWNpc3RhPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVtYWlsXCI+RS1tYWlsPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbWluPVwiM1wiIG1heD1cIjIwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiZW1haWxcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJtYXJpYS5zaWx2YUBnbWFpbC5jb21cIiB2YWx1ZT1cIiR7dGhpcy5fcHJvZmVzc2lvbmFsLmVtYWlsID8gdGhpcy5fcHJvZmVzc2lvbmFsLmVtYWlsIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBNb2RlbFRhYmxlIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGVsVGFibGVcIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9CdXR0b25cIlxyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb25cIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsc1RhYmxlIGV4dGVuZHMgTW9kZWxUYWJsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgZWRpdEFjdGlvbiwgcmVtb3ZlQWN0aW9uLCByZXN0b3JlUGFzc3dvcmRBY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvciwge1xyXG4gICAgICAgICAgICAnaWQnOiAncHJvZmVzc2lvbmFsc0xpc3QnLFxyXG4gICAgICAgICAgICAnaGVhZGVycyc6IFsnTm9tZScsICfDgHJlYSBkZSBBdHVhw6fDo28nLCAnVGVsZWZvbmUnLCAnQ2VsdWxhcicsICdFLW1haWwnLCAnQcOnw7VlcyddLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9lZGl0QWN0aW9uID0gZWRpdEFjdGlvbjtcclxuICAgICAgICB0aGlzLl9yZW1vdmVBY3Rpb24gPSByZW1vdmVBY3Rpb247XHJcbiAgICAgICAgdGhpcy5fcmVzdG9yZVBhc3N3b3JkQWN0aW9uID0gcmVzdG9yZVBhc3N3b3JkQWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaW5lVGFibGVGcm9tTW9kZWwocHJvZmVzc2lvbmFsKSB7XHJcbiAgICAgICAgbGV0IGJ0bkVkaXQgPSBuZXcgQnV0dG9uKCdFZGl0YXInLCAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLXNtJywgJ2J1dHRvbicsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ2NsaWNrJywgKCkgPT4gdGhpcy5fZWRpdEFjdGlvbihwcm9mZXNzaW9uYWwuaWQpKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJ0blJlbW92ZSA9IG5ldyBCdXR0b24oJ1JlbW92ZXInLCAnYnRuIGJ0bi1vdXRsaW5lLWRhbmdlciBidG4tc20nLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9yZW1vdmVBY3Rpb24ocHJvZmVzc2lvbmFsLmlkKSkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBidG5SZXN0b3JlID0gbmV3IEJ1dHRvbignUmVzZXRhcicsICdidG4gYnRuLW91dGxpbmUtd2FybmluZyBidG4tc20nLCAnYnV0dG9uJywgXHJcbiAgICAgICAgICAgIG5ldyBMaXN0ZW5lckFjdGlvbignY2xpY2snLCAoKSA9PiB0aGlzLl9yZXN0b3JlUGFzc3dvcmRBY3Rpb24ocHJvZmVzc2lvbmFsLmVtYWlsKSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVGFibGVMaW5lKHByb2Zlc3Npb25hbC5pZCwgXHJcbiAgICAgICAgICAgIFtwcm9mZXNzaW9uYWwubmFtZSwgcHJvZmVzc2lvbmFsLmRlcGFydGFtZW50LCBwcm9mZXNzaW9uYWwucmVzaWRlbmNpYWxQaG9uZSwgcHJvZmVzc2lvbmFsLmNlbGxwaG9uZSwgcHJvZmVzc2lvbmFsLmVtYWlsXSwgXHJcbiAgICAgICAgICAgIGJ0bkVkaXQsIGJ0blJlbW92ZSwgYnRuUmVzdG9yZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kZWxWaWV3IGZyb20gXCIuLi9oZWxwZXJzL0JpbmRQcm94eU1vZGVsVmlld1wiO1xyXG5pbXBvcnQgUHJvZmVzc2lvbmFsU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvUHJvZmVzc2lvbmFsU2VydmljZVwiO1xyXG5pbXBvcnQgQWxlcnRNZXNzYWdlIGZyb20gXCIuLi9tb2RlbHMvQWxlcnRNZXNzYWdlXCI7XHJcbmltcG9ydCBBbGVydE1lc3NhZ2VWaWV3IGZyb20gXCIuLi92aWV3cy9BbGVydE1lc3NhZ2VWaWV3XCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tICcuLi9jb21wb25lbnRzL01vZGFsJztcclxuaW1wb3J0IFByb2Zlc3Npb25hbEZvcm0gZnJvbSAnLi4vdmlld3MvUHJvZmVzc2lvbmFsRm9ybSc7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWwgZnJvbSBcIi4uL21vZGVscy9Qcm9mZXNzaW9uYWxcIjtcclxuaW1wb3J0IE1vZGVsTGlzdCBmcm9tIFwiLi4vbW9kZWxzL01vZGVsTGlzdFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL0J1dHRvblwiO1xyXG5pbXBvcnQgTGlzdGVuZXJBY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb25cIjtcclxuaW1wb3J0IFByb2Zlc3Npb25hbHNUYWJsZSBmcm9tIFwiLi4vdmlld3MvUHJvZmVzc2lvbmFsc1RhYmxlXCI7XHJcbmltcG9ydCBDb25maXJtTW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29uZmlybU1vZGFsXCI7XHJcbmltcG9ydCBQcm94eU1vZGVsQ29tcG9uZW50IGZyb20gXCIuLi9oZWxwZXJzL1Byb3h5TW9kZWxDb21wb25lbnRcIjtcclxuaW1wb3J0IERlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyIGZyb20gXCIuL0RlZmF1bHREYXNoYm9hcmRDb250cm9sbGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9mZXNzaW9uYWxDb250cm9sbGVyIGV4dGVuZHMgRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIge1xyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBQcm9mZXNzaW9uYWxTZXJ2aWNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRBbGVydE1lc3NhZ2VzKCk7XHJcbiAgICAgICAgdGhpcy5faW5pdFByb2Zlc3Npb25hbHNUYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRQcm9mZXNzaW9uYWxGb3JtTW9kYWwoKTtcclxuICAgICAgICB0aGlzLl9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2Zlc3Npb25hbFRhYmxlKCk7XHJcbiAgICAgICAgdGhpcy5faW5pdE1vZGFsRm9ybUJ1dHRvbnMoKTtcclxuICAgICAgICB0aGlzLl9pbml0Q29uZmlybVJlc3RvcmVQYXNzb3dvcmRNb2RhbCgpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNyZWF0ZS1wcm9mZXNzaW9uYWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUHJvZmVzc2lvbmFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVByb2Zlc3Npb25hbEZvcm0oKSB7XHJcbiAgICAgICAgbGV0IGR0byA9IHRoaXMuX3Byb2Zlc3Npb25hbEZvcm0ucHJvZmVzc2lvbmFsO1xyXG4gICAgICAgIGxldCBzYXZlUHJvbWlzc2UgPSBkdG8uaWQgPyB0aGlzLl9zZXJ2aWNlLnVwZGF0ZVByb2Zlc3Npb25hbChkdG8pIDogdGhpcy5fc2VydmljZS5jcmVhdGVQcm9mZXNzaW9uYWwoZHRvKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyLnJ1bihzYXZlUHJvbWlzc2UudGhlbihwcm9mZXNzaW9uYWwgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxzLmFkZChwcm9mZXNzaW9uYWwpO1xyXG4gICAgICAgICAgICB0aGlzLl9tb2RhbEZvcm0uaGlkZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnJyxcclxuICAgICAgICAgICAgICAgIGBPcyBkYWRvcyBkbyhhKSAke3Byb2Zlc3Npb25hbC5uYW1lfSBmb3JhbSBzYWx2b3MgY29tIHN1Y2Vzc29gLCBcclxuICAgICAgICAgICAgICAgICdzdWNjZXNzJyk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVByb2Zlc3Npb25hbFRhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuZ2V0QWxsUHJvZmVzc2lvbmFscygpXHJcbiAgICAgICAgICAgIC50aGVuKHByb2Zlc3Npb25hbHNMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2Zlc3Npb25hbHNMaXN0LmZvckVhY2gocHJvZmVzc2lvbmFsID0+IHRoaXMuX3Byb2Zlc3Npb25hbHMuYWRkKHByb2Zlc3Npb25hbCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnQSBsaXN0YSBkZSBwcm9maXNzaW9uYWlzIGZvaSBzaW5jcm9uaXphZGEgY29tIG8gc2Vydmlkb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICdMaXN0YSBkZSBQcm9maXNzaW9uYWlzIGF0dWFsaXphZGEhJywgXHJcbiAgICAgICAgICAgICAgICAgICAgJ2luZm8nKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGRlbGV0ZVByb2Zlc3Npb25hbChpZCkge1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4odGhpcy5fc2VydmljZS5kZXRlbGVQcm9mZXNzaW9uYWwoaWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsQ29uZmlybVJlbW92ZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxzLnJlbW92ZShpZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnT3MgZGFkb3MgZG8gcHJvZmlzc2lvbmFsIGZvcmFtIHJlbW92aWRvcyBkZWZpbml0aXZhbWVudGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdQcm9maXNzaW9uYWwgcmVtb3ZpZG8hJywgJ2luZm8nKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmVQYXNzd29yZChlbWFpbCkge1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UucmVzdG9yZVBhc3N3b3JkKGVtYWlsKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZGFsUmVzdG9yZVBhc3N3b3JkLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlLnVwZGF0ZSgnQSBzZW5oYSBkbyBwcm9maXNzaW9uYWwgZm9pIHJlc3RhdXJhZGEgZSB1bSBub3ZvIHBhZHLDo28gZm9pIGVudmlhZGEgcGFyYSBvIGUtbWFpbCBjYWRhc3RyYWRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbmhhIEFsdGVyYWRhJywgJ3N1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFByb2Zlc3Npb25hbHNUYWJsZSgpIHtcclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxzID0gbmV3IFByb3h5TW9kZWxDb21wb25lbnQobmV3IE1vZGVsTGlzdCgpLFxyXG4gICAgICAgICAgICBuZXcgUHJvZmVzc2lvbmFsc1RhYmxlKCcjcHJvZmVzc2lvbmFsTGlzdCcsIFxyXG4gICAgICAgICAgICAgICAgaWQgPT4ge3RoaXMuX2VkaXRQcm9mZXNzaW9uYWwoaWQpfSxcclxuICAgICAgICAgICAgICAgIGlkID0+IHt0aGlzLl9jb25maXJtUmVtb3ZlUHJvZmVzc2lvbmFsKGlkKX0sXHJcbiAgICAgICAgICAgICAgICBlbWFpbCA9PiB7dGhpcy5fY29uZmlybVJlc3RvcmVQYXNzd29yZChlbWFpbCl9KSxcclxuICAgICAgICAgICAgJ2FkZCcsICdyZW1vdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEFsZXJ0TWVzc2FnZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG5ldyBNb2RlbFZpZXcobmV3IEFsZXJ0TWVzc2FnZSgpLFxyXG4gICAgICAgICAgICBuZXcgQWxlcnRNZXNzYWdlVmlldyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWxlcnRNZXNzYWdlJykpLCBcclxuICAgICAgICAgICAgJ3VwZGF0ZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfaW5pdFByb2Zlc3Npb25hbEZvcm1Nb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0gPSBuZXcgTW9kYWwoJyNtb2RhbEZvcm0nLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdNRm9ybScsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdGb3JtdWzDoXJpbyBkbyBQcm9maXNzaW9uYWwnLFxyXG4gICAgICAgICAgICAnZm9vdGVyJzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWxGb3JtID0gbmV3IFByb2Zlc3Npb25hbEZvcm0odGhpcy5fbW9kYWxGb3JtLmNvbnRlbnRTZWxlY3RvciwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0UmVtb3ZlQ29uZmlybWF0aW9uTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxDb25maXJtUmVtb3ZlID0gbmV3IENvbmZpcm1Nb2RhbChcIiNtb2RhbEZvcm1cIiwge1xyXG4gICAgICAgICAgICBcImlkXCI6IFwibW9kYWxDb25maXJtUmVtb3ZlXCIsXHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJSZW1vdmVyIFByb2Zpc3Npb25hbFwiLCBcclxuICAgICAgICAgICAgXCJidXR0b25MYWJlbFwiOiBcIlJlbW92ZXIgZGVmaW5pdGl2YW1lbnRlXCJcclxuICAgICAgICB9LCBpZCA9PiB7dGhpcy5kZWxldGVQcm9mZXNzaW9uYWwoaWQpfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRNb2RhbEZvcm1CdXR0b25zKCkge1xyXG4gICAgICAgIHRoaXMuX21vZGFsRm9ybS51cGRhdGVGb290ZXIoXHJcbiAgICAgICAgICAgIG5ldyBCdXR0b24oJ1NhbHZhcicsICdidG4gYnRuLXByaW1hcnkgYnRuLWxnJywgJ2J1dHRvbicsIFxyXG4gICAgICAgICAgICAgICAgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsICgpID0+IHt0aGlzLnNhdmVQcm9mZXNzaW9uYWxGb3JtKCl9KSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0Q29uZmlybVJlc3RvcmVQYXNzb3dvcmRNb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbFJlc3RvcmVQYXNzd29yZCA9IG5ldyBDb25maXJtTW9kYWwoJ21haW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6ICdyZXN0b3JlUGFzc3dvcmRNb2RhbCcsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdSZXN0YXVyYXIgU2VuaGEnLFxyXG4gICAgICAgICAgICAnYnV0dG9uTGFiZWwnOiAnUmVzdGF1cmFyIHNlbmhhIGUgZW52aWFyIEUtbWFpbCdcclxuICAgICAgICB9LCBlbWFpbCA9PiB7dGhpcy5yZXN0b3JlUGFzc3dvcmQoZW1haWwpfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBfY29uZmlybVJlbW92ZVByb2Zlc3Npb25hbChpZCkge1xyXG4gICAgICAgIGxldCBwcm9mZXNzaW9uYWwgPSB0aGlzLl9wcm9mZXNzaW9uYWxzLmZpbmQoaWQpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsQ29uZmlybVJlbW92ZS51cGRhdGUoYFZvY8OqIHRlbSBjZXJ0ZXphIHF1ZSBkZXNlamEgcmVtb3ZlciBkZWZpbml0aXZhbWVudGUgbyhhKSBwcm9mZXNzaW9uYWwgPHN0cm9uZz4ke3Byb2Zlc3Npb25hbC5uYW1lfTwvc3Ryb25nPiBkbyBzaXN0ZW1hP2AsIFxyXG4gICAgICAgICAgICBwcm9mZXNzaW9uYWwuaWQpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsQ29uZmlybVJlbW92ZS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NvbmZpcm1SZXN0b3JlUGFzc3dvcmQoZW1haWwpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbFJlc3RvcmVQYXNzd29yZC51cGRhdGUoYFZvY8OqIHRlbSBjZXJ0ZXphIHF1ZSBkZXNlamEgcmVzZXRhciBhIGNvbnRhIGRvIHVzdcOhcmlvIGUgY3JpYXIgdW0gbm92byBwYWRyw6NvIGRlIHNlbmhhIHBhcmEgbyBlLW1haWwgJHtlbWFpbH1gLCBlbWFpbCk7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxSZXN0b3JlUGFzc3dvcmQuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9lZGl0UHJvZmVzc2lvbmFsKGlkKSB7XHJcbiAgICAgICAgbGV0IHByb2Zlc3Npb25hbCA9IHRoaXMuX3Byb2Zlc3Npb25hbHMuZmluZChpZCk7XHJcbiAgICAgICAgdGhpcy5fcHJvZmVzc2lvbmFsRm9ybS5wcm9mZXNzaW9uYWwgPSBwcm9mZXNzaW9uYWw7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlUHJvZmVzc2lvbmFsKCkge1xyXG4gICAgICAgIHRoaXMuX3Byb2Zlc3Npb25hbEZvcm0ucHJvZmVzc2lvbmFsID0gbmV3IFByb2Zlc3Npb25hbCgpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsRm9ybS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG59IiwiaW1wb3J0IFByb2Zlc3Npb25hbENvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvUHJvZmVzc2lvbmFsQ29udHJvbGxlclwiO1xyXG5cclxubGV0IGNvbnRyb2xsZXIgPSBuZXcgUHJvZmVzc2lvbmFsQ29udHJvbGxlcigpO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==