!function(e){var t={};function n(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(1);class a{constructor(e,t={}){this._component=s.a.parse(this._base(t)),this._tag="#"+t.id,this._parentSelector=e,this._info=t,this._init(),document.querySelector(this._parentSelector).appendChild(this._component)}_init(){this._initListeners(this._info.listeners)}_initListeners(e){e&&e.forEach(e=>{this._component.addEventListener(e.type,e.action)})}_base(e){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static parse(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector("body").firstChild}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(e,t){this._type=e,this._action=t}get type(){return this._type}get action(){return this._action}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(11),n(7);class s{addToken(e,t){let n=`${e} ${t}`;window.localStorage.setItem("msaloonwbtoken",n)}storeItem(e,t){window.localStorage.setItem(e,t)}cleanToken(){window.localStorage.setItem("msaloonwbtoken",null)}get token(){return window.localStorage.getItem("msaloonwbtoken")}getStoredItem(e){return window.localStorage.getItem(e)}post(e,t){let n=this._buildTransactionDetails("POST",t);return this._buildFetchTransaction(e,n)}get(e){let t=this._buildTransactionDetails("GET",null);return this._buildFetchTransaction(e,t)}put(e,t){let n=this._buildTransactionDetails("PUT",t);return this._buildFetchTransaction(e,n)}delete(e){let t=this._buildTransactionDetails("DELETE",null);return fetch(e,t).then(e=>{if(e.ok)return!0;throw new Error("A transactional error has been happened.")})}_buildTransactionHeaders(){return new Headers({"Content-type":"Application/json",Authorization:this.token})}_buildTransactionDetails(e,t){return{method:e,body:t,headers:this._buildTransactionHeaders()}}_buildFetchTransaction(e,t){return fetch(e,t).then(e=>{if(e.ok)return e.json().then(e=>e).catch(e=>!0);throw new Error("A transactional error has been happened.")})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(0);class a extends s.a{updateFields(){document.querySelector(this._tag+" .fields").innerHTML="",document.querySelector(this._tag+" .fields").appendChild(this._template())}submit(){document.querySelector(this._tag).submit()}reset(){document.querySelector(this._tag).reset()}getData(){let e=[];return $(this._tag).serializeArray().forEach(t=>{e[t.name]=t.value}),e}getDataAsParams(){return $(this._tag).serialize()}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".fields").appendChild(this._info.initialContent),this._info.buttons&&this._info.initialButtons&&this._info.initialButtons.forEach(e=>this._component.querySelector(".buttons").appendChild(e))}_base(e){return`\n        <form id=${e.id} ${e.formClass?`class='${e.formClass}'`:""}>\n           <div class='fields'></div>\n           <div class='buttons'>\n                ${e.defaultButtons?'\n                <button type="submit" class="btn btn-primary">Salvar</button>\n                <button type="reset" class="btn btn-secondary">Limpar</button>\n                ':""}\n           </div>\n        </form>\n        `}_template(){throw new Error("the method fieldsTempalte must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1);var s=n(0);class a extends s.a{show(){$(this._tag).modal("show")}hide(){$(this._tag).modal("hide")}updateContent(e){document.querySelector(this._tag+" .modal-body").innerHTML="",document.querySelector(this._tag+" .modal-body").appendChild(e)}cleanContent(){document.querySelector(this._tag+" .modal-body").innerHTML=""}updateContentText(e){document.querySelector(this._tag+" .modal-body").innerHTML="<pre>"+e+"</pre>"}updateFooter(e){document.querySelector(this._tag+" .modal-footer").innerHTML="",document.querySelector(this._tag+" .modal-footer").appendChild(e)}cleanFooter(){document.querySelector(this._tag+" .modal-footer").innerHTML=""}get contentSelector(){return this._tag+" .modal-body"}_init(){super._init(),this._info.initialContent&&this._component.querySelector(".modal-body").appendChild(this._info.initialContent),this._info.footer&&this._info.initialFooter&&this._component.querySelector(".modal-footer").appendChild(this._info.initialFooter)}_initListeners(e){e&&e.forEach(e=>{$(this._component).on(e.type,e.action)})}_base(e){return`\n        <div id="${e.id}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="${e.label?e.label:"myLargeModal"}" aria-hidden="true">\n            <div class="modal-dialog ${e.modalClass?e.modalClass:""}" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">${e.title}</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n            \n                    <div class="modal-body">\n                    </div>\n\n                    ${e.footer?'\n                    <div class="modal-footer">\n                        \n                    </div>\n                    ':""}\n                </div>\n            </div>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(4);class a{constructor(){this._serverURL="http://localhost:8080/auth",this._webtoken="msaloonwbtoken",this._http=new s.a}hasValidToken(){return this._http.get(this._serverURL)}authenticate(e){let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"Application/json"}};return fetch(this._serverURL,t).then(e=>{if(e.ok&&200==e.status)return e.json();throw new Error("The signin data is not correct")}).then(e=>{this._http.addToken(e.type,e.token)})}logout(){this._http.cleanToken()}redirectToLoginPage(){window.location.href="/login.html"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{equals(e){throw new Error("The equals method must be implemented")}equalsFor(e){throw new Error("The equalsFor method must be implemented")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{static create(e,t,n){return new Proxy(e,{get:(e,a,i)=>t.includes(a)&&s._isFuntion(e[a])?function(){let t=Reflect.apply(e[a],e,arguments);return n(e),t}:Reflect.get(e,a,i),set(e,s,a,i){let r=Reflect.set(e,s,a,i);return t.includes(s)&&n(e),r}})}static _isFuntion(e){return typeof e==typeof Function}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(0);class a extends s.a{constructor(e){super(e)}_base(e){return'\n        <nav class="sidebar">\n          <div class="sidebar-sticky">\n            <ul class="nav flex-column">\n              <li class="nav-item">\n                <a class="nav-link active" href="./schedule.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>\n                  Dashboard <span class="sr-only">(current)</span>\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./customers.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>\n                  Clientes\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./professionals.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Profissionais\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./vendors.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Fornecedores\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./purchases.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Compras\n                </a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="./appointments.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>\n                  Atendimentos (Consultas)\n                </a>\n              </li>\n            </ul>\n    \n            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n              <span>Minha Conta</span>\n            </h6>\n            <ul class="nav flex-column mb-2">\n              <li class="nav-item">\n                <a class="nav-link" href="./profile.html">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>\n                  Meu Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </nav>\n        '}}class i extends s.a{constructor(e,t){super(e),this._initHeaderNavigation(t)}_initHeaderNavigation(e){this._component.querySelector("a.logout").addEventListener(e.type,e.action)}_base(e){return'\n        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\n            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">My Saloon Web</a>\n            <input class="form-control form-control-dark w-100" type="text" placeholder="Pesquisar" aria-label="Pesquisar">\n            <ul class="navbar-nav px-3">\n                <li class="nav-item text-nowrap">\n                <a class="nav-link logout" href="#">Logoff</a>\n                </li>\n            </ul>\n        </nav>\n        '}}var r=n(2),o=n(7),l=n(1);class d extends s.a{constructor(){super("#headerNavigation"),this._initLoaderComponent()}start(){this._component.appendChild(this._loaderComponent),this._component.classList.add("pre-loader-running")}stop(){this._component.innerHTML="",this._component.classList.remove("pre-loader-running")}run(e){this.start(),e.then(()=>{this.stop()})}_initLoaderComponent(){this._loaderComponent=l.a.parse('\n        <div class="loader-panel">\n            <div id="loader4">\n                <span class="loader loader-1"></span>\n                <span class="loader loader-2"></span>\n                <span class="loader loader-3"></span>\n                <span class="loader loader-4"></span>\n            </div>\n        </div>\n        ')}_base(){return'\n        <div class="row" id="preLoader">\n            \n        </div>\n        '}}class c{constructor(){this._preLoader=new d,this._authService=new o.a,this._validAuthenticatedClient(),this._headerNav=new i("#headerNavigation",new r.a("click",e=>{this.doLogoff()})),this._dashboardNav=new a("#dashboardNavigation"),this._init()}doLogoff(){this._authService.logout(),this._authService.redirectToLoginPage()}_init(){throw new Error("the _init() method must be implemented")}_validAuthenticatedClient(){this._authService.hasValidToken().catch(()=>{this._authService.redirectToLoginPage()})}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(8);class a extends s.a{constructor(e,t,n,s,a,i=""){super(),this._name=e,this._residencialPhone=t,this._cellphone=n,this._departament=s,this._id=i,this._email=a}equals(e){return this._id==e.id}equalsFor(e){return this._id==e}get name(){return this._name}get residencialPhone(){return this._residencialPhone}get cellphone(){return this._cellphone}get departament(){return this._departament}get email(){return this._email}get id(){return this._id}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(9);class a{constructor(e,t,...n){let a=s.a.create(e,n,e=>t.update(e));return t.update(e),a}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this._title="",this._message="",this._type="primary"}update(e,t="",n="primary"){this._title=t,this._message=e,this._type=n}get title(){return this._title}get message(){return this._message}get type(){return this._type}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s extends class{constructor(e){this._element=e}_template(e){throw new Error("Template method must be implemented")}update(e){this._element.innerHTML=this._template(e)}}{_template(e){return`\n        <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n            <h4 class="alert-heading">${e.title}</h4>\n            <p class='text-muted'>${e.message}</p>\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n        </div>\n        `}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(12),a=(n(11),n(4));class i{constructor(){this._serverURL="http://localhost:8080/professionals",this._http=new a.a}getAllProfessionals(){let e=this._serverURL;return this._http.get(e).then(e=>e.map(e=>this._getProfessionalFromData(e)))}getProfessionalByID(e){let t=`${this._serverURL}/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e)).catch(e=>{throw console.log(e),new Error("Ocorreu um error na comunição com o servidor e não foi possivel encontrar o profissional solicitado")})}createProfessional(e){let t=this._serverURL;return this._http.post(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}updateProfessional(e){let t=`${this._serverURL}/${e.id}`;return this._http.put(t,JSON.stringify(e)).then(e=>this._getProfessionalFromData(e))}deteleProfessional(e){let t=`${this._serverURL}/${e}`;return this._http.delete(t)}getProfessionalByEmail(e){let t=`${this._serverURL}/email/${e}`;return this._http.get(t).then(e=>this._getProfessionalFromData(e))}restorePassword(e){return this._http.post("http://localhost:8080/accounts/restore",JSON.stringify({email:e}))}resetPassword(e){return this._http.post("http://localhost:8080/accounts/reset",JSON.stringify({password:e}))}_getProfessionalFromData(e){return new s.a(e.name,e.residencialPhone,e.cellphone,e.department,e.email,e.id)}}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(5);class a{constructor(e,t,n,s,a,i=""){this.name=e,this.residencialPhone=t,this.cellphone=n,this.department=s,this.email=a,this.id=i}}var i=n(1),r=n(12);class o extends s.a{constructor(e,t=!1,...n){super(e,{id:"professionalForm",defaultButtons:t,listeners:n}),this._professional=new r.a,this.updateFields()}set professional(e){this._professional=e,this.updateFields()}get professional(){let e=this.getData();return new a(e.name,e.residencialPhone,e.cellphone,e.departament,e.email,e.id)}_template(){let e=`\n            <div>\n                <input type="hidden" class="form-control" name="id" value="${this._professional.id?this._professional.id:""}">\n                <div class="form-group">\n                    <label for="name">Nome</label>\n                    <input type="text" min="3" max="20" class="form-control" id="name" name="name" \n                    placeholder="Maria Souza Silva" value="${this._professional.name?this._professional.name:""}">\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                    <label for="residencialPhone">Telefone</label>\n                    <input type="text" class="form-control" name="residencialPhone" value="${this._professional.residencialPhone?this._professional.residencialPhone:""}">\n                    </div>\n                    <div class="form-group col-md-6">\n                    <label for="cellphone">Celular</label>\n                    <input type="text" class="form-control" name="cellphone" value="${this._professional.cellphone?this._professional.cellphone:""}">\n                    </div>\n                </div>\n\n                <div class="form-row">\n                    <div class="form-group col-md-6">\n                    <label for="departament">Àrea de Atuação</label>\n                    <select class="form-control" name="departament">\n                        <option value="CABELELEIRA" ${"CABELELEIRA"==this._professional.departament?"selected":""}>Cabeleleira</option>\n                        <option value="MANICURE" ${"MANICURE"==this._professional.departament?"selected":""}>Manicure</option>\n                        <option value="DESIGNER_SOBRANCELHAS" ${"DESIGNER_SOBRANCELHAS"==this._professional.departament?"selected":""}>Design de Sobrancelhas</option>\n                        <option value="DEPILADORA" ${"DEPILADORA"==this._professional.departament?"selected":""}>Depiladora</option>\n                        <option value="ESTETICISTA" ${"ESTETICISTA"==this._professional.departament?"selected":""}>Esteticista</option>\n                    </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="email">E-mail</label>\n                    <input type="email" min="3" max="20" class="form-control" name="email" \n                        placeholder="maria.silva@gmail.com" value="${this._professional.email?this._professional.email:""}">\n                </div>\n            </div>\n        `;return i.a.parse(e)}}},,,,,,,,,function(e,t,n){"use strict";n.r(t);var s=n(10),a=n(29),i=n(2),r=n(17),o=n(14),l=n(15),d=n(16),c=n(4),h=n(6),u=n(5),p=n(1);class m extends u.a{constructor(e,...t){super(e,{id:"pwdResetForm",defaultButtons:!0,listeners:t}),this.updateFields()}_template(){return p.a.parse('\n        <div class="form-group">\n          <label for="password">Senha</label>\n          <input type="password" name="password" class="form-control" aria-describedby="passwordHelpInline">\n          <small id="passwordHelpInline" class="text-muted">\n            Deve conter entre 5 e 20 caracteres\n          </small>\n        </div>\n        ')}}class f extends s.a{_init(){this._service=new r.a,this._initMessages(),this._initProfilePanel(),this._initPasswordResetModal()}_initMessages(){this._message=new o.a(new l.a,new d.a(document.querySelector("#alertMessage")),"update")}_initProfilePanel(){this._profileForm=new a.a("#profileForm",!0,new i.a("submit",e=>{e.preventDefault(),this.saveProfile()}));let e=(new c.a).getStoredItem("email");this._preLoader.run(this._service.getProfessionalByEmail(e).then(e=>{this._profileForm.professional=e}))}_initPasswordResetModal(){this._passwordResetModal=new h.a("main",{id:"pwdresetModal",title:"Resetar Minha Senha",footer:!1}),this._passwordResetForm=new m(this._passwordResetModal.contentSelector,new i.a("submit",e=>{e.preventDefault(),this.resetPassword()})),document.querySelector(".btn-reset-password").addEventListener("click",e=>{e.preventDefault(),this._showPasswordResetModal()})}_showPasswordResetModal(){this._passwordResetForm.reset(),this._passwordResetModal.show()}resetPassword(){let e=this._passwordResetForm.getData().password;this._preLoader.run(this._service.resetPassword(e).then(()=>{this._message.update("","Sua senha foi alterada com sucesso","success"),this._passwordResetModal.hide()}))}saveProfile(){let e=this._profileForm.professional;this._preLoader.run(this._service.updateProfessional(e).then(e=>{this._message.update("","Perfil atualizado com sucesso","success")}))}}new f}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL0RPTVBhcnNlclV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvSHR0cEhlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Gb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL01vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblRva2VuU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL01vZGVsLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL1Byb3h5RmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EYXNoYm9hcmROYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0hlYWRlck5hdmlnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUHJlTG9hZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9EZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1Byb2Zlc3Npb25hbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9CaW5kUHJveHlNb2RlbFZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9BbGVydE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0FsZXJ0TWVzc2FnZVZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL01vZGVsVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvUHJvZmVzc2lvbmFsU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHRvcy9Qcm9mZXNzaW9uYWxEVE8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Byb2Zlc3Npb25hbEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Bhc3N3b3JkUmVzZXRGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9Qcm9maWxlQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvZmlsZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbXBvbmVudCIsInBhcmVudFNlbGVjdG9yIiwiaW5mbyIsInRoaXMiLCJfY29tcG9uZW50IiwicGFyc2UiLCJfYmFzZSIsIl90YWciLCJpZCIsIl9wYXJlbnRTZWxlY3RvciIsIl9pbmZvIiwiX2luaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsIl9pbml0TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJhY3Rpb24iLCJFcnJvciIsIkRPTVBhcnNlclV0aWwiLCJodG1sVGV4dCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRvY3VtZW50RWxlbWVudCIsImZpcnN0Q2hpbGQiLCJMaXN0ZW5lckFjdGlvbiIsIl90eXBlIiwiX2FjdGlvbiIsIkh0dHBIZWxwZXIiLCJ0b2tlbiIsImRhdGEiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibGFiZWwiLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJ0cmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMiLCJfYnVpbGRGZXRjaFRyYW5zYWN0aW9uIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJIZWFkZXJzIiwibWV0aG9kIiwiX2J1aWxkVHJhbnNhY3Rpb25IZWFkZXJzIiwianNvbiIsImNhdGNoIiwiZXJyIiwiRm9ybSIsImlubmVySFRNTCIsIl90ZW1wbGF0ZSIsInN1Ym1pdCIsInJlc2V0IiwiJCIsInNlcmlhbGl6ZUFycmF5IiwiaW5wdXQiLCJzZXJpYWxpemUiLCJzdXBlciIsImluaXRpYWxDb250ZW50IiwiYnV0dG9ucyIsImluaXRpYWxCdXR0b25zIiwiYnV0dG9uIiwiZm9ybUNsYXNzIiwiZGVmYXVsdEJ1dHRvbnMiLCJNb2RhbCIsIm1vZGFsIiwiY29udGVudCIsImZvb3RlciIsImluaXRpYWxGb290ZXIiLCJvbiIsIm1vZGFsQ2xhc3MiLCJ0aXRsZSIsIkF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIiwiX3NlcnZlclVSTCIsIl93ZWJ0b2tlbiIsIl9odHRwIiwiYXV0aERUTyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJhZGRUb2tlbiIsImNsZWFuVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJNb2RlbCIsIm90aGVyIiwiYXR0cmlidXRlIiwiUHJveHlGYWN0b3J5IiwicHJvcHMiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImluY2x1ZGVzIiwiX2lzRnVudGlvbiIsInJlc3VsdCIsIlJlZmxlY3QiLCJhcHBseSIsImFyZ3VtZW50cyIsInNldCIsImZ1bmMiLCJsb2dvZmZBY3Rpb24iLCJfaW5pdEhlYWRlck5hdmlnYXRpb24iLCJfaW5pdExvYWRlckNvbXBvbmVudCIsIl9sb2FkZXJDb21wb25lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJwcm9taXNzZSIsInN0YXJ0Iiwic3RvcCIsIl9wcmVMb2FkZXIiLCJfYXV0aFNlcnZpY2UiLCJfdmFsaWRBdXRoZW50aWNhdGVkQ2xpZW50IiwiX2hlYWRlck5hdiIsImV2ZW50IiwiZG9Mb2dvZmYiLCJfZGFzaGJvYXJkTmF2IiwibG9nb3V0IiwicmVkaXJlY3RUb0xvZ2luUGFnZSIsImhhc1ZhbGlkVG9rZW4iLCJQcm9mZXNzaW9uYWwiLCJyZXNpZGVuY2lhbFBob25lIiwiY2VsbHBob25lIiwiZGVwYXJ0YW1lbnQiLCJlbWFpbCIsIl9uYW1lIiwiX3Jlc2lkZW5jaWFsUGhvbmUiLCJfY2VsbHBob25lIiwiX2RlcGFydGFtZW50IiwiX2lkIiwiX2VtYWlsIiwiQmluZFByb3h5TW9kZWxWaWV3IiwibW9kZWwiLCJ2aWV3IiwicHJveHkiLCJ1cGRhdGUiLCJBbGVydE1lc3NhZ2UiLCJfdGl0bGUiLCJfbWVzc2FnZSIsIm1lc3NhZ2UiLCJhbGVydFR5cGUiLCJ2aWV3RWxlbWVudCIsIl9lbGVtZW50IiwiUHJvZmVzc2lvbmFsU2VydmljZSIsImRhdGFBcnJheSIsIm1hcCIsIl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInByb2Zlc3Npb25hbER0byIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJwYXNzd29yZCIsIlByb2Zlc3Npb25hbERUTyIsImRlcGFydG1lbnQiLCJfcHJvZmVzc2lvbmFsIiwidXBkYXRlRmllbGRzIiwicHJvZmVzc2lvbmFsIiwiZ2V0RGF0YSIsInRlbXBsYXRlIiwiRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIiLCJfc2VydmljZSIsIl9pbml0TWVzc2FnZXMiLCJfaW5pdFByb2ZpbGVQYW5lbCIsIl9pbml0UGFzc3dvcmRSZXNldE1vZGFsIiwiQWxlcnRNZXNzYWdlVmlldyIsIl9wcm9maWxlRm9ybSIsIlByb2Zlc3Npb25hbEZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsInNhdmVQcm9maWxlIiwiZ2V0U3RvcmVkSXRlbSIsInJ1biIsImdldFByb2Zlc3Npb25hbEJ5RW1haWwiLCJwcm9mZXNzaW9udGFsIiwiX3Bhc3N3b3JkUmVzZXRNb2RhbCIsIl9wYXNzd29yZFJlc2V0Rm9ybSIsImNvbnRlbnRTZWxlY3RvciIsInJlc2V0UGFzc3dvcmQiLCJfc2hvd1Bhc3N3b3JkUmVzZXRNb2RhbCIsInNob3ciLCJoaWRlIiwidXBkYXRlUHJvZmVzc2lvbmFsIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FB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QkFBb0JNLFVBS3pDLGNBQ0ksSUFBSXZCLEVBQWVuSyxLQUFLNEssYUFBYVQsYUFDckNuSyxLQUFLa0gsV0FBVytELElBQ1pqTCxLQUFLdUssU0FBU29CLG1CQUFtQnhCLEdBQzVCekgsS0FBS3lILElBQ0ZuSyxLQUFLOEksU0FBU0gsT0FBTyxHQUFJLGdDQUFpQyxlQ2xGN0QsSUFBSSIsImZpbGUiOiJwcm9maWxlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzOCk7XG4iLCJpbXBvcnQgRE9NUGFyc2VyVXRpbCBmcm9tIFwiLi4vaGVscGVycy9ET01QYXJzZXJVdGlsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U2VsZWN0b3IsIGluZm89e30pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBET01QYXJzZXJVdGlsLnBhcnNlKHRoaXMuX2Jhc2UoaW5mbykpO1xyXG4gICAgICAgIHRoaXMuX3RhZyA9IGAjJHtpbmZvLmlkfWA7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50U2VsZWN0b3IgPSBwYXJlbnRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbmZvID0gaW5mbztcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BhcmVudFNlbGVjdG9yKS5hcHBlbmRDaGlsZCh0aGlzLl9jb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHRoaXMuX2luaXRMaXN0ZW5lcnModGhpcy5faW5mby5saXN0ZW5lcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0TGlzdGVuZXJzKGxpc3RlbmVycykge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuYWN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBtZXRob2QgZmllbGRzVGVtcGFsdGUgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUGFyc2VyVXRpbCB7XHJcbiAgICBzdGF0aWMgcGFyc2UoaHRtbFRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sVGV4dCwgJ3RleHQvaHRtbCcpLmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKGBib2R5YCkuZmlyc3RDaGlsZDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RlbmVyQWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRmllbGRFcnJvciBmcm9tIFwiLi4vZm9ybXMvRmllbGRFcnJvclwiO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwSGVscGVyIHtcclxuICAgIGFkZFRva2VuKHR5cGUsIHRva2VuKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBgJHt0eXBlfSAke3Rva2VufWA7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtc2Fsb29ud2J0b2tlbicsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3JlSXRlbShsYWJlbCwgdmFsdWUpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obGFiZWwsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhblRva2VuKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXNhbG9vbndidG9rZW4nLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXNhbG9vbndidG9rZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yZWRJdGVtKGxhYmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsYWJlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUE9TVCcsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGVuZHBvaW50KSB7XHJcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uRGV0YWlscyA9IHRoaXMuX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKCdHRVQnLCBudWxsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRGZXRjaFRyYW5zYWN0aW9uKGVuZHBvaW50LCB0cmFuc2FjdGlvbkRldGFpbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1dChlbmRwb2ludCwgZGF0YSkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkRldGFpbHMgPSB0aGlzLl9idWlsZFRyYW5zYWN0aW9uRGV0YWlscygnUFVUJywgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkRmV0Y2hUcmFuc2FjdGlvbihlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoZW5kcG9pbnQpIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0gdGhpcy5fYnVpbGRUcmFuc2FjdGlvbkRldGFpbHMoJ0RFTEVURScsIG51bGwpO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0cmFuc2FjdGlvbmFsIGVycm9yIGhhcyBiZWVuIGhhcHBlbmVkLicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYnVpbGRUcmFuc2FjdGlvbkhlYWRlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXJzKHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdBcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiB0aGlzLnRva2VuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2J1aWxkVHJhbnNhY3Rpb25EZXRhaWxzKG1ldGhvZCwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdtZXRob2QnOiBtZXRob2QsXHJcbiAgICAgICAgICAgICdib2R5JzogZGF0YSxcclxuICAgICAgICAgICAgJ2hlYWRlcnMnOiB0aGlzLl9idWlsZFRyYW5zYWN0aW9uSGVhZGVycygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZEZldGNoVHJhbnNhY3Rpb24oZW5kcG9pbnQsIHRyYW5zYWN0aW9uRGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChlbmRwb2ludCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oZGF0YSA9PiAgZGF0YSkuY2F0Y2goZXJyID0+IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdHJhbnNhY3Rpb25hbCBlcnJvciBoYXMgYmVlbiBoYXBwZW5lZC4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSBleHRlbmRzIENvbXBvbmVudHtcclxuICAgICAvKiBcclxuICAgICAgICBJbmZvIHtcclxuICAgICAgICAgICAgXCJpZFwiOiBmb3JtIGlkIGF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgXCJmb3JtQ2xhc3NcIjogZm9ybSBjbGFzcyBleC4gJ2Zvcm0taG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbENvbnRlbnRcIjogZm9ybSBmaWVsZHMsXHJcbiAgICAgICAgICAgIFwiYnV0dG9uc1wiOiB0cnVlL2ZhbHNlIGZvciBmb3JtIGJ1dHRvbnMsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEJ1dHRvbnNcIjogZm9yIGluaXRpYWwgYnV0dG9ucyBjb250ZW50LFxyXG4gICAgICAgICAgICBcImRlZmF1bHRCdXR0b25zXCI6IHRydWUvZmFsc2UgZm9yIGRlZmF1bHQgYnV0dG9ucyxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBmb3JtIGFjdGlvbnNcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgdXBkYXRlRmllbGRzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAuZmllbGRzYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5maWVsZHNgKS5hcHBlbmRDaGlsZCh0aGlzLl90ZW1wbGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90YWcpLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGFnKS5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcclxuICAgICAgICAkKHRoaXMuX3RhZykuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGFBc1BhcmFtcygpIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLl90YWcpLnNlcmlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHN1cGVyLl9pbml0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pbmZvLmluaXRpYWxDb250ZW50KSBcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmllbGRzXCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5idXR0b25zICYmIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMpXHJcbiAgICAgICAgICAgIHRoaXMuX2luZm8uaW5pdGlhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25zXCIpLmFwcGVuZENoaWxkKGJ1dHRvbikpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8Zm9ybSBpZD0ke2luZm8uaWR9ICR7aW5mby5mb3JtQ2xhc3MgPyBgY2xhc3M9JyR7aW5mby5mb3JtQ2xhc3N9J2AgOiAnJ30+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz0nZmllbGRzJz48L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPSdidXR0b25zJz5cclxuICAgICAgICAgICAgICAgICR7aW5mby5kZWZhdWx0QnV0dG9ucyA/IGBcclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+U2FsdmFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJyZXNldFwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5MaW1wYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIGAgOiAnJ31cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgbWV0aG9kIGZpZWxkc1RlbXBhbHRlIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgQ29tcG9uZW50e1xyXG4gICAgLyogXHJcbiAgICAgICAgSW5mbyB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogbW9kYWwgaWQgYXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcImxhYmVsXCI6IG1vZGFsIGFyaWEtbGFiZWxsZWRieSBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIFwibW9kYWxDbGFzc1wiOiBtb2RhbCBjbGFzcyBleC4gJ21vZGFsLWxnJyxcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBtb2RhbCB0aXRsZSxcclxuICAgICAgICAgICAgXCJpbml0aWFsQ29udGVudFwiOiBtb2RhbCBib2R5LFxyXG4gICAgICAgICAgICBcImZvb3RlclwiOiB0cnVlL2ZhbHNlIGZvciBtb2RhbCBmb290ZXIsXHJcbiAgICAgICAgICAgIFwiaW5pdGlhbEZvb3RlclwiOiBmb3IgaW5pdGlhbCBmb290ZXIgY29udGVudCxcclxuICAgICAgICAgICAgXCJsaXN0ZW5lcnNcIjogbGlzdGVuZXJzIGZvciBtb2RhbCBhY3Rpb25zXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgJCh0aGlzLl90YWcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICAkKHRoaXMuX3RhZykubW9kYWwoJ2hpZGUnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVDb250ZW50KGNvbnRlbnQpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3RhZ30gLm1vZGFsLWJvZHlgKS5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkNvbnRlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1ib2R5YCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29udGVudFRleHQoY29udGVudCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWApLmlubmVySFRNTCA9ICc8cHJlPicgKyBjb250ZW50ICsgJzwvcHJlPic7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRm9vdGVyKGZvb3Rlcikge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl90YWd9IC5tb2RhbC1mb290ZXJgKS5hcHBlbmRDaGlsZChmb290ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuRm9vdGVyKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fdGFnfSAubW9kYWwtZm9vdGVyYCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRlbnRTZWxlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fdGFnfSAubW9kYWwtYm9keWA7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2luaXQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpIFxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib2R5XCIpLmFwcGVuZENoaWxkKHRoaXMuX2luZm8uaW5pdGlhbENvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5mby5mb290ZXIgJiYgdGhpcy5faW5mby5pbml0aWFsRm9vdGVyKVxyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1mb290ZXJcIikuYXBwZW5kQ2hpbGQodGhpcy5faW5mby5pbml0aWFsRm9vdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgICAgICQodGhpcy5fY29tcG9uZW50KS5vbihsaXN0ZW5lci50eXBlLCBsaXN0ZW5lci5hY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2Jhc2UoaW5mbykge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBpZD1cIiR7aW5mby5pZH1cIiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIiR7aW5mby5sYWJlbCA/IGluZm8ubGFiZWwgOiAnbXlMYXJnZU1vZGFsJ31cIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyAke2luZm8ubW9kYWxDbGFzcyA/IGluZm8ubW9kYWxDbGFzcyA6ICcnfVwiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JHtpbmZvLnRpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5mby5mb290ZXIgPyBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufSIsImltcG9ydCBIdHRwSGVscGVyIGZyb20gXCIuLi9oZWxwZXJzL0h0dHBIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhlbnRpY2F0aW9uVG9rZW5TZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3NlcnZlclVSTCA9IGAke1NFUlZJQ0VfVVJMfS9hdXRoYDtcclxuICAgICAgICB0aGlzLl93ZWJ0b2tlbiA9ICdtc2Fsb29ud2J0b2tlbic7XHJcblxyXG4gICAgICAgIHRoaXMuX2h0dHAgPSBuZXcgSHR0cEhlbHBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc1ZhbGlkVG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX3NlcnZlclVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXV0aGVudGljYXRlKGF1dGhEVE8pIHtcclxuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAnbWV0aG9kJzogJ1BPU1QnLFxyXG4gICAgICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KGF1dGhEVE8pLFxyXG4gICAgICAgICAgICAnaGVhZGVycyc6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnQXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3NlcnZlclVSTCwgdHJhbnNhY3Rpb25EZXRhaWxzKVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vayAmJiByZXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNpZ25pbiBkYXRhIGlzIG5vdCBjb3JyZWN0XCIpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faHR0cC5hZGRUb2tlbihkYXRhLnR5cGUsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgdGhpcy5faHR0cC5jbGVhblRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVkaXJlY3RUb0xvZ2luUGFnZSgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4uaHRtbCdcclxuICAgIH0gIFxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGVxdWFscyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFsc0ZvcihhdHRyaWJ1dGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlcXVhbHNGb3IgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3h5RmFjdG9yeSB7XHJcbiAgICBzdGF0aWMgY3JlYXRlKG9iamVjdCwgcHJvcHMsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkob2JqZWN0LCB7XHJcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkgJiYgUHJveHlGYWN0b3J5Ll9pc0Z1bnRpb24odGFyZ2V0W3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0W3Byb3BdLCB0YXJnZXQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5jbHVkZXMocHJvcCkpIGFjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIF9pc0Z1bnRpb24oZnVuYykge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YoZnVuYykgPT0gdHlwZW9mKEZ1bmN0aW9uKTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmROYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKGluZm8pIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxuYXYgY2xhc3M9XCJzaWRlYmFyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci1zdGlja3lcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2IGZsZXgtY29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmsgYWN0aXZlXCIgaHJlZj1cIi4vc2NoZWR1bGUuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItaG9tZVwiPjxwYXRoIGQ9XCJNMyA5bDktNyA5IDd2MTFhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCI5IDIyIDkgMTIgMTUgMTIgMTUgMjJcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBEYXNoYm9hcmQgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+KGN1cnJlbnQpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9jdXN0b21lcnMuaHRtbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItdXNlcnNcIj48cGF0aCBkPVwiTTE3IDIxdi0yYTQgNCAwIDAgMC00LTRINWE0IDQgMCAwIDAtNCA0djJcIj48L3BhdGg+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjdcIiByPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGQ9XCJNMjMgMjF2LTJhNCA0IDAgMCAwLTMtMy44N1wiPjwvcGF0aD48cGF0aCBkPVwiTTE2IDMuMTNhNCA0IDAgMCAxIDAgNy43NVwiPjwvcGF0aD48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQ2xpZW50ZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHJvZmVzc2lvbmFscy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgUHJvZmlzc2lvbmFpc1xyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi92ZW5kb3JzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBGb3JuZWNlZG9yZXNcclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIi4vcHVyY2hhc2VzLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGVcIj48cGF0aCBkPVwiTTEzIDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY5elwiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPVwiMTMgMiAxMyA5IDIwIDlcIj48L3BvbHlsaW5lPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICBDb21wcmFzXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIuL2FwcG9pbnRtZW50cy5odG1sXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1maWxlXCI+PHBhdGggZD1cIk0xMyAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOXpcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjEzIDIgMTMgOSAyMCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQXRlbmRpbWVudG9zIChDb25zdWx0YXMpXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgIFxyXG4gICAgICAgICAgICA8aDYgY2xhc3M9XCJzaWRlYmFyLWhlYWRpbmcgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBweC0zIG10LTQgbWItMSB0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4+TWluaGEgQ29udGE8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvaDY+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm5hdiBmbGV4LWNvbHVtbiBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiLi9wcm9maWxlLmh0bWxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWZpbGUtdGV4dFwiPjxwYXRoIGQ9XCJNMTQgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjh6XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCIxNCAyIDE0IDggMjAgOFwiPjwvcG9seWxpbmU+PGxpbmUgeDE9XCIxNlwiIHkxPVwiMTNcIiB4Mj1cIjhcIiB5Mj1cIjEzXCI+PC9saW5lPjxsaW5lIHgxPVwiMTZcIiB5MT1cIjE3XCIgeDI9XCI4XCIgeTI9XCIxN1wiPjwvbGluZT48cG9seWxpbmUgcG9pbnRzPVwiMTAgOSA5IDkgOCA5XCI+PC9wb2x5bGluZT48L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgTWV1IFBlcmZpbFxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3RvciwgbG9nb2ZmQWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0SGVhZGVyTmF2aWdhdGlvbihsb2dvZmZBY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQucXVlcnlTZWxlY3RvcignYS5sb2dvdXQnKS5hZGRFdmVudExpc3RlbmVyKGxvZ29mZkFjdGlvbi50eXBlLCBsb2dvZmZBY3Rpb24uYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBfYmFzZShpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICA8bmF2IGNsYXNzPVwibmF2YmFyIG5hdmJhci1kYXJrIGZpeGVkLXRvcCBiZy1kYXJrIGZsZXgtbWQtbm93cmFwIHAtMCBzaGFkb3dcIj5cclxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXZiYXItYnJhbmQgY29sLXNtLTMgY29sLW1kLTIgbXItMFwiIGhyZWY9XCIjXCI+TXkgU2Fsb29uIFdlYjwvYT5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1kYXJrIHctMTAwXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBlc3F1aXNhclwiIGFyaWEtbGFiZWw9XCJQZXNxdWlzYXJcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2YmFyLW5hdiBweC0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSB0ZXh0LW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBsb2dvdXRcIiBocmVmPVwiI1wiPkxvZ29mZjwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgYFxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZUxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignI2hlYWRlck5hdmlnYXRpb24nKTtcclxuICAgICAgICB0aGlzLl9pbml0TG9hZGVyQ29tcG9uZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuX2xvYWRlckNvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3ByZS1sb2FkZXItcnVubmluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdwcmUtbG9hZGVyLXJ1bm5pbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBydW4ocHJvbWlzc2UpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgcHJvbWlzc2UudGhlbigoKSA9PiB7dGhpcy5zdG9wKCl9KTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExvYWRlckNvbXBvbmVudCgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRlci1wYW5lbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGVyNFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTFcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlciBsb2FkZXItMlwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyIGxvYWRlci0zXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkZXIgbG9hZGVyLTRcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHRoaXMuX2xvYWRlckNvbXBvbmVudCA9IERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9iYXNlKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIGlkPVwicHJlTG9hZGVyXCI+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IERhc2hib2FyZE5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9EYXNoYm9hcmROYXZpZ2F0aW9uJztcclxuaW1wb3J0IEhlYWRlck5hdmlnYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXJOYXZpZ2F0aW9uJztcclxuaW1wb3J0IExpc3RlbmVyQWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvTGlzdGVuZXJBY3Rpb24nO1xyXG5pbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UnO1xyXG5pbXBvcnQgUHJlTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvUHJlTG9hZGVyJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9wcmVMb2FkZXIgPSBuZXcgUHJlTG9hZGVyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRpb25Ub2tlblNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLl92YWxpZEF1dGhlbnRpY2F0ZWRDbGllbnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faGVhZGVyTmF2ID0gbmV3IEhlYWRlck5hdmlnYXRpb24oJyNoZWFkZXJOYXZpZ2F0aW9uJywgbmV3IExpc3RlbmVyQWN0aW9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kb0xvZ29mZigpO1xyXG4gICAgICAgIH0pKTsgICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLl9kYXNoYm9hcmROYXYgPSBuZXcgRGFzaGJvYXJkTmF2aWdhdGlvbignI2Rhc2hib2FyZE5hdmlnYXRpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvTG9nb2ZmKCkge1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLmxvZ291dCgpO1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLnJlZGlyZWN0VG9Mb2dpblBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBfaW5pdCgpIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3ZhbGlkQXV0aGVudGljYXRlZENsaWVudCgpIHtcclxuICAgICAgICB0aGlzLl9hdXRoU2VydmljZS5oYXNWYWxpZFRva2VuKClcclxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt0aGlzLl9hdXRoU2VydmljZS5yZWRpcmVjdFRvTG9naW5QYWdlKCl9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RlbCBmcm9tIFwiLi9Nb2RlbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsIGV4dGVuZHMgTW9kZWx7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCByZXNpZGVuY2lhbFBob25lLCBjZWxscGhvbmUsIGRlcGFydGFtZW50LCBlbWFpbCwgaWQ9JycpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3Jlc2lkZW5jaWFsUGhvbmUgPSByZXNpZGVuY2lhbFBob25lO1xyXG4gICAgICAgIHRoaXMuX2NlbGxwaG9uZSA9IGNlbGxwaG9uZTtcclxuICAgICAgICB0aGlzLl9kZXBhcnRhbWVudCA9IGRlcGFydGFtZW50O1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fZW1haWwgPSBlbWFpbDtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT0gb3RoZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzRm9yKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkID09IGlkOyBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVzaWRlbmNpYWxQaG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzaWRlbmNpYWxQaG9uZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2VsbHBob25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxscGhvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRlcGFydGFtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXBhcnRhbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW1haWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtYWlsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUHJveHkgZnJvbSAnLi9Qcm94eUZhY3RvcnknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaW5kUHJveHlNb2RlbFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIHZpZXcsIC4uLnByb3BzKSB7XHJcbiAgICAgICAgbGV0IHByb3h5ID0gUHJveHkuY3JlYXRlKG1vZGVsLCBwcm9wcywgbW9kZWwgPT4gdmlldy51cGRhdGUobW9kZWwpKTtcclxuICAgICAgICB2aWV3LnVwZGF0ZShtb2RlbCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsZXJ0TWVzc2FnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSAnJztcclxuICAgICAgICB0aGlzLl90eXBlID0gJ3ByaW1hcnknO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShtZXNzYWdlLCB0aXRsZT0nJywgYWxlcnRUeXBlPSdwcmltYXJ5Jykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IGFsZXJ0VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdGl0bGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtZXNzYWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZGVsVmlldyBmcm9tIFwiLi9Nb2RlbFZpZXdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsZXJ0TWVzc2FnZVZpZXcgZXh0ZW5kcyBNb2RlbFZpZXd7XHJcbiAgICBfdGVtcGxhdGUobW9kZWwpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC0ke21vZGVsLnR5cGV9IGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICA8aDQgY2xhc3M9XCJhbGVydC1oZWFkaW5nXCI+JHttb2RlbC50aXRsZX08L2g0PlxyXG4gICAgICAgICAgICA8cCBjbGFzcz0ndGV4dC1tdXRlZCc+JHttb2RlbC5tZXNzYWdlfTwvcD5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cImFsZXJ0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZXdFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHZpZXdFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF90ZW1wbGF0ZShtb2RlbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVtcGxhdGUgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUobW9kZWwpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX3RlbXBsYXRlKG1vZGVsKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQcm9mZXNzaW9uYWwgZnJvbSBcIi4uL21vZGVscy9Qcm9mZXNzaW9uYWxcIjtcclxuaW1wb3J0IEZpZWxkRXJyb3IgZnJvbSBcIi4uL2Zvcm1zL0ZpZWxkRXJyb3JcIjtcclxuaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2ZXJVUkwgPSBgJHtTRVJWSUNFX1VSTH0vcHJvZmVzc2lvbmFsc2A7XHJcbiAgICAgICAgdGhpcy5faHR0cCA9IG5ldyBIdHRwSGVscGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsUHJvZmVzc2lvbmFscygpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVUkw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KGVuZHBvaW50KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhQXJyYXkgPT4gZGF0YUFycmF5Lm1hcChkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvZmVzc2lvbmFsQnlJRChpZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtpZH1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLmdldChlbmRwb2ludClcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT2NvcnJldSB1bSBlcnJvciBuYSBjb211bmnDp8OjbyBjb20gbyBzZXJ2aWRvciBlIG7Do28gZm9pIHBvc3NpdmVsIGVuY29udHJhciBvIHByb2Zpc3Npb25hbCBzb2xpY2l0YWRvJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVByb2Zlc3Npb25hbChwcm9mZXNzaW9uYWxEdG8pIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLl9zZXJ2ZXJVUkw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkocHJvZmVzc2lvbmFsRHRvKSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUHJvZmVzc2lvbmFsKHByb2Zlc3Npb25hbER0bykge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke3RoaXMuX3NlcnZlclVSTH0vJHtwcm9mZXNzaW9uYWxEdG8uaWR9YDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucHV0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeShwcm9mZXNzaW9uYWxEdG8pKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHRoaXMuX2dldFByb2Zlc3Npb25hbEZyb21EYXRhKGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBkZXRlbGVQcm9mZXNzaW9uYWwoaWQpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVUkx9LyR7aWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5kZWxldGUoZW5kcG9pbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2Zlc3Npb25hbEJ5RW1haWwoZW1haWwpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSBgJHt0aGlzLl9zZXJ2ZXJVUkx9L2VtYWlsLyR7ZW1haWx9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQoZW5kcG9pbnQpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5fZ2V0UHJvZmVzc2lvbmFsRnJvbURhdGEoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmVQYXNzd29yZChlbWFpbCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke1NFUlZJQ0VfVVJMfS9hY2NvdW50cy9yZXN0b3JlYDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KGVuZHBvaW50LCBKU09OLnN0cmluZ2lmeSh7J2VtYWlsJzogZW1haWx9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRQYXNzd29yZChwYXNzd29yZCkge1xyXG4gICAgICAgIGxldCBlbmRwb2ludCA9IGAke1NFUlZJQ0VfVVJMfS9hY2NvdW50cy9yZXNldGA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdChlbmRwb2ludCwgSlNPTi5zdHJpbmdpZnkoeydwYXNzd29yZCc6IHBhc3N3b3JkfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRQcm9mZXNzaW9uYWxGcm9tRGF0YShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9mZXNzaW9uYWwoZGF0YVsnbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydkZXBhcnRtZW50J10sIGRhdGFbJ2VtYWlsJ10sIGRhdGFbJ2lkJ10pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmVzc2lvbmFsRFRPIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHJlc2lkZW5jaWFsUGhvbmUsIGNlbGxwaG9uZSwgZGVwYXJ0bWVudCwgZW1haWwsIGlkPScnKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnJlc2lkZW5jaWFsUGhvbmUgPSByZXNpZGVuY2lhbFBob25lO1xyXG4gICAgICAgIHRoaXMuY2VsbHBob25lID0gY2VsbHBob25lO1xyXG4gICAgICAgIHRoaXMuZGVwYXJ0bWVudCA9IGRlcGFydG1lbnQ7XHJcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxufSIsImltcG9ydCBGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybSdcclxuaW1wb3J0IFByb2Zlc3Npb25hbERUTyBmcm9tICcuLi9kdG9zL1Byb2Zlc3Npb25hbERUTyc7XHJcbmltcG9ydCBET01QYXJzZXJVdGlsIGZyb20gXCIuLi9oZWxwZXJzL0RPTVBhcnNlclV0aWxcIjtcclxuaW1wb3J0IFByb2Zlc3Npb25hbCBmcm9tICcuLi9tb2RlbHMvUHJvZmVzc2lvbmFsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2Zlc3Npb25hbEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCBkZWZhdWx0QnV0dG9ucz1mYWxzZSwgLi4ubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50U2VsZWN0b3IsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ3Byb2Zlc3Npb25hbEZvcm0nLFxyXG4gICAgICAgICAgICAnZGVmYXVsdEJ1dHRvbnMnOiBkZWZhdWx0QnV0dG9ucyxcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Byb2Zlc3Npb25hbCA9IG5ldyBQcm9mZXNzaW9uYWwoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpZWxkcygpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHByb2Zlc3Npb25hbChwcm9mZXNzaW9uYWwpIHtcclxuICAgICAgICB0aGlzLl9wcm9mZXNzaW9uYWwgPSBwcm9mZXNzaW9uYWw7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvZmVzc2lvbmFsKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9mZXNzaW9uYWxEVE8oZGF0YVsnbmFtZSddLCBkYXRhWydyZXNpZGVuY2lhbFBob25lJ10sIGRhdGFbJ2NlbGxwaG9uZSddLCBkYXRhWydkZXBhcnRhbWVudCddLCBkYXRhWydlbWFpbCddLCBkYXRhWydpZCddKTtcclxuICAgIH1cclxuXHJcbiAgICBfdGVtcGxhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJpZFwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwuaWQgPyB0aGlzLl9wcm9mZXNzaW9uYWwuaWQgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5hbWVcIj5Ob21lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBtaW49XCIzXCIgbWF4PVwiMjBcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwibmFtZVwiIG5hbWU9XCJuYW1lXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXJpYSBTb3V6YSBTaWx2YVwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwubmFtZSA/IHRoaXMuX3Byb2Zlc3Npb25hbC5uYW1lIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1yb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXNpZGVuY2lhbFBob25lXCI+VGVsZWZvbmU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cInJlc2lkZW5jaWFsUGhvbmVcIiB2YWx1ZT1cIiR7dGhpcy5fcHJvZmVzc2lvbmFsLnJlc2lkZW5jaWFsUGhvbmUgPyB0aGlzLl9wcm9mZXNzaW9uYWwucmVzaWRlbmNpYWxQaG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNlbGxwaG9uZVwiPkNlbHVsYXI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cImNlbGxwaG9uZVwiIHZhbHVlPVwiJHt0aGlzLl9wcm9mZXNzaW9uYWwuY2VsbHBob25lID8gdGhpcy5fcHJvZmVzc2lvbmFsLmNlbGxwaG9uZSA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGVwYXJ0YW1lbnRcIj7DgHJlYSBkZSBBdHVhw6fDo288L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiZGVwYXJ0YW1lbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNBQkVMRUxFSVJBXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ0NBQkVMRUxFSVJBJyA/ICdzZWxlY3RlZCcgOiAnJ30+Q2FiZWxlbGVpcmE8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1BTklDVVJFXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ01BTklDVVJFJyA/ICdzZWxlY3RlZCcgOiAnJ30+TWFuaWN1cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkRFU0lHTkVSX1NPQlJBTkNFTEhBU1wiICR7dGhpcy5fcHJvZmVzc2lvbmFsLmRlcGFydGFtZW50ID09ICdERVNJR05FUl9TT0JSQU5DRUxIQVMnID8gJ3NlbGVjdGVkJyA6ICcnfT5EZXNpZ24gZGUgU29icmFuY2VsaGFzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJERVBJTEFET1JBXCIgJHt0aGlzLl9wcm9mZXNzaW9uYWwuZGVwYXJ0YW1lbnQgPT0gJ0RFUElMQURPUkEnID8gJ3NlbGVjdGVkJyA6ICcnfT5EZXBpbGFkb3JhPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFU1RFVElDSVNUQVwiICR7dGhpcy5fcHJvZmVzc2lvbmFsLmRlcGFydGFtZW50ID09ICdFU1RFVElDSVNUQScgPyAnc2VsZWN0ZWQnIDogJyd9PkVzdGV0aWNpc3RhPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVtYWlsXCI+RS1tYWlsPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbWluPVwiM1wiIG1heD1cIjIwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwiZW1haWxcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJtYXJpYS5zaWx2YUBnbWFpbC5jb21cIiB2YWx1ZT1cIiR7dGhpcy5fcHJvZmVzc2lvbmFsLmVtYWlsID8gdGhpcy5fcHJvZmVzc2lvbmFsLmVtYWlsIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIERPTVBhcnNlclV0aWwucGFyc2UodGVtcGxhdGUpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1cIjtcclxuaW1wb3J0IERPTVBhcnNlclV0aWwgZnJvbSBcIi4uL2hlbHBlcnMvRE9NUGFyc2VyVXRpbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFzc3dvcmRSZXNldEZvcm0gZXh0ZW5kcyBGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNlbGVjdG9yLCAuLi5saXN0ZW5lcnMpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnRTZWxlY3Rvciwge1xyXG4gICAgICAgICAgICAnaWQnOiAncHdkUmVzZXRGb3JtJyxcclxuICAgICAgICAgICAgJ2RlZmF1bHRCdXR0b25zJzogdHJ1ZSxcclxuICAgICAgICAgICAgbGlzdGVuZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlRmllbGRzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF90ZW1wbGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJwYXNzd29yZFwiPlNlbmhhPC9sYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGFyaWEtZGVzY3JpYmVkYnk9XCJwYXNzd29yZEhlbHBJbmxpbmVcIj5cclxuICAgICAgICAgIDxzbWFsbCBpZD1cInBhc3N3b3JkSGVscElubGluZVwiIGNsYXNzPVwidGV4dC1tdXRlZFwiPlxyXG4gICAgICAgICAgICBEZXZlIGNvbnRlciBlbnRyZSA1IGUgMjAgY2FyYWN0ZXJlc1xyXG4gICAgICAgICAgPC9zbWFsbD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyVXRpbC5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXIgZnJvbSBcIi4vRGVmYXVsdERhc2hib2FyZENvbnRyb2xsZXJcIjtcclxuaW1wb3J0IFByb2Zlc3Npb25hbEZvcm0gZnJvbSBcIi4uL3ZpZXdzL1Byb2Zlc3Npb25hbEZvcm1cIjtcclxuaW1wb3J0IExpc3RlbmVyQWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL0xpc3RlbmVyQWN0aW9uXCI7XHJcbmltcG9ydCBQcm9mZXNzaW9uYWxTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9Qcm9mZXNzaW9uYWxTZXJ2aWNlXCI7XHJcbmltcG9ydCBCaW5kUHJveHlNb2RlbFZpZXcgZnJvbSBcIi4uL2hlbHBlcnMvQmluZFByb3h5TW9kZWxWaWV3XCI7XHJcbmltcG9ydCBBbGVydE1lc3NhZ2UgZnJvbSBcIi4uL21vZGVscy9BbGVydE1lc3NhZ2VcIjtcclxuaW1wb3J0IEFsZXJ0TWVzc2FnZVZpZXcgZnJvbSBcIi4uL3ZpZXdzL0FsZXJ0TWVzc2FnZVZpZXdcIjtcclxuaW1wb3J0IEh0dHBIZWxwZXIgZnJvbSBcIi4uL2hlbHBlcnMvSHR0cEhlbHBlclwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxcIjtcclxuaW1wb3J0IFBhc3N3b3JkUmVzZXRGb3JtIGZyb20gXCIuLi92aWV3cy9QYXNzd29yZFJlc2V0Rm9ybVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZUNvbnRyb2xsZXIgZXh0ZW5kcyBEZWZhdWx0RGFzaGJvYXJkQ29udHJvbGxlciB7XHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFByb2Zlc3Npb25hbFNlcnZpY2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdE1lc3NhZ2VzKCk7XHJcbiAgICAgICAgdGhpcy5faW5pdFByb2ZpbGVQYW5lbCgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRQYXNzd29yZFJlc2V0TW9kYWwoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2luaXRNZXNzYWdlcygpIHtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbmV3IEJpbmRQcm94eU1vZGVsVmlldyhuZXcgQWxlcnRNZXNzYWdlKCksXHJcbiAgICAgICAgICAgIG5ldyBBbGVydE1lc3NhZ2VWaWV3KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGVydE1lc3NhZ2UnKSksXHJcbiAgICAgICAgICAgICd1cGRhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFByb2ZpbGVQYW5lbCgpIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlRm9ybSA9IG5ldyBQcm9mZXNzaW9uYWxGb3JtKCcjcHJvZmlsZUZvcm0nLCB0cnVlLCBcclxuICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlUHJvZmlsZSgpO1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGVtYWlsID0gbmV3IEh0dHBIZWxwZXIoKS5nZXRTdG9yZWRJdGVtKCdlbWFpbCcpO1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UuZ2V0UHJvZmVzc2lvbmFsQnlFbWFpbChlbWFpbClcclxuICAgICAgICAgICAgICAgIC50aGVuKHByb2Zlc3Npb250YWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2ZpbGVGb3JtLnByb2Zlc3Npb25hbCA9IHByb2Zlc3Npb250YWw7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRQYXNzd29yZFJlc2V0TW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fcGFzc3dvcmRSZXNldE1vZGFsID0gbmV3IE1vZGFsKCdtYWluJywge1xyXG4gICAgICAgICAgICAnaWQnOiAncHdkcmVzZXRNb2RhbCcsXHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdSZXNldGFyIE1pbmhhIFNlbmhhJyxcclxuICAgICAgICAgICAgJ2Zvb3Rlcic6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Bhc3N3b3JkUmVzZXRGb3JtID0gbmV3IFBhc3N3b3JkUmVzZXRGb3JtKHRoaXMuX3Bhc3N3b3JkUmVzZXRNb2RhbC5jb250ZW50U2VsZWN0b3IsIFxyXG4gICAgICAgICAgICBuZXcgTGlzdGVuZXJBY3Rpb24oJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGFzc3dvcmQoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXJlc2V0LXBhc3N3b3JkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dQYXNzd29yZFJlc2V0TW9kYWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd1Bhc3N3b3JkUmVzZXRNb2RhbCgpIHtcclxuICAgICAgICB0aGlzLl9wYXNzd29yZFJlc2V0Rm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuX3Bhc3N3b3JkUmVzZXRNb2RhbC5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRQYXNzd29yZCgpIHtcclxuICAgICAgICBsZXQgcGFzc3dvcmQgPSB0aGlzLl9wYXNzd29yZFJlc2V0Rm9ybS5nZXREYXRhKCkucGFzc3dvcmQ7XHJcbiAgICAgICAgdGhpcy5fcHJlTG9hZGVyLnJ1bihcclxuICAgICAgICAgICAgdGhpcy5fc2VydmljZS5yZXNldFBhc3N3b3JkKHBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UudXBkYXRlKCcnLCAnU3VhIHNlbmhhIGZvaSBhbHRlcmFkYSBjb20gc3VjZXNzbycsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFzc3dvcmRSZXNldE1vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUHJvZmlsZSgpIHtcclxuICAgICAgICBsZXQgcHJvZmVzc2lvbmFsID0gdGhpcy5fcHJvZmlsZUZvcm0ucHJvZmVzc2lvbmFsO1xyXG4gICAgICAgIHRoaXMuX3ByZUxvYWRlci5ydW4oXHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UudXBkYXRlUHJvZmVzc2lvbmFsKHByb2Zlc3Npb25hbClcclxuICAgICAgICAgICAgICAgIC50aGVuKHByb2Zlc3Npb25hbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZS51cGRhdGUoJycsICdQZXJmaWwgYXR1YWxpemFkbyBjb20gc3VjZXNzbycsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUHJvZmlsZUNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvUHJvZmlsZUNvbnRyb2xsZXJcIjtcclxuXHJcbmxldCBjb250cm9sbGVyID0gbmV3IFByb2ZpbGVDb250cm9sbGVyKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==